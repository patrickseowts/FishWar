window.__require=function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return n(t[a][1][e]||e)},p,p.exports,e,t,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AnimationDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"63aebFBH31Hl7OBEWaRxJPV","AnimationDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clips=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.clips.length;t++)e.push(new i.CapturedRouteData(t,0,this.clips[t]));return e},__decorate([a(cc.AnimationClip)],t.prototype,"clips",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],AnimationHelper:[function(e,t,o){"use strict";cc._RF.push(t,"a6540JTf6VD+KcFveIeshNs","AnimationHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.animation=this.getComponent(cc.Animation)},t.prototype.PlayAnimation=function(e){var t=JSON.parse(e);this.animation.play(t.key)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],ApplierTestHelper:[function(e,t,o){"use strict";cc._RF.push(t,"d48d7U7lqxDub1M2faMmIb/","ApplierTestHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Applier/BaseRouteApplier"),n=e("./RouteData/RouteData"),r=e("./RouteManager"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pathId=0,t}return __extends(t,e),t.prototype.start=function(){r.RouteManager.Instance.ExecuteApplier(new n.ApplierExecuteData(this.getComponent(i.default),new n.RouteMethodExecuteData(n.RouteMethod.Linear,0,0,this.pathId)))},__decorate([l],t.prototype,"pathId",void 0),t=__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./Applier/BaseRouteApplier":"BaseRouteApplier","./RouteData/RouteData":"RouteData","./RouteManager":"RouteManager"}],AudioController:[function(e,t,o){"use strict";cc._RF.push(t,"0250fgf/1ZDR57y0VVSAWIs","AudioController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Utils/CommonDataHelper"),n=e("../Core/FishLogManager"),r=e("./AudioSource"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(){function e(){this.key="",this.clip=null}return Object.defineProperty(e.prototype,"Key",{get:function(){return this.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Clip",{get:function(){return this.clip},enumerable:!0,configurable:!0}),__decorate([l()],e.prototype,"key",void 0),__decorate([l({type:cc.AudioClip})],e.prototype,"clip",void 0),e=__decorate([s("AudioClipKeyReference")],e)}();o.AudioClipKeyReference=c;var p=function(){function e(e,t){this.source=null,this.timeOutTracker=-1,this.source=e,this.timeOutTracker=t}return Object.defineProperty(e.prototype,"Source",{get:function(){return this.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TimeOutTracker",{get:function(){return this.timeOutTracker},enumerable:!0,configurable:!0}),e}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.muteFlag=!1,t.clipReferences=[],t.playingSources=[],t.audioSourcePool=void 0,t}var o;return __extends(t,e),o=t,t.prototype.Setup=function(){void 0===o.Instance?(o.Instance=this,this.SetupPooling()):n.default.Instance.Error(this,"Trying to init audio controller twice!")},t.prototype.SetMute=function(e){this.muteFlag=e,this.HandleMuteUpdatedForSpawnedSources()},t.prototype.PlayAudioWithClip=function(e,t){this.PlayNewSource(e,t)},t.prototype.PlayAudioWithKey=function(e,t){var o=this.GetClip(e);null!=e&&this.PlayAudioWithClip(o,t)},t.prototype.PlayAudioWithEvent=function(e,t){var o=JSON.parse(t);this.PlayAudioWithKey(o.key,o.loop)},t.prototype.StopAudioWithKey=function(e){var t=this.GetClip(e);null!=e&&this.ForceStopPlayingSource(t)},t.prototype.StopAudioWithClip=function(e){this.ForceStopPlayingSource(e)},t.prototype.GetClip=function(e){for(var t=0;t<this.clipReferences.length;t++)if(this.clipReferences[t].Key==e)return this.clipReferences[t].Clip;return null},t.prototype.PlayNewSource=function(e,t){var o=this,i=this.audioSourcePool.AcquireNode().getComponent(r.default);i.node.setParent(this.node),i.clip=e,i.play(),i.volume=this.muteFlag?0:1,i.loop=t;var n=-1;t||(n=setTimeout(function(){o.PostPlayFinishRemoveSpawnedSource(i)},1e3*i.getDuration())),this.playingSources.push(new p(i,n))},t.prototype.PostPlayFinishRemoveSpawnedSource=function(e){for(var t=0;t<this.playingSources.length;t++)if(this.playingSources[t].Source===e){this.audioSourcePool.DisposeNode(this.playingSources[t].Source.node),this.playingSources.splice(t,1);break}},t.prototype.ForceStopPlayingSource=function(e){for(var t=this.playingSources.length-1;t>=0;t--)this.playingSources[t].Source.clip===e&&(this.playingSources[t].Source.stop(),clearTimeout(this.playingSources[t].TimeOutTracker),this.audioSourcePool.DisposeNode(this.playingSources[t].Source.node),this.playingSources.splice(t,1))},t.prototype.HandleMuteUpdatedForSpawnedSources=function(){for(var e=0;e<this.playingSources.length;e++)this.playingSources[e].Source.volume=this.muteFlag?0:1},t.prototype.SetupPooling=function(){void 0!=this.audioSourcePool?(this.audioSourcePool.Setup(),null!=this.audioSourcePool.Nodesample.getComponent(r.default)||n.default.Instance.Error(this,"sample in pool missing AudioSource!")):n.default.Instance.Error(this,"audioSourcePool is missing!")},__decorate([l(c)],t.prototype,"clipReferences",void 0),__decorate([l(i.CommonNodePoolHandler)],t.prototype,"audioSourcePool",void 0),t=o=__decorate([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","../Utils/CommonDataHelper":"CommonDataHelper","./AudioSource":"AudioSource"}],AudioSource:[function(e,t,o){"use strict";cc._RF.push(t,"4fc2c+88oRPdYc0DzjHGg+a","AudioSource"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([n],t)}(cc.AudioSource));o.default=r,cc._RF.pop()},{}],BaseBackgroundController:[function(e,t,o){"use strict";cc._RF.push(t,"7b45cXYqo1GQZMRDAId9e5K","BaseBackgroundController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Setup=function(){this.OnSetup()},t.prototype.OnSetup=function(){},t.prototype.HandlePreChangeRound=function(){this.OnPreChangeRound()},t.prototype.HandleChangeRound=function(e){this.OnChangeRound(e)},t=__decorate([n],t)}(cc.Component));o.BaseBackgroundController=r,cc._RF.pop()},{}],BaseBullet:[function(e,t,o){"use strict";cc._RF.push(t,"59f0bjHP5FFJ5seiTdAUnI7","BaseBullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../../Network/NetworkGameDataController"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shootInfo=void 0,t.disposeOnHitted=!0,t.hitCalled=!1,t.hittedCallback=void 0,t.bulletDisposeAction=void 0,t.targetFishId=-1,t}return __extends(t,e),Object.defineProperty(t.prototype,"ShootInfo",{get:function(){return this.shootInfo},enumerable:!0,configurable:!0}),t.prototype.HandleSetup=function(){},t.prototype.HandleFire=function(e,t,o){},t.prototype.Setup=function(){},t.prototype.Fire=function(e,t,o,i,n){void 0===n&&(n=-1),this.hittedCallback=i,this.shootInfo=o,this.targetFishId=n,this.HandleFire(e,t,o),this.hitCalled=!1},t.prototype.RegisterDisposeAction=function(e){this.bulletDisposeAction=e},t.prototype.NotifyHitted=function(e){if(!this.hitCalled){this.hitCalled=!0;for(var t=[],o=0;o<e.length;o++)t.push(e[o].FishId),e[o].TriggerCustomEvent("BulletHit");this.TriggerHittedCallback(new i.NetworkHitRequestData(this.shootInfo.ShootId,t)),this.disposeOnHitted&&this.DisposeBullet()}},t.prototype.TriggerHittedCallback=function(e){void 0!==this.hittedCallback&&this.hittedCallback(e,this.node)},t.prototype.DisposeBullet=function(){void 0!==this.bulletDisposeAction&&this.bulletDisposeAction(this.node)},Object.defineProperty(t.prototype,"TargetFishId",{get:function(){return this.targetFishId},enumerable:!0,configurable:!0}),t.prototype.ResetTargetFishId=function(){this.targetFishId=-1},__decorate([a()],t.prototype,"disposeOnHitted",void 0),t=__decorate([r],t)}(cc.Component);o.BaseBullet=s,cc._RF.pop()},{"../../../../../Network/NetworkGameDataController":"NetworkGameDataController"}],BaseCollectCoinObject:[function(e,t,o){"use strict";cc._RF.push(t,"8dab9nk835NzJXg/ns1Zgkq","BaseCollectCoinObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinType=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"CoinType",{get:function(){return this.coinType},enumerable:!0,configurable:!0}),__decorate([r()],t.prototype,"coinType",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BaseCollectCoinSpawner:[function(e,t,o){"use strict";cc._RF.push(t,"252bexAPnlHbpPi8YxsTgBE","BaseCollectCoinSpawner"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposeSelfAction=void 0,t.acquireCoinAction=void 0,t.disposeCoinAction=void 0,t}return __extends(t,e),t.prototype.HandleSpawnCoins=function(e,t,o,i,n){this.disposeSelfAction=o,this.acquireCoinAction=i,this.disposeCoinAction=n,this.OnSpawnCoins(e,t)},t.prototype.DisposeSelf=function(){this.disposeSelfAction&&this.disposeSelfAction(this)},t.prototype.AcquireCoin=function(e){if(this.acquireCoinAction)return this.acquireCoinAction(e)},t.prototype.DisposeCoin=function(e){this.disposeCoinAction&&this.disposeCoinAction(e)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseExplosion:[function(e,t,o){"use strict";cc._RF.push(t,"c9c57EVBBpInZm0bgPYCipy","BaseExplosion"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposeAction=void 0,t}return __extends(t,e),t.prototype.Setup=function(e){this.disposeAction=e,this.OnSetup()},t.prototype.HandleSpawned=function(e){this.OnSpawned(e)},t.prototype.OnSetup=function(){},t.prototype.OnSpawned=function(e){},t.prototype.DisposeExplosion=function(){void 0!==this.disposeAction&&this.disposeAction(this.node)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseFish:[function(e,t,o){"use strict";cc._RF.push(t,"9d977vVwblIRb/6+udxWjbG","BaseFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishCollider"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fishType=0,t.fishId=0,t.fishInfo=void 0,t.isAlive=!1,t.preDisposeDuration=3,t.fishDisposalTimeoutTracker=-1,t.disposeAction=void 0,t.colliders=void 0,t.OnFishCollided=function(e){"Bullet"===e.node.group&&t.OnFishHitted(e)},t.HandleOnFishColliderClicked=function(e){t.colliderClickedCallback&&t.colliderClickedCallback(e)},t}return __extends(t,e),Object.defineProperty(t.prototype,"FishType",{get:function(){return this.fishType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FishId",{get:function(){return this.fishId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FishInfo",{get:function(){return this.fishInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsAlive",{get:function(){return this.isAlive},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){this.SetupColliders()},t.prototype.HandleOnSpawned=function(e){-1!=this.fishDisposalTimeoutTracker&&clearTimeout(this.fishDisposalTimeoutTracker),this.fishId=e.FishId,this.fishInfo=e,this.isAlive=!0,this.SetColliderActivate(!0),this.OnFishSpawned()},t.prototype.HandleOnDeath=function(e){this.isAlive=!1,this.SetColliderActivate(!1),this.OnFishDeath(),this.RequestDisposeFish()},t.prototype.HandleOnLevelCleanUp=function(){this.isAlive=!1,this.SetColliderActivate(!1)},t.prototype.TriggerCustomEvent=function(e){this.OnTriggerCustomEvent(e)},t.prototype.RegisterDisposeAction=function(e){this.disposeAction=e},t.prototype.RequestDisposeFish=function(){var e=this;-1!=this.fishDisposalTimeoutTracker&&clearTimeout(this.fishDisposalTimeoutTracker),this.fishDisposalTimeoutTracker=setTimeout(function(){e.ExecuteDisposeFish(),e.fishDisposalTimeoutTracker=-1},1e3*this.preDisposeDuration)},t.prototype.ExecuteDisposeFish=function(){void 0!=this.disposeAction&&this.disposeAction(this)},t.prototype.NotifyDisposed=function(){this.OnFishCleanUp()},t.prototype.RegisterColliderClickedCallback=function(e){this.colliderClickedCallback=e},t.prototype.SetupColliders=function(){this.colliders=this.getComponentsInChildren(i.default);for(var e=0;e<this.colliders.length;e++)this.colliders[e].Setup(this,this.OnFishCollided,this.HandleOnFishColliderClicked)},t.prototype.SetColliderActivate=function(e){for(var t=0;t<this.colliders.length;t++)this.colliders[t].SetColliderActivation(e)},t.prototype.OnFishSpawned=function(){},t.prototype.OnFishHitted=function(e){},t.prototype.OnFishDeath=function(){},t.prototype.OnFishCleanUp=function(){},t.prototype.OnTriggerCustomEvent=function(e){},__decorate([a],t.prototype,"fishType",void 0),__decorate([a],t.prototype,"preDisposeDuration",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FishCollider":"FishCollider"}],BaseMenuController:[function(e,t,o){"use strict";cc._RF.push(t,"2817dEqKitHVp9WvmMYwHri","BaseMenuController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Audio/AudioController"),n=e("../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioController=void 0,t.audioMuteFlag=!1,t}return __extends(t,e),t.prototype.OnSetup=function(){},t.prototype.Setup=function(){void 0!==this.audioController&&null!==this.audioController?(this.OnSetup(),this.audioMuteFlag=!1,this.audioController.SetMute(this.audioMuteFlag)):n.default.Instance.Error(this,"audioController is missing!")},Object.defineProperty(t.prototype,"AudioController",{get:function(){return this.audioController},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioMuteFlag",{get:function(){return this.audioMuteFlag},enumerable:!0,configurable:!0}),t.prototype.SetMute=function(e){this.audioMuteFlag=e,this.audioController.SetMute(e)},__decorate([s(i.default)],t.prototype,"audioController",void 0),t=__decorate([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../Audio/AudioController":"AudioController","../Core/FishLogManager":"FishLogManager"}],BaseMuzzle:[function(e,t,o){"use strict";cc._RF.push(t,"8c2ceF81cBCzaW5A5XM/fCm","BaseMuzzle"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposeAction=void 0,t}return __extends(t,e),t.prototype.Setup=function(e){this.disposeAction=e,this.OnSetup()},t.prototype.HandleSpawned=function(){this.OnSpawned()},t.prototype.OnSetup=function(){},t.prototype.OnSpawned=function(){},t.prototype.DisposeMuzzle=function(){void 0!==this.disposeAction&&this.disposeAction(this.node)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BasePayoutObject:[function(e,t,o){"use strict";cc._RF.push(t,"9fdc2pj839Axaf7waQsQ4Ft","BasePayoutObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Execute=function(e){this.OnExecute(e)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseRouteApplier:[function(e,t,o){"use strict";cc._RF.push(t,"dfb69IxiYxMRpASez6M6ErY","BaseRouteApplier"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentRouteData=null,t.routing=!1,t.routedDuration=0,t.speed=1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.update=function(e){this.routing&&null!=this.currentRouteData&&null!=this.currentRouteData.bindedLogic&&(this.routedDuration>=this.currentRouteData.GetTotalDuration()?(this.currentRouteData.HandleOnCompleted(),this.routing=!1):(this.currentRouteData.HandleApplyProgress(this.routedDuration/this.currentRouteData.GetTotalDuration()),this.routedDuration+=e*this.speed))},t.prototype.HandleInit=function(){},t.prototype.ExecutePath=function(e,t){void 0===t&&(t=0),this.currentRouteData=e,this.routing=!0,this.routedDuration=t*this.currentRouteData.GetTotalDuration()},t.prototype.StopExecution=function(){this.routing=!1},t.prototype.SetExecutionSpeed=function(e){this.speed=e},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseSeatWinIndicatorNode:[function(e,t,o){"use strict";cc._RF.push(t,"ac9a8ko4IBHk6cuUswDdfbv","BaseSeatWinIndicatorNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleSpawnIndicator=function(e,t){this.OnSpawnIndicator(e,t)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseSpecialFishPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"4f61f/p9b9AjbqAg8OZHwfc","BaseSpecialFishPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetFishTypes=[101,102],t}return __extends(t,e),Object.defineProperty(t.prototype,"TargetFishTypes",{get:function(){return this.targetFishTypes},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){this.OnSetup()},t.prototype.OnSetup=function(){},t.prototype.OnSpawn=function(e){},t.prototype.OnDeath=function(e){},t.prototype.HandleOnSpawn=function(e){this.OnSpawn(e)},t.prototype.HandleOnDeath=function(e){this.OnDeath(e)},__decorate([r(Number)],t.prototype,"targetFishTypes",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BaseSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"50a2cnME+pK8Yqmw2zo1WjA","BaseSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/Event"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupInfo=null,t.spawnedFishes=[],t.activateFishAction=void 0,t.HandleOnFishDeath=function(e){if(null!=t.spawnedFishes){for(var o=e.detail.TargetFish,i=null,n=t.spawnedFishes.length-1;n>=0;n--)if(t.spawnedFishes[n].FishId==o.FishId){i=o;break}null!==i&&t.OnGeneratedFishDeath(i)}},t.HandleOnFishDisposed=function(e){for(var o=e.detail,n=null,r=t.spawnedFishes.length-1;r>=0;r--)if(t.spawnedFishes[r].FishId==o.FishId){n=o,t.spawnedFishes.splice(r,1);break}null!==n&&(t.OnGeneratedFishDisposed(n),0===t.spawnedFishes.length&&(removeEventListener(i.FishEvent.Fish_Disposed,t.HandleOnFishDisposed),t.disposedCallback&&t.disposedCallback(),t.node.destroy()))},t}return __extends(t,e),t.prototype.OnSetup=function(){},t.prototype.OnGeneratedFishDisposed=function(e){},t.prototype.OnGeneratedFishDeath=function(e){},Object.defineProperty(t.prototype,"GroupInfo",{get:function(){return this.groupInfo},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.disposedCallback=e,this.OnSetup()},t.prototype.HandleGeneratedFishes=function(e,t,o,n,r){this.spawnedFishes=e,this.activateFishAction=r,addEventListener(i.FishEvent.Fish_Death,this.HandleOnFishDeath),addEventListener(i.FishEvent.Fish_Disposed,this.HandleOnFishDisposed),this.OnHandleGeneratedFishes(e,t,o)},t.prototype.HandleForceDispose=function(){this.OnForceDispose()},t.prototype.HandleLevelCleanUp=function(){this.OnLevelCleanUp()},t.prototype.AcivateFish=function(e){return this.activateFishAction(e)},t=__decorate([r],t)}(cc.Component));o.default=a,cc._RF.pop()},{"../../Core/Event":"Event"}],BaseWeapon:[function(e,t,o){"use strict";cc._RF.push(t,"91dc0Q8Bc1FGZ3pOaVDPzkr","BaseWeapon"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Core/FishLogManager"),n=e("../../../Core/Event"),r=cc._decorator,a=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponType=0,t.isSelected=!1,t.isLocalPlayer=!1,t.fireWeaponRequestAction=void 0,t.hitRequestAction=void 0,t.SendHitRequest=function(e){void 0!==t.hitRequestAction&&t.hitRequestAction(e)},t.directionNode=void 0,t}return __extends(t,e),Object.defineProperty(t.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSelected",{get:function(){return this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsLocalPlayer",{get:function(){return this.isLocalPlayer},enumerable:!0,configurable:!0}),t.prototype.OnBetAmountUpdated=function(e,t){},t.prototype.OnCleanUpWeapon=function(){},t.prototype.Setup=function(e){this.weaponType=e,this.OnSetup()},t.prototype.SetIsLocalPlayer=function(e){this.isLocalPlayer=e},t.prototype.KillBulletByShootId=function(e){},t.prototype.RegisterFireWeaponRequestAction=function(e){this.fireWeaponRequestAction=e},t.prototype.RegisterSendHitRequestAction=function(e){this.hitRequestAction=e},t.prototype.HandleFireWeaponRequest=function(e){this.OnExecuteFireWeapon(e),dispatchEvent(new CustomEvent(n.FishEvent.Weapon_Fired,new n.FishEventInit(e)))},t.prototype.SendFireWeaponRequest=function(e){void 0!==this.fireWeaponRequestAction&&this.fireWeaponRequestAction(this.weaponType,e)},t.prototype.RegisterDirectionNode=function(e){this.directionNode=e},t.prototype.GetDirection=function(){return void 0==this.directionNode?(i.default.Instance.Error(this,"Trying to get direction withoput direction node assign!"),0):-1==this.directionNode.scaleY?this.directionNode.angle-180:this.directionNode.angle},t.prototype.GetDirectionNode=function(){return void 0==this.directionNode?(i.default.Instance.Error(this,"Trying to get direction node withoput direction node assign!"),null):this.directionNode},t.prototype.SetDirection=function(e){if(void 0==this.directionNode)return i.default.Instance.Error(this,"Trying to set direction withoput direction node assign!"),null;this.directionNode.angle=e},t.prototype.HandleBetAmountUpdated=function(e,t){this.OnBetAmountUpdated(e,t)},t.prototype.SetSelected=function(){this.OnSelected()},t.prototype.SetUnSelected=function(){this.OnUnSelected()},t.prototype.StartFireWeapon=function(e){this.OnStartFireWeapon(e)},t.prototype.FiringWeapon=function(e){this.OnFiringWeapon(e)},t.prototype.StopFireWeapon=function(){this.OnStopFireWeapon()},t.prototype.CleanUpWeapon=function(){this.OnCleanUpWeapon()},t=__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../../../Core/Event":"Event","../../../Core/FishLogManager":"FishLogManager"}],BezierCurveDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"c90cf4Gb/JBNZ02vmyDL/Rr","BezierCurveDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(){function e(){this.totalDuration=1,this.pointHolder=void 0}return __decorate([a(Number)],e.prototype,"totalDuration",void 0),__decorate([a(cc.Node)],e.prototype,"pointHolder",void 0),e=__decorate([r("BezierCruveSceneRouteData")],e)}();o.BezierCruveSceneRouteData=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneRouteData=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.sceneRouteData.length;t++)e.push(new i.CapturedRouteData(t,this.sceneRouteData[t].totalDuration,this.sceneRouteData[t].pointHolder.children));return e},__decorate([a(s)],t.prototype,"sceneRouteData",void 0),t=__decorate([r],t)}(i.default);o.default=l,cc._RF.pop()},{"./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],BulletWallCollider:[function(e,t,o){"use strict";cc._RF.push(t,"c6c630XcU1NQqfOC0+6oLm7","BulletWallCollider"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass,a=n.property;(function(e){e[e.None=0]="None",e[e.Box_TopBtm=1]="Box_TopBtm",e[e.Box_LeftRight=2]="Box_LeftRight"})(i=o.BulletWallColliderType||(o.BulletWallColliderType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colliderType=i.None,t}return __extends(t,e),Object.defineProperty(t.prototype,"ColliderType",{get:function(){return this.colliderType},enumerable:!0,configurable:!0}),__decorate([a({type:cc.Enum(i)})],t.prototype,"colliderType",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ChildNodeAnimationSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"f542c6oXItPcpQYA6CEulnT","ChildNodeAnimationSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseSpecialGroupExecutor"),n=e("../../Core/FishLogManager"),r=e("../../Misc/PositionDrivenDirectionUpdater"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.clipName="",t.fishHoldersHolder=void 0,t.disableDirectionUpdater=!1,t}return __extends(t,e),t.prototype.OnSetup=function(){void 0==this.fishHoldersHolder&&n.default.Instance.Error(this,"fishHoldersHolder is missing!");for(var e=0;e<this.fishHoldersHolder.childrenCount;e++)this.fishHoldersHolder.children[e].active=!1;void 0==this.animation&&n.default.Instance.Error(this,"animation is missing!")},t.prototype.OnHandleGeneratedFishes=function(e,t,o){if(e.length>this.fishHoldersHolder.children.length)n.default.Instance.Error(this,"fishHolders not enought! expected to have: "+e.length+", only have: "+this.fishHoldersHolder.children.length);else{for(var i=0;i<e.length;i++){var a=this.AcivateFish(e[i].FishId);if(a.node.setParent(this.fishHoldersHolder.children[i]),a.node.position=cc.Vec3.ZERO,a.node.angle=0,this.disableDirectionUpdater){var s=a.getComponent(r.default);null!=s&&(s.enabled=!1)}}""!=this.clipName?this.animation.play(this.clipName):this.animation.play()}},t.prototype.OnGeneratedFishDisposed=function(e){if(this.disableDirectionUpdater){var t=e.getComponent(r.default);null!=t&&(t.enabled=!0)}},t.prototype.OnForceDispose=function(){},t.prototype.OnLevelCleanUp=function(){},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([l(cc.Animation)],t.prototype,"animation",void 0),__decorate([l()],t.prototype,"clipName",void 0),__decorate([l(cc.Node)],t.prototype,"fishHoldersHolder",void 0),__decorate([l()],t.prototype,"disableDirectionUpdater",void 0),t=__decorate([s],t)}(i.default);o.default=c,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","./BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],ChildNodeFormationRouteSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"32588g2dqRMIK/SWuQH1PiC","ChildNodeFormationRouteSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseSpecialGroupExecutor"),n=e("../../Core/FishLogManager"),r=e("../../Route/RouteManager"),a=e("../../Route/RouteData/RouteData"),s=e("../../Route/Applier/BaseRouteApplier"),l=e("../FishManager"),c=e("../../Misc/PositionDrivenDirectionUpdater"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unparentFishOnDeath=!0,t.routeApplier=void 0,t.parent=void 0,t.fishHolders=[],t.disableDirectionUpdater=!1,t}return __extends(t,e),t.prototype.OnHandleGeneratedFishes=function(e,t,o){if(this.parent&&this.routeApplier.node.setParent(this.parent),this.routeApplier.node.setPosition(new cc.Vec2(0,2e3)),e.length>this.fishHolders.length)n.default.Instance.Error(this,"fishHolders not enought! expected to have: "+e.length+", only have: "+this.fishHolders.length);else{for(var i=0;i<e.length;i++){var a=this.AcivateFish(e[i].FishId);if(a.node.setParent(this.fishHolders[i]),a.node.position=cc.Vec3.ZERO,a.node.angle=0,this.disableDirectionUpdater){var s=a.getComponent(c.default);null!=s&&(s.enabled=!1)}}r.RouteManager.Instance.ExecuteApplier(this.ConvertToRouteExecuteData(this.routeApplier,new l.FishActivateRouteData(o.PathData,o.AliveDuration,t)))}},t.prototype.OnGeneratedFishDeath=function(e){if(this.unparentFishOnDeath){var t=e.node.parent.convertToWorldSpaceAR(e.node.position),o=this.routeApplier.node.angle;e.node.setParent(this.routeApplier.node.parent),e.node.angle=o,e.node.position=this.routeApplier.node.parent.convertToNodeSpaceAR(t)}},t.prototype.OnGeneratedFishDisposed=function(e){if(this.disableDirectionUpdater){var t=e.getComponent(c.default);null!=t&&(t.enabled=!0)}},t.prototype.OnForceDispose=function(){},t.prototype.OnLevelCleanUp=function(){},t.prototype.ConvertToRouteExecuteData=function(e,t){var o=t.RawData[0],i=a.RouteMethod.None;if("L"===o?i=a.RouteMethod.Linear:"C"===o?i=a.RouteMethod.BezierCurve:"P"===o&&(i=a.RouteMethod.FixPoint),i!==a.RouteMethod.None){if(i===a.RouteMethod.FixPoint||i===a.RouteMethod.BezierCurve){var r=t.RawData.split("_"),s=[];if(r.length>2)for(var l=2;l<r.length;l++)s.push(r[l]);return new a.ApplierExecuteData(e,new a.RouteMethodExecuteData(i,parseInt(r[1]),t.OverrideDuration,t.ProgressOffset,s))}if(i===a.RouteMethod.Linear){var c=t.RawData.substr(1,t.RawData.length-1);return new a.ApplierExecuteData(e,new a.RouteMethodExecuteData(i,parseInt(c),t.OverrideDuration,t.ProgressOffset))}return null}n.default.Instance.Error(this,"failed to get route method from rawString!")},__decorate([d()],t.prototype,"unparentFishOnDeath",void 0),__decorate([d(s.default)],t.prototype,"routeApplier",void 0),__decorate([d(cc.Node)],t.prototype,"parent",void 0),__decorate([d(cc.Node)],t.prototype,"fishHolders",void 0),__decorate([d()],t.prototype,"disableDirectionUpdater",void 0),t=__decorate([u],t)}(i.default);o.default=h,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","../../Route/Applier/BaseRouteApplier":"BaseRouteApplier","../../Route/RouteData/RouteData":"RouteData","../../Route/RouteManager":"RouteManager","../FishManager":"FishManager","./BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],ChildNodeRoutineActiveSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"8bf267f+MBFPaDTjQq3cixF","ChildNodeRoutineActiveSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseSpecialGroupExecutor"),n=e("../../Core/FishLogManager"),r=e("../../Misc/PositionDrivenDirectionUpdater"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.intervalsList=[],t.activateCountList=[],t.fishHoldersHolder=void 0,t.disableDirectionUpdater=!1,t.levelCleanUpFlag=!1,t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.fishHoldersHolder.childrenCount;e++)this.fishHoldersHolder.children[e].active=!1},t.prototype.OnHandleGeneratedFishes=function(e,t,o){if(e.length>this.fishHoldersHolder.children.length)n.default.Instance.Error(this,"fishHolders not enought! expected to have: "+e.length+", only have: "+this.fishHoldersHolder.children.length);else{for(var i=0;i<e.length;i++){var a=this.AcivateFish(e[i].FishId);if(a.node.setParent(this.fishHoldersHolder.children[i]),a.node.position=cc.Vec3.ZERO,a.node.angle=0,this.disableDirectionUpdater){var s=a.getComponent(r.default);null!=s&&(s.enabled=!1)}}this.FireGenerateFishEvent(e)}},t.prototype.OnGeneratedFishDisposed=function(e){if(this.disableDirectionUpdater){var t=e.getComponent(r.default);null!=t&&(t.enabled=!0)}},t.prototype.OnGeneratedFishDeath=function(e){var t=e.node.parent.convertToWorldSpaceAR(e.node.position),o=e.node.parent.angle;e.node.setParent(this.node),e.node.angle=o,e.node.position=this.node.convertToNodeSpaceAR(t)},t.prototype.OnForceDispose=function(){},t.prototype.OnLevelCleanUp=function(){this.levelCleanUpFlag=!0},t.prototype.FireGenerateFishEvent=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n;return __generator(this,function(r){switch(r.label){case 0:t=0,o=0,i=0,r.label=1;case 1:if(!(t<e.length))return[3,3];for(n=0;n<this.activateCountList[i];n++)this.fishHoldersHolder.children[t].active=!0,t++;return[4,this.WaitForSecs(this.intervalsList[o])];case 2:return r.sent(),this.levelCleanUpFlag?[2]:(++o>=this.intervalsList.length&&(o=0),++i>=this.activateCountList.length&&(i=0),[3,1]);case 3:return[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([l(Number)],t.prototype,"intervalsList",void 0),__decorate([l(Number)],t.prototype,"activateCountList",void 0),__decorate([l(cc.Node)],t.prototype,"fishHoldersHolder",void 0),__decorate([l()],t.prototype,"disableDirectionUpdater",void 0),t=__decorate([s],t)}(i.default);o.default=c,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","./BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],ClickField:[function(e,t,o){"use strict";cc._RF.push(t,"f35f4ZmIbpGyIy/ZCUC5YS0","ClickField"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=e("../Core/GameStageController"),r=cc._decorator,a=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPressedCallback=void 0,t.onPressingCallback=void 0,t.onReleaseCallback=void 0,t.worldOffset=cc.Vec2.ZERO,t.isDownHolding=!1,t}return __extends(t,e),t.prototype.Setup=function(){i.default.Instance.Log(this,"Setup Started"),this.node.on(cc.Node.EventType.TOUCH_START,this.OnPressed,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnMouseMoving,this),this.node.on(cc.Node.EventType.TOUCH_END,this.OnRelease,this),this.worldOffset=n.default.Instance.StageData.GameWorldOffset,i.default.Instance.Log(this,"Setting world offset to "+this.worldOffset)},t.prototype.RegisterOnPressed=function(e){this.onPressedCallback=e},t.prototype.RegisterOnClickPressing=function(e){this.onPressingCallback=e},t.prototype.RegisterOnRelease=function(e){this.onReleaseCallback=e},t.prototype.OnPressed=function(e){this.isDownHolding=!0,this.FirePressedCallback(this.CalculateGameWorldLocation(e.getLocation()))},t.prototype.OnMouseMoving=function(e){this.isDownHolding&&this.FirePressingCallback(this.CalculateGameWorldLocation(e.getLocation()))},t.prototype.OnRelease=function(e){this.isDownHolding=!1,this.FireReleaseCallback()},t.prototype.CalculateGameWorldLocation=function(e){return e.sub(this.worldOffset)},t.prototype.FirePressedCallback=function(e){void 0!==this.onPressedCallback&&this.onPressedCallback(e)},t.prototype.FirePressingCallback=function(e){void 0!==this.onPressingCallback&&this.onPressingCallback(e)},t.prototype.FireReleaseCallback=function(){void 0!==this.onReleaseCallback&&this.onReleaseCallback()},t=__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","../Core/GameStageController":"GameStageController"}],CollectCoinController:[function(e,t,o){"use strict";cc._RF.push(t,"89d78FvNjhAybb9ja7P9xcb","CollectCoinController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Utils/CommonDataHelper"),n=e("../../Core/Event"),r=e("./BaseCollectCoinSpawner"),a=e("./BaseCollectCoinObject"),s=e("../../Core/FishLogManager"),l=cc._decorator,c=l.ccclass,p=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinPools=[],t.spawnerPool=void 0,t.involvedFishTypes=[1,2,3,4,5,6,7,8,9,10],t.localPlayerId=-1,t.coinPoolDictionary=void 0,t.HandleOnFishDeath=function(e){if(void 0!==t.seatNodeAcquireAction){var o=e.detail;if(t.IsInvolvedFishType(o.TargetFish.FishType)){var i=t.seatNodeAcquireAction(o.StatusInfo.PlayerId);if(null!==i&&void 0!==i){var n=t.spawnerPool.AcquireNode().getComponent(r.default);n.node.setParent(t.node);var a=o.TargetFish,s=a.node.parent.convertToWorldSpaceAR(a.node.position);n.node.setPosition(t.node.convertToNodeSpaceAR(s)),n.HandleSpawnCoins(o,i,t.DisposeSpawner,t.AcquireCoinObject,t.DisposeCoinObject)}}}},t.DisposeSpawner=function(e){t.spawnerPool.DisposeNode(e.node)},t.AcquireCoinObject=function(e){var o=t.coinPoolDictionary[e];if(void 0!==o)return o.AcquireNode().getComponent(a.default)},t.DisposeCoinObject=function(e){t.coinPoolDictionary[e.CoinType].DisposeNode(e.node)},t}return __extends(t,e),t.prototype.Setup=function(){this.coinPoolDictionary={};for(var e=0;e<this.coinPools.length;e++){if(null===this.coinPools[e].Nodesample.getComponent(a.default))return void s.default.Instance.Error(this,"coinPools are exepected to have object of BaseCollectCoinObject!");this.coinPools[e].Setup(),this.coinPoolDictionary[this.coinPools[e].Nodesample.getComponent(a.default).CoinType]=this.coinPools[e]}null!==this.spawnerPool.Nodesample.getComponent(r.default)?(this.spawnerPool.Setup(),addEventListener(n.FishEvent.Fish_Death,this.HandleOnFishDeath)):s.default.Instance.Error(this,"spawner pool are exepected to have object of BaseCollectCoinSpawner!")},t.prototype.RegisterSeatNodeAcquireAction=function(e){this.seatNodeAcquireAction=e},t.prototype.SetLocalPlayerId=function(e){this.localPlayerId=e},t.prototype.IsInvolvedFishType=function(e){for(var t=0;t<this.involvedFishTypes.length;t++)if(this.involvedFishTypes[t]===e)return!0;return!1},__decorate([p(i.CommonNodePoolHandler)],t.prototype,"coinPools",void 0),__decorate([p(i.CommonNodePoolHandler)],t.prototype,"spawnerPool",void 0),__decorate([p(Number)],t.prototype,"involvedFishTypes",void 0),t=__decorate([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Core/Event":"Event","../../Core/FishLogManager":"FishLogManager","../../Utils/CommonDataHelper":"CommonDataHelper","./BaseCollectCoinObject":"BaseCollectCoinObject","./BaseCollectCoinSpawner":"BaseCollectCoinSpawner"}],CommonDataHelper:[function(e,t,o){"use strict";cc._RF.push(t,"d69ebFcM85MYbiBQAu6lm6j","CommonDataHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property;function a(e,t,o){if(e.length>=t)return e;for(var i=t-e.length,n="",r=0;r<i;r++)n+="0";return o?e+n:n+e}o.ConstructLocalShootId=function(){var e=new Date;return e.getFullYear().toString()+a((e.getMonth()+1).toString(),2)+a(e.getDate().toString(),2)+a(e.getHours().toString(),2)+a(e.getMinutes().toString(),2)+a(e.getSeconds().toString(),2)+a(e.getMilliseconds().toString(),5,!0)},o.EnforceMinimumZeroFormat=a,o.CalculateRelativePos=function(e,t){return t.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position))};var s=function(){function e(){this.key="",this.spriteFrame=null}return Object.defineProperty(e.prototype,"Key",{get:function(){return this.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpriteFrame",{get:function(){return this.spriteFrame},enumerable:!0,configurable:!0}),__decorate([r()],e.prototype,"key",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),e=__decorate([n("SpriteFrameReference")],e)}();o.SpriteFrameReference=s;var l=function(){function e(){this.nodeSample=void 0,this.baseCount=5,this.autoDisposeDuration=0,this.pool=void 0}return Object.defineProperty(e.prototype,"Nodesample",{get:function(){return this.nodeSample},enumerable:!0,configurable:!0}),e.prototype.Setup=function(){void 0===this.nodeSample&&console.error("Missing node sample!"),this.pool=new cc.NodePool,this.PopulatePool(this.baseCount),this.nodeSample.active=!1},e.prototype.AcquireNode=function(){var e=this;this.pool.size()<=0&&this.pool.put(this.InstantiateNode());var t=this.pool.get();return 0!==this.autoDisposeDuration&&setTimeout(function(){e.DisposeNode(t)},1e3*this.autoDisposeDuration),0==t.active&&(t.active=!0),t},e.prototype.DisposeNode=function(e){this.pool.put(e)},e.prototype.PopulatePool=function(e){for(var t=0;t<e;t++){var o=this.InstantiateNode();this.pool.put(o)}},e.prototype.InstantiateNode=function(){return cc.instantiate(this.nodeSample)},__decorate([r(cc.Node)],e.prototype,"nodeSample",void 0),__decorate([r()],e.prototype,"baseCount",void 0),__decorate([r()],e.prototype,"autoDisposeDuration",void 0),e=__decorate([n("CommonNodePoolHandler")],e)}();o.CommonNodePoolHandler=l,cc._RF.pop()},{}],CommonExplosion:[function(e,t,o){"use strict";cc._RF.push(t,"8bab5n3xPBBXqMhyVZuoAEI","CommonExplosion"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseExplosion"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.localPlayerSpawnAnimationKey="Explode_Local",t.otherPlayerSpawnAnimationKey="Explode_Others",t.aliveTime=2,t}return __extends(t,e),t.prototype.OnSpawned=function(e){var t=this;this.animation.play(e?this.localPlayerSpawnAnimationKey:this.otherPlayerSpawnAnimationKey),setTimeout(function(){t.DisposeExplosion()},1e3*this.aliveTime)},__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a],t.prototype,"localPlayerSpawnAnimationKey",void 0),__decorate([a],t.prototype,"otherPlayerSpawnAnimationKey",void 0),__decorate([a],t.prototype,"aliveTime",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./BaseExplosion":"BaseExplosion"}],CommonFish:[function(e,t,o){"use strict";cc._RF.push(t,"8acb9spmSJP/qw28xd8rmZm","CommonFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseFish"),n=e("../Misc/PositionDrivenDirectionUpdater"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(){function e(){this.onSpawned=[]}return e.prototype.TriggerOnSpawned=function(){this.EmitEvent(this.onSpawned)},e.prototype.EmitEvent=function(e){for(var t=0;t<e.length;t++)e[t].emit([e[t].customEventData])},__decorate([s(cc.Component.EventHandler)],e.prototype,"onSpawned",void 0),e=__decorate([a("CommonFishEventTriggerHandler")],e)}();o.CommonFishEventTriggerHandler=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eventTriggerHandler=new l,t.animation=null,t.idleAnimationKey="Idle",t.deathAnimationKey="Death",t.skeleton=null,t.idleSkeletonKey="Idle",t.deathSkeletonKey="Death",t}return __extends(t,e),t.prototype.PlayAnimation=function(e){this.animation&&""!=e&&this.animation.play(e)},t.prototype.PlaySkeleton=function(e,t){this.skeleton&&""!=e&&this.skeleton.setAnimation(0,e,t)},t.prototype.OnFishSpawned=function(){null!=this.getComponent(n.default)&&(this.getComponent(n.default).enabled=!0),this.PlayAnimation(this.idleAnimationKey),this.PlaySkeleton(this.idleSkeletonKey,!0),this.eventTriggerHandler.TriggerOnSpawned()},t.prototype.OnFishDeath=function(){null!=this.getComponent(n.default)&&(this.getComponent(n.default).enabled=!1),this.PlayAnimation(this.deathAnimationKey),this.PlaySkeleton(this.deathSkeletonKey,!1)},__decorate([s(l)],t.prototype,"eventTriggerHandler",void 0),__decorate([s(cc.Animation)],t.prototype,"animation",void 0),__decorate([s({visible:function(){return null!==this.animation}})],t.prototype,"idleAnimationKey",void 0),__decorate([s({visible:function(){return null!==this.animation}})],t.prototype,"deathAnimationKey",void 0),__decorate([s(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([s({visible:function(){return null!==this.skeleton}})],t.prototype,"idleSkeletonKey",void 0),__decorate([s({visible:function(){return null!==this.skeleton}})],t.prototype,"deathSkeletonKey",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","./BaseFish":"BaseFish"}],CommonGroupSpawnHandler:[function(e,t,o){"use strict";cc._RF.push(t,"c1458a9BKhOEbamFtZU6su3","CommonGroupSpawnHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishGroupSpawnHandler"),n=e("./FishManager"),r=e("../Core/FishLogManager"),a=e("./SpecialGroup/BaseSpecialGroupExecutor"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(){function e(){this.groupId=0,this.executorSample=void 0}return Object.defineProperty(e.prototype,"GroupId",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExecutorSample",{get:function(){return this.executorSample},enumerable:!0,configurable:!0}),__decorate([c()],e.prototype,"groupId",void 0),__decorate([c(a.default)],e.prototype,"executorSample",void 0),e=__decorate([l("CommonGroupSpawnSpecialGroupProperties")],e)}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelCleanUpFlag=!1,t.specialGroupExecutorSamples=[],t.specialGroupHolder=void 0,t.spawnedSpecialGroupExecutors=[],t}return __extends(t,e),t.prototype.OnSetup=function(){this.SetupSpecialGroup()},t.prototype.ExecuteHandleSpawnedFish=function(e,t,o,i){if(i.SpawnExecuteData.isSpecialGroup)this.HandleSpecialGroupSpawn(e,t,o,i);else{var n=i.SpawnExecuteData.spawnMethod;"OneOff"===n?this.SpawnOneOff(e,t,o,i):"OneByOne"===n&&this.SpawnOneByOne(e,t,o,i)}},t.prototype.OnDisposeGroup=function(e){},t.prototype.OnLevelCleanUpSetted=function(e){this.levelCleanUpFlag=e,e&&this.NotifyAllSpawnedSpecialGroupLevelCleanUp()},t.prototype.SpawnOneOff=function(t,o,i,n){for(var r=0;r<t.length;r++)e.prototype.ActivateFish.call(this,t[r].FishId,this.ConstructRouteData(o,i,n))},t.prototype.SpawnOneByOne=function(t,o,i,n){return __awaiter(this,void 0,Promise,function(){var o;return __generator(this,function(r){switch(r.label){case 0:o=0,r.label=1;case 1:return o<t.length?(e.prototype.ActivateFish.call(this,t[o].FishId,this.ConstructRouteData(0,i,n)),[4,this.WaitForSecs(n.SpawnExecuteData.spawnInterval)]):[3,4];case 2:if(r.sent(),this.levelCleanUpFlag)return[2];r.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},t.prototype.ConstructRouteData=function(e,t,o){return new n.FishActivateRouteData(t.PathData,o.SpawnExecuteData.userServerAliveTime?t.AliveDuration:0,e)},t.prototype.SetupSpecialGroup=function(){void 0===this.specialGroupHolder&&r.default.Instance.Error(this,"specialGroupHolder is missing!");for(var e=0;e<this.specialGroupExecutorSamples.length;e++)this.specialGroupExecutorSamples[e].ExecutorSample.node.active=!1;this.spawnedSpecialGroupExecutors=[]},t.prototype.HandleSpecialGroupSpawn=function(t,o,i,n){var r=this;this.GenerateSpecialGroupExecutor(i.GroupId).HandleGeneratedFishes(t,o,i,n,function(t,o){return e.prototype.ActivateFish.call(r,t,o)})},t.prototype.GenerateSpecialGroupExecutor=function(e){var t=this,o=this.GetSpecialGroupSample(e);if(null===o)return r.default.Instance.Error(this,"failed to get special group sample for id: "+e),null;var i=cc.instantiate(o).getComponent(a.default);return i.node.setParent(this.specialGroupHolder),i.node.active||(i.node.active=!0),this.spawnedSpecialGroupExecutors.push(i),i.Setup(function(){t.RemoveSpawnedSpecialGroupExecutor(i)}),i},t.prototype.NotifyAllSpawnedSpecialGroupLevelCleanUp=function(){for(var e=0;e<this.spawnedSpecialGroupExecutors.length;e++)this.spawnedSpecialGroupExecutors[e].HandleLevelCleanUp()},t.prototype.GetSpecialGroupSample=function(e){for(var t=0;t<this.specialGroupExecutorSamples.length;t++)if(this.specialGroupExecutorSamples[t].GroupId==e)return this.specialGroupExecutorSamples[t].ExecutorSample.node;return null},t.prototype.HandleDisposeSpawnedSpecialGroupExecutor=function(e){for(var t=0;t<this.spawnedSpecialGroupExecutors.length;t++)this.spawnedSpecialGroupExecutors[t].GroupInfo===e&&(this.spawnedSpecialGroupExecutors[t].HandleForceDispose(),this.RemoveSpawnedSpecialGroupExecutor(this.spawnedSpecialGroupExecutors[t]))},t.prototype.RemoveSpawnedSpecialGroupExecutor=function(e){for(var t=0;t<this.spawnedSpecialGroupExecutors.length;t++)if(this.spawnedSpecialGroupExecutors[t]===e){this.spawnedSpecialGroupExecutors.splice(t,1);break}},__decorate([c(p)],t.prototype,"specialGroupExecutorSamples",void 0),__decorate([c(cc.Node)],t.prototype,"specialGroupHolder",void 0),t=__decorate([l],t)}(i.default);o.default=u,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","./FishGroupSpawnHandler":"FishGroupSpawnHandler","./FishManager":"FishManager","./SpecialGroup/BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],CommonGun:[function(e,t,o){"use strict";cc._RF.push(t,"9c3e1RSydpLT4VhefLmX8ox","CommonGun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../BaseWeapon"),n=e("./Bullet/BaseBullet"),r=e("../../../../Core/GameStageController"),a=e("./Muzzle/BaseMuzzle"),s=e("./Explosion/BaseExplosion"),l=e("./Bullet/ProjectileBullet"),c=cc._decorator,p=c.ccclass,u=c.property,d=function(){function e(){this.onFire=[],this.onSelected=[],this.onUnSelected=[]}return e.prototype.TriggerFire=function(){this.EmitEvent(this.onFire)},e.prototype.TriggerSelected=function(){this.EmitEvent(this.onSelected)},e.prototype.TriggerUnSelected=function(){this.EmitEvent(this.onUnSelected)},e.prototype.EmitEvent=function(e){for(var t=0;t<e.length;t++)e[t].emit([e[t].customEventData])},__decorate([u(cc.Component.EventHandler)],e.prototype,"onFire",void 0),__decorate([u(cc.Component.EventHandler)],e.prototype,"onSelected",void 0),__decorate([u(cc.Component.EventHandler)],e.prototype,"onUnSelected",void 0),e=__decorate([p("CommonGunEventTrigger")],e)}(),h=function(){function e(){var e=this;this.bulletSample=void 0,this.basePoolCount=20,this.bulletHolder=void 0,this.pool=void 0,this.isLocalPlayer=!1,this.DisposeBullet=function(t){e.pool.put(t);var o=e.spawnedBullets.indexOf(t.getComponent(n.BaseBullet));o>=0&&e.spawnedBullets.splice(o,1)}}return Object.defineProperty(e.prototype,"SpawnedBullets",{get:function(){return this.spawnedBullets},enumerable:!0,configurable:!0}),e.prototype.Setup=function(e){this.launcherNodes=e,this.pool=new cc.NodePool;for(var t=0;t<this.basePoolCount;t++)this.pool.put(this.InstantiateBullet().node);this.bulletSample.node.active=!1,this.spawnedBullets=[]},e.prototype.SetIsLocalPlayer=function(e){this.isLocalPlayer=e},e.prototype.FireBullet=function(e,t,o,i,a){var s;void 0===i&&(i=-1),void 0===a&&(a=0),this.pool.size()>0?s=this.pool.get().getComponent(n.BaseBullet):(s=this.InstantiateBullet().getComponent(n.BaseBullet),this.pool.put(s.node),s=this.pool.get().getComponent(n.BaseBullet)),s.node.parent=this.bulletHolder,s.node.active||(s.node.active=!0),s.Fire(r.default.Instance.CalculatePositionInGameStage(this.launcherNodes[a]),e,t,o,i);var c=s.getComponent(l.default);null!=c&&c.SetIgnoreFishCollision(!this.isLocalPlayer),this.spawnedBullets.push(s)},e.prototype.DisposeBulletByShootId=function(e,t){for(var o=0;o<this.spawnedBullets.length;o++)if(parseInt(this.spawnedBullets[o].ShootInfo.ShootId)==e)return t(this.spawnedBullets[o]),this.DisposeBullet(this.spawnedBullets[o].node),!0;return!1},e.prototype.DisposeAllBullets=function(){if(void 0!=this.spawnedBullets){for(var e=0;e<this.spawnedBullets.length;e++)this.pool.put(this.spawnedBullets[e].node);this.spawnedBullets=[]}},e.prototype.InstantiateBullet=function(){var e=cc.instantiate(this.bulletSample.node).getComponent(n.BaseBullet);return e.Setup(),e.RegisterDisposeAction(this.DisposeBullet),e},__decorate([u(n.BaseBullet)],e.prototype,"bulletSample",void 0),__decorate([u()],e.prototype,"basePoolCount",void 0),__decorate([u(cc.Node)],e.prototype,"bulletHolder",void 0),e=__decorate([p("CommonGunBulletHandler")],e)}();o.CommonGunBulletHandler=h;var f=function(){function e(){var e=this;this.muzzleSample=void 0,this.basePoolCount=20,this.originNode=void 0,this.muzzleHolder=void 0,this.pool=void 0,this.DisposeMuzzle=function(t){e.pool.put(t)}}return e.prototype.Setup=function(){this.pool=new cc.NodePool;for(var e=0;e<this.basePoolCount;e++)this.pool.put(this.InstantiateMuzzle().node);this.muzzleSample.node.active=!1},e.prototype.SpawnMuzzle=function(e){var t;this.pool.size()>0?t=this.pool.get().getComponent(a.default):(t=this.InstantiateMuzzle().getComponent(a.default),this.pool.put(t.node),t=this.pool.get().getComponent(a.default));var o=this.originNode.parent.convertToWorldSpaceAR(this.originNode.position);t.node.parent=this.muzzleHolder,void 0!==this.muzzleHolder?t.node.setPosition(this.muzzleHolder.convertToNodeSpaceAR(o)):t.node.setPosition(o),t.node.active||(t.node.active=!0),t.HandleSpawned()},e.prototype.InstantiateMuzzle=function(){var e=cc.instantiate(this.muzzleSample.node).getComponent(a.default);return e.Setup(this.DisposeMuzzle),e},__decorate([u(a.default)],e.prototype,"muzzleSample",void 0),__decorate([u()],e.prototype,"basePoolCount",void 0),__decorate([u(cc.Node)],e.prototype,"originNode",void 0),__decorate([u(cc.Node)],e.prototype,"muzzleHolder",void 0),e=__decorate([p("CommonGunMuzzleHandler")],e)}(),y=function(){function e(){var e=this;this.explosionSample=void 0,this.basePoolCount=20,this.explosionHolder=void 0,this.pool=void 0,this.DisposeExplosion=function(t){e.pool.put(t)}}return e.prototype.Setup=function(){this.pool=new cc.NodePool;for(var e=0;e<this.basePoolCount;e++)this.pool.put(this.InstantiateExplosion().node);this.explosionSample.node.active=!1},e.prototype.SpawnExplosion=function(e,t){var o;this.pool.size()>0?o=this.pool.get().getComponent(s.default):(o=this.InstantiateExplosion().getComponent(s.default),this.pool.put(o.node),o=this.pool.get().getComponent(s.default));var i=e.parent.convertToWorldSpaceAR(e.position);o.node.parent=this.explosionHolder,void 0!==this.explosionHolder?o.node.setPosition(this.explosionHolder.convertToNodeSpaceAR(i)):o.node.setPosition(i),o.node.active||(o.node.active=!0),o.HandleSpawned(t)},e.prototype.InstantiateExplosion=function(){var e=cc.instantiate(this.explosionSample.node).getComponent(s.default);return e.Setup(this.DisposeExplosion),e},__decorate([u(s.default)],e.prototype,"explosionSample",void 0),__decorate([u()],e.prototype,"basePoolCount",void 0),__decorate([u(cc.Node)],e.prototype,"explosionHolder",void 0),e=__decorate([p("CommonGunBulletExplosionHandler")],e)}();o.CommonGunBulletExplosionHandler=y;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eventTrigger=void 0,t.launcherNodes=[],t.fireInterval=.3,t.isFiring=!1,t.gunPostShootedDuration=0,t.spawnBullet=!1,t.bulletHandler=void 0,t.spawnMuzzle=!1,t.muzzlehandler=void 0,t.spawnExplosion=!1,t.gunExplosionHandler=void 0,t.lockedFishCollider=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"LauncherNodes",{get:function(){return this.launcherNodes},enumerable:!0,configurable:!0}),t.prototype.OnSetup=function(){this.SetupBullet(),this.SetupMuzzle(),this.SetupGunExplosion()},t.prototype.OnSelected=function(){this.eventTrigger.TriggerSelected(),this.bulletHandler.SetIsLocalPlayer(this.IsLocalPlayer)},t.prototype.OnUnSelected=function(){this.isFiring=!1,this.eventTrigger.TriggerUnSelected()},t.prototype.OnStartFireWeapon=function(e){this.isFiring=!0},t.prototype.OnFiringWeapon=function(e){},t.prototype.OnStopFireWeapon=function(){this.isFiring=!1},t.prototype.OnExecuteFireWeapon=function(e){this.SpawnBullet(e),this.eventTrigger.TriggerFire(),this.HandleSpawnMuzzle(e.WeaponAngle)},t.prototype.OnCleanUpWeapon=function(){this.bulletHandler.DisposeAllBullets()},t.prototype.SetupBullet=function(){this.spawnBullet&&this.bulletHandler.Setup(this.launcherNodes)},t.prototype.KillBulletByShootId=function(e){var t=this;this.bulletHandler.DisposeBulletByShootId(e,function(e){t.HandleSpawnExplosion(e.node,!1)})},t.prototype.GetAllSpawnedBullets=function(){return this.bulletHandler.SpawnedBullets},t.prototype.SpawnBullet=function(e){var t=this;this.spawnBullet&&this.bulletHandler.FireBullet(this.GetDirection(),e,function(e,o){t.SendHitRequest(e),t.HandleSpawnExplosion(o,!0)},void 0!=e.ExtraParameter&&void 0!=e.ExtraParameter.targetFishId?e.ExtraParameter.targetFishId:-1)},t.prototype.SetupMuzzle=function(){this.spawnMuzzle&&this.muzzlehandler.Setup()},t.prototype.HandleSpawnMuzzle=function(e){this.spawnMuzzle&&this.muzzlehandler.SpawnMuzzle(e)},t.prototype.SetupGunExplosion=function(){this.spawnExplosion&&this.gunExplosionHandler.Setup()},t.prototype.HandleSpawnExplosion=function(e,t){this.spawnExplosion&&this.gunExplosionHandler.SpawnExplosion(e,t)},t.prototype.update=function(e){this.gunPostShootedDuration+=e,null!=this.lockedFishCollider?this.gunPostShootedDuration>=this.fireInterval&&(this.FaceLockedFish(),this.AttemptShootRequest(this.lockedFishCollider.BindedFish.FishId)):this.isFiring&&this.gunPostShootedDuration>=this.fireInterval&&this.AttemptShootRequest()},t.prototype.AttemptShootRequest=function(e){this.SendGunFireWeaponRequest(e),this.gunPostShootedDuration=0},t.prototype.SendGunFireWeaponRequest=function(e,t){if(void 0!=e||void 0!=t){var o={};void 0!=e&&(o=__assign({targetFishId:e})),void 0!=t&&(o=__assign({},t)),this.SendFireWeaponRequest(o)}else this.SendFireWeaponRequest()},t.prototype.LockFish=function(e){this.lockedFishCollider=e},t.prototype.CancelLockFish=function(){this.lockedFishCollider=null},t.prototype.FaceLockedFish=function(){if(null!=this.lockedFishCollider){var e=this.GetDirectionNode(),t=this.lockedFishCollider.node.parent.convertToWorldSpaceAR(this.lockedFishCollider.node.position),o=e.parent.convertToNodeSpaceAR(t).sub(e.position).normalize(),i=180*Math.atan2(o.y,o.x)/Math.PI-90;this.SetDirection(i)}},__decorate([u(d)],t.prototype,"eventTrigger",void 0),__decorate([u(cc.Node)],t.prototype,"launcherNodes",void 0),__decorate([u()],t.prototype,"fireInterval",void 0),__decorate([u],t.prototype,"spawnBullet",void 0),__decorate([u({type:h,visible:function(){return this.spawnBullet}})],t.prototype,"bulletHandler",void 0),__decorate([u],t.prototype,"spawnMuzzle",void 0),__decorate([u({type:f,visible:function(){return this.spawnMuzzle}})],t.prototype,"muzzlehandler",void 0),__decorate([u],t.prototype,"spawnExplosion",void 0),__decorate([u({type:y,visible:function(){return this.spawnExplosion}})],t.prototype,"gunExplosionHandler",void 0),t=__decorate([p],t)}(i.default);o.CommonGun=g,cc._RF.pop()},{"../../../../Core/GameStageController":"GameStageController","../BaseWeapon":"BaseWeapon","./Bullet/BaseBullet":"BaseBullet","./Bullet/ProjectileBullet":"ProjectileBullet","./Explosion/BaseExplosion":"BaseExplosion","./Muzzle/BaseMuzzle":"BaseMuzzle"}],CommonMuzzle:[function(e,t,o){"use strict";cc._RF.push(t,"3d0c5scLgZJf6keRvRtpVTO","CommonMuzzle"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseMuzzle"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.aliveTime=2,t}return __extends(t,e),__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a],t.prototype,"aliveTime",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./BaseMuzzle":"BaseMuzzle"}],CommonPayoutObject:[function(e,t,o){"use strict";cc._RF.push(t,"f6d6dI/dPdOa5cq4baUrruo","CommonPayoutObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BasePayoutObject"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winAmountLabel=void 0,t.animation=void 0,t.executeAnimationKey="Payout",t}return __extends(t,e),t.prototype.OnExecute=function(e){this.SetWinAmountText(e.PayoutAmount.toString()),this.animation&&this.animation.play(this.executeAnimationKey)},t.prototype.SetWinAmountText=function(e){this.winAmountLabel&&(this.winAmountLabel.string=e)},__decorate([a(cc.Label)],t.prototype,"winAmountLabel",void 0),__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a],t.prototype,"executeAnimationKey",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./BasePayoutObject":"BasePayoutObject"}],Configuration:[function(e,t,o){"use strict";cc._RF.push(t,"6b9aav8gtJBrLKxD9qygrk1","Configuration"),window.gameConfiguration={fishGroupConfig:[{groupId:1,spawnExecuteData:{spawnMethod:"OneOff",userServerAliveTime:!0}},{groupId:2,spawnExecuteData:{isSpecialGroup:!0}},{groupId:3,spawnExecuteData:{isSpecialGroup:!0}},{groupId:4,spawnExecuteData:{isSpecialGroup:!0}},{groupId:5,spawnExecuteData:{spawnMethod:"OneByOne",spawnInterval:.7}},{groupId:6,spawnExecuteData:{spawnMethod:"OneByOne",spawnInterval:1}},{groupId:7,spawnExecuteData:{isSpecialGroup:!0}},{groupId:8,spawnExecuteData:{isSpecialGroup:!0}},{groupId:9,spawnExecuteData:{isSpecialGroup:!0}}]},cc._RF.pop()},{}],CustomLogicDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"84e91Z4ftFFRalUx53PqGyh","CustomLogicDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../RouteData/RouteLogic/RouteBaseCustomExecuteLogic"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.customLogics=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.customLogics.length;t++)e.push(new i.CapturedRouteData(t,this.customLogics[t].customDuration,this.customLogics[t]));return e},__decorate([s(n.default)],t.prototype,"customLogics",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../RouteData/RouteLogic/RouteBaseCustomExecuteLogic":"RouteBaseCustomExecuteLogic","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],DebugPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"d0596qywwZJzIyojt19qtER","DebugPlayer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Network/NetworkGameDataController"),n=e("../Core/GameController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(){function e(){this.button=void 0,this.token="",this.playerId=""}return Object.defineProperty(e.prototype,"Button",{get:function(){return this.button},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Token",{get:function(){return this.token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),__decorate([s(cc.Button)],e.prototype,"button",void 0),__decorate([s()],e.prototype,"token",void 0),__decorate([s()],e.prototype,"playerId",void 0),e=__decorate([a("DebugPlayerProperties")],e)}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerProperties=[],t.gameController=void 0,t.networkGameDataController=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;if(void 0!=this.gameController)if(void 0!=this.networkGameDataController)for(var t=function(t){var i=t;o.playerProperties[t].Button.node.on("click",function(){e.HandleOnPlayerButtonClicked(e.playerProperties[i].PlayerId,e.playerProperties[i].Token)})},o=this,i=0;i<this.playerProperties.length;i++)t(i);else console.error("on "+this.node.name+" you need to assign network game data controll!");else console.error("on "+this.node.name+" you need to assign gameController!")},t.prototype.HandleOnPlayerButtonClicked=function(e,t){this.gameController.SetLocalPlayerId(e),this.networkGameDataController.SetupNetworkData(t),this.node.active=!1},__decorate([s(l)],t.prototype,"playerProperties",void 0),__decorate([s(n.default)],t.prototype,"gameController",void 0),__decorate([s(i.default)],t.prototype,"networkGameDataController",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../Core/GameController":"GameController","../Network/NetworkGameDataController":"NetworkGameDataController"}],Event:[function(e,t,o){"use strict";cc._RF.push(t,"72a26BdrWFFdZWn3kJWPphE","Event"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e.GameState_LocalPlayer_SeatedIn="GameState-LocalPlayer-SeatedIn",e.Fish_Activated="Fish-Activated",e.Fish_Death="Fish-Death",e.Fish_Disposed="Fish-Disposed",e.Fish_Clicked="Fish-Clicked",e.Fish_Collider_EnterGameStage="Fish-Collider-EnterGameStage",e.Fish_Collider_ExitGameStage="Fish-Collider-ExitGameStage",e.Weapon_Fired="Weapon-Fired"}(o.FishEvent||(o.FishEvent={}));var i=function(){return function(e){this.detail=e}}();o.FishEventInit=i;var n=function(){function e(e,t,o){this.seatNode=void 0,this.isFlipped=void 0,this.seatInfo=void 0,this.seatNode=e,this.isFlipped=t,this.seatInfo=o}return Object.defineProperty(e.prototype,"SeatNode",{get:function(){return this.seatNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFlipped",{get:function(){return this.isFlipped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SeatInfo",{get:function(){return this.seatInfo},enumerable:!0,configurable:!0}),e}();o.PlayerSeatInEventData=n;var r=function(){function e(e,t,o){this.targetFish=void 0,this.fishStatus=void 0,this.statusInfo=void 0,this.targetFish=e,this.fishStatus=t,this.statusInfo=o}return Object.defineProperty(e.prototype,"TargetFish",{get:function(){return this.targetFish},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishStatus",{get:function(){return this.fishStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StatusInfo",{get:function(){return this.statusInfo},enumerable:!0,configurable:!0}),e}();o.FishDeathEventData=r,cc._RF.pop()},{}],FishCollider:[function(e,t,o){"use strict";cc._RF.push(t,"066f7iakhlImpkzt3sA/oBu","FishCollider"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=(n.property,n.requireComponent),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collider=void 0,t.bindedFish=void 0,t.onCollisionEnterCallback=void 0,t.onClickedCallback=void 0,t.OnColliderClicked=function(){t.onClickedCallback&&t.onClickedCallback(t)},t}return __extends(t,e),Object.defineProperty(t.prototype,"Collider",{get:function(){return this.collider},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BindedFish",{get:function(){return this.bindedFish},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e,t,o){this.bindedFish=e,this.onCollisionEnterCallback=t,this.onClickedCallback=o,this.collider=this.node.getComponent(cc.Collider),null==this.collider&&i.default.Instance.Error(this,"collider is missing!")},t.prototype.onCollisionEnter=function(e,t){this.onCollisionEnterCallback&&this.onCollisionEnterCallback(e)},t.prototype.update=function(e){},t.prototype.SetColliderActivation=function(e){this.collider.enabled=e,e?this.node.on(cc.Node.EventType.MOUSE_DOWN,this.OnColliderClicked):this.node.off(cc.Node.EventType.MOUSE_DOWN,this.OnColliderClicked)},t=__decorate([r,a(cc.Collider)],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager"}],FishGroupSpawnHandler:[function(e,t,o){"use strict";cc._RF.push(t,"579a8Xr85hBaqExv/CvHOSY","FishGroupSpawnHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activateFishAction=void 0,t}return __extends(t,e),t.prototype.Setup=function(){this.OnSetup()},t.prototype.SetupActions=function(e){this.activateFishAction=e},t.prototype.OnSetup=function(){},t.prototype.HandleSpawnedFish=function(e,t,o,i){this.ExecuteHandleSpawnedFish(e,t,o,i)},t.prototype.HandleDisposeGroup=function(e){this.OnDisposeGroup(e)},t.prototype.HandleLevelCleanUpSetted=function(e){this.OnLevelCleanUpSetted(e)},t.prototype.ActivateFish=function(e,t){return void 0===this.activateFishAction?(i.default.Instance.Error(this,"called spawn fish when activateFishAction havent setup!"),null):this.activateFishAction(e,t)},t=__decorate([r],t)}(cc.Component));o.default=a,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager"}],FishLogManager:[function(e,t,o){"use strict";cc._RF.push(t,"cda45TVdHNAr4IVrKOxKyfE","FishLogManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.Setup=function(){if(void 0===e.Instance){var t=new e;e.Instance=t}else console.error("Trying to init log twice!")},e.prototype.Log=function(e,t){console.log(this.ConstructLogString(e,t))},e.prototype.Warn=function(e,t){console.warn(this.ConstructLogString(e,t))},e.prototype.Error=function(e,t){console.error(this.ConstructLogString(e,t))},e.prototype.ConstructLogString=function(e,t){return"Component: "+e.name+" | Message: "+t},e}();o.default=i,cc._RF.pop()},{}],FishManager:[function(e,t,o){"use strict";cc._RF.push(t,"e7989hvHZlIu5ydV1eXG9+M","FishManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=e("./FishGroupSpawnHandler"),r=e("./BaseFish"),a=e("../Route/RouteData/RouteData"),s=e("../Route/Applier/BaseRouteApplier"),l=e("../Route/RouteManager"),c=e("../Core/Event"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(){function e(e){this.originGameTime=0,this.originTimeStamp=0,this.originGameTime=e,this.originTimeStamp=this.GetLocalTimeStampNow()}return e.prototype.GetCurrentGameTime=function(){return this.originGameTime+(this.GetLocalTimeStampNow()-this.originTimeStamp)},e.prototype.GetLocalTimeStampNow=function(){return(new Date).getTime()/1e3},e}(),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupConfig=void 0,t.timeStampData=null,t.pendingGenerateFishGroupDatas=[],t.generatedFishGroupDatas=[],t.groupSpawnHandler=void 0,t.inactiveFishHodler=void 0,t.activatedFishHolder=void 0,t.inactiveFishes=void 0,t.activatedFishes=void 0,t.ActivateFish=function(e,o){for(var n=void 0,r=t.inactiveFishes.length-1;r>=0;r--)if(t.inactiveFishes[r].FishId===e){n=t.inactiveFishes[r],t.inactiveFishes.splice(r,1);break}if(void 0===n)return i.default.Instance.Error(t,"trying to activate fish but unable to find in inActiveList!"),null;n.node.setParent(t.activatedFishHolder),n.node.setPosition(new cc.Vec3(9999,9999,0)),t.activatedFishes.push(n);var p=!1;if(o){var u=t.ConvertToMethodExecuteData(o);if(u.RouteMethod==a.RouteMethod.Custom);else if(null!=u){null==n.node.getComponent(s.default)&&n.node.addComponent(s.default);var d=n.node.getComponent(s.default);l.RouteManager.Instance.ExecuteApplier(t.ConvertToRouteExecuteData(d,u)),p=!0}}return p||(null!=n.node.getComponent(s.default)&&n.node.removeComponent(s.default),n.node.setPosition(new cc.Vec3(0,0,0))),dispatchEvent(new CustomEvent(c.FishEvent.Fish_Activated,new c.FishEventInit(n))),n},t.timeoutFastFowardSpeed=5,t.fishSampleHolder=void 0,t.fishBasePoolingCount=30,t.fishPools=void 0,t}return __extends(t,e),t.prototype.Setup=function(){this.ReadConfig(),this.SetupFishPooling(),this.SetupGroupSpawnHandler()},t.prototype.update=function(e){this.HandleFishGroupDataSpawnChecking(),this.HandleGeneratedFishGroupUnspawnChecking()},t.prototype.ReadConfig=function(){this.groupConfig=[];for(var e=window.gameConfiguration.fishGroupConfig,t=0;t<e.length;t++)this.groupConfig.push(new y(e[t]))},t.prototype.GetConfigData=function(e){for(var t=0;t<this.groupConfig.length;t++)if(this.groupConfig[t].GroupId==e)return this.groupConfig[t];return i.default.Instance.Error(this,"Trying to get unexisted GroupConfigData with id "+e),null},t.prototype.SetupTime=function(e,t){this.timeStampData=new h(t-e)},t.prototype.ApplyFishGroupDataToPending=function(e){this.pendingGenerateFishGroupDatas=this.pendingGenerateFishGroupDatas.concat(e)},t.prototype.ResetAndApplyFishGroupData=function(e){this.pendingGenerateFishGroupDatas=e.FishGroupInfos,this.generatedFishGroupDatas=[],this.SetupTime(e.GameData.RemainingGametime,e.GameData.MaxGameTime),this.HandleFishGroupDataSpawnChecking()},t.prototype.HandleFishGroupDataSpawnChecking=function(){if(null!=this.timeStampData)for(var e=this.timeStampData.GetCurrentGameTime(),t=this.pendingGenerateFishGroupDatas.length-1;t>=0;t--){var o=this.pendingGenerateFishGroupDatas[t];e>=o.SpawnTime+o.AliveDuration?this.pendingGenerateFishGroupDatas.splice(t,1):e>=this.pendingGenerateFishGroupDatas[t].SpawnTime&&(this.HandleSpawnFishGroup(this.pendingGenerateFishGroupDatas[t],(e-o.SpawnTime)/o.AliveDuration),this.generatedFishGroupDatas.push(this.pendingGenerateFishGroupDatas[t]),this.pendingGenerateFishGroupDatas.splice(t,1))}},t.prototype.HandleGeneratedFishGroupUnspawnChecking=function(){if(null!=this.timeStampData)for(var e=this.timeStampData.GetCurrentGameTime(),t=this.generatedFishGroupDatas.length-1;t>=0;t--){var o=this.generatedFishGroupDatas[t];if(e>=o.SpawnTime+o.AliveDuration){for(var i=0;i<o.FishInfos.length;i++){var n=o.FishInfos[i];this.DisposeFishInFishList(n.FishId,this.activatedFishes),this.DisposeFishInFishList(n.FishId,this.inactiveFishes)}this.groupSpawnHandler.HandleDisposeGroup(o),this.generatedFishGroupDatas.splice(t,1)}}},t.prototype.AddLifeDurationToSpawnedGroups=function(e){for(var t=0;t<this.generatedFishGroupDatas.length;t++)this.generatedFishGroupDatas[t].AddAliveDuration(e)},Object.defineProperty(t.prototype,"ActivatedFishes",{get:function(){return this.activatedFishes},enumerable:!0,configurable:!0}),t.prototype.SetupGroupSpawnHandler=function(){void 0!==this.groupSpawnHandler?void 0!==this.inactiveFishHodler&&void 0!==this.activatedFishHolder?(this.inactiveFishes=[],this.activatedFishes=[],this.groupSpawnHandler.Setup(),this.groupSpawnHandler.SetupActions(this.ActivateFish)):i.default.Instance.Error(this,"inactiveFishHodler is missing!"):i.default.Instance.Error(this,"groupSpawnHandler is missing!")},t.prototype.HandleSpawnFishGroup=function(e,t){var o=this.GetConfigData(e.GroupId);if(null!==o){for(var n=[],r=0;r<e.FishInfos.length;r++){var a=e.FishInfos[r],s=this.SpawnFish(a.FishType);null!==s?(s.HandleOnSpawned(a),s.node.setParent(this.inactiveFishHodler),s.node.position=cc.Vec3.ZERO,n.push(s),this.inactiveFishes.push(s)):i.default.Instance.Error(this,"Getting null from SpawnFish!")}this.groupSpawnHandler.HandleSpawnedFish(n,t,e,o)}else i.default.Instance.Error(this,"gotted null for fishGroupConfig")},t.prototype.GetAcivatedFish=function(e){for(var t=0;t<this.activatedFishes.length;t++)if(this.activatedFishes[t].FishId===e)return this.activatedFishes[t];return null},t.prototype.RemoveActivatedFish=function(e){for(var t=this.activatedFishes.length-1;t>=0;t--)this.activatedFishes[t].FishId===e&&this.activatedFishes.splice(t,1)},t.prototype.GetInactiveFish=function(e){for(var t=0;t<this.inactiveFishes.length;t++)if(this.inactiveFishes[t].FishId===e)return this.inactiveFishes[t];return null},t.prototype.RemoveInactiveFish=function(e){for(var t=this.inactiveFishes.length-1;t>=0;t--)this.inactiveFishes[t].FishId===e&&this.inactiveFishes.splice(t,1)},t.prototype.DisposeFishInFishList=function(e,t){for(var o=0;o<t.length;o++)if(t[o].FishId==e)return this.GetFishPool(t[o].FishType).DisposeFish(t[o]),void t.splice(o,1)},t.prototype.UpdateFishStatus=function(e){for(var t=e.FishStatusInfo,o=0;o<t.length;o++)t[o].IsAlive||this.HandleFishDeath(t[o],e)},t.prototype.SetCleanUpStarted=function(){l.RouteManager.Instance.SetExecutionSpeed(this.timeoutFastFowardSpeed),this.groupSpawnHandler.HandleLevelCleanUpSetted(!0);for(var e=0;e<this.activatedFishes.length;e++)this.activatedFishes[e].HandleOnLevelCleanUp();for(e=0;e<this.inactiveFishes.length;e++)this.GetFishPool(this.inactiveFishes[e].FishType).DisposeFish(this.inactiveFishes[e]);this.inactiveFishes=[],this.pendingGenerateFishGroupDatas=[]},t.prototype.SetCleanUpCompleted=function(){l.RouteManager.Instance.SetExecutionSpeed(1),this.groupSpawnHandler.HandleLevelCleanUpSetted(!1);for(var e=0;e<this.activatedFishes.length;e++)this.GetFishPool(this.activatedFishes[e].FishType).DisposeFish(this.activatedFishes[e]);this.activatedFishes=[],this.generatedFishGroupDatas=[]},t.prototype.HandleFishDeath=function(e,t){var o=null;null!==(o=this.GetAcivatedFish(e.FishId))?this.RemoveActivatedFish(e.FishId):null!==(o=this.GetInactiveFish(e.FishId))&&this.RemoveInactiveFish(e.FishId),null!==o&&(null!=o.node.getComponent(s.default)&&l.RouteManager.Instance.StopApplierExecution(o.node.getComponent(s.default)),o.HandleOnDeath(e),dispatchEvent(new CustomEvent(c.FishEvent.Fish_Death,new c.FishEventInit(new c.FishDeathEventData(o,e,t)))))},t.prototype.SetupFishPooling=function(){if(void 0!==this.fishSampleHolder){var e=this.fishSampleHolder.getComponentsInChildren(r.default);this.fishPools=[];for(var t=0;t<e.length;t++)this.fishPools.push(new g(e[t],this.fishBasePoolingCount)),e[t].node.active=!1}else i.default.Instance.Error(this,"fishSampleHolder is missing!")},t.prototype.GetFishPool=function(e){for(var t=0;t<this.fishPools.length;t++)if(this.fishPools[t].FishType==e)return this.fishPools[t];return i.default.Instance.Error(this,"trying to get fish pool that not exisisted! type: "+e),null},t.prototype.SpawnFish=function(e){var t=this.GetFishPool(e);if(null===t)return i.default.Instance.Error(this,"unable to get fish pool!"),null;var o=t.GetFishNode();return o.active||(o.active=!0),o.getComponent(r.default)},t.prototype.ConvertToMethodExecuteData=function(e){var t=e.RawData[0],o=a.RouteMethod.None;if((o="L"===t?a.RouteMethod.Linear:"C"===t?a.RouteMethod.BezierCurve:"P"===t?a.RouteMethod.FixPoint:"G"===t?a.RouteMethod.Generic:"K"===t?a.RouteMethod.Custom:"A"===t?a.RouteMethod.Animation:a.RouteMethod.None)===a.RouteMethod.FixPoint||o===a.RouteMethod.BezierCurve||o===a.RouteMethod.Generic||o===a.RouteMethod.Animation){var i=e.RawData.split("_"),n=[];if(i.length>2)for(var r=2;r<i.length;r++)n.push(i[r]);return new a.RouteMethodExecuteData(o,parseInt(i[1])-1,e.OverrideDuration,e.ProgressOffset,n)}if(o===a.RouteMethod.Linear){var s=e.RawData.substr(1,e.RawData.length-1);return new a.RouteMethodExecuteData(o,parseInt(s),e.OverrideDuration,e.ProgressOffset)}return o===a.RouteMethod.Custom?new a.RouteMethodExecuteData(o,-1,e.OverrideDuration,e.ProgressOffset,[e.RawData]):null},t.prototype.ConvertToRouteExecuteData=function(e,t){return new a.ApplierExecuteData(e,t)},__decorate([d(n.default)],t.prototype,"groupSpawnHandler",void 0),__decorate([d(cc.Node)],t.prototype,"inactiveFishHodler",void 0),__decorate([d(cc.Node)],t.prototype,"activatedFishHolder",void 0),__decorate([d()],t.prototype,"timeoutFastFowardSpeed",void 0),__decorate([d(cc.Node)],t.prototype,"fishSampleHolder",void 0),__decorate([d],t.prototype,"fishBasePoolingCount",void 0),t=__decorate([u],t)}(cc.Component);o.default=f;var y=function(){function e(e){this.groupId=0,this.spawnExecuteData=void 0,this.groupId=e.groupId,this.spawnExecuteData=e.spawnExecuteData}return Object.defineProperty(e.prototype,"GroupId",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpawnExecuteData",{get:function(){return this.spawnExecuteData},enumerable:!0,configurable:!0}),e}();o.FishGroupConfigData=y;var g=function(){function e(e,t){var o=this;this.fishRef=void 0,this.pool=void 0,this.DisposeFish=function(e){e.NotifyDisposed(),e.node.active=!1,o.pool.put(e.node),dispatchEvent(new CustomEvent(c.FishEvent.Fish_Disposed,new c.FishEventInit(e)))},this.FireFishColliderClickEvent=function(e){dispatchEvent(new CustomEvent(c.FishEvent.Fish_Clicked,new c.FishEventInit(e)))},this.fishRef=e,this.pool=new cc.NodePool;for(var i=0;i<t;i++)this.GenerateNewNode()}return Object.defineProperty(e.prototype,"FishType",{get:function(){return this.fishRef.FishType},enumerable:!0,configurable:!0}),e.prototype.GetFishNode=function(){return this.pool.size()<=0&&this.GenerateNewNode(),this.pool.get()},e.prototype.GenerateNewNode=function(){var e=cc.instantiate(this.fishRef.node),t=e.getComponent(r.default);t.Setup(),t.RegisterDisposeAction(this.DisposeFish),t.RegisterColliderClickedCallback(this.FireFishColliderClickEvent),this.pool.put(e)},e}(),v=function(){function e(e,t,o){this.rawData=void 0,this.overrideDuration=0,this.progressOffset=0,this.rawData=e,this.overrideDuration=t,this.progressOffset=o}return Object.defineProperty(e.prototype,"RawData",{get:function(){return this.rawData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OverrideDuration",{get:function(){return this.overrideDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ProgressOffset",{get:function(){return this.progressOffset},enumerable:!0,configurable:!0}),e}();o.FishActivateRouteData=v,cc._RF.pop()},{"../Core/Event":"Event","../Core/FishLogManager":"FishLogManager","../Route/Applier/BaseRouteApplier":"BaseRouteApplier","../Route/RouteData/RouteData":"RouteData","../Route/RouteManager":"RouteManager","./BaseFish":"BaseFish","./FishGroupSpawnHandler":"FishGroupSpawnHandler"}],FishWarAwakeningDragonFish:[function(e,t,o){"use strict";cc._RF.push(t,"aabacFJTpxJX6pCUfGGDhnj","FishWarAwakeningDragonFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.node.opacity=255},t.prototype.OnFishDeath=function(){var e=this;this.animation.pause(),setTimeout(function(){cc.tween(e.node).to(1,{opacity:0}).start()},1e3)},t.prototype.OnFishCleanUp=function(){},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarAwakeningDragonPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"a1987eZhsZG7aBWqX2evBWl","FishWarAwakeningDragonPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.bgNode=void 0,t.dragonNodes=[],t.hitCountNode=void 0,t.explosionNode=void 0,t.titleAppearCount=8,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleCoverSkeleton=void 0,t.titleLabel=void 0,t.bgSkeleton=void 0,t.dragonNodeAnimations=[],t.hitCountAnimation=void 0,t.hitCountLabel=void 0,t.hitCountLabelEffect=void 0,t.hitCountCoverSkeleton=void 0,t.explosionSkeleton=void 0,t.appearCounter=0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleCoverSkeleton=cc.find("Title/Cover",this.titleNode).getComponent(sp.Skeleton),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.bgSkeleton=this.bgNode.getComponent(sp.Skeleton);for(var e=0;e<this.dragonNodes.length;e++)this.dragonNodeAnimations.push(this.dragonNodes[e].getComponent(cc.Animation));this.hitCountAnimation=this.hitCountNode.getComponent(cc.Animation),this.hitCountLabel=cc.find("Label",this.hitCountNode).getComponent(cc.Label),this.hitCountLabelEffect=cc.find("Label/FadeEffect",this.hitCountNode).getComponent(cc.Label),this.hitCountCoverSkeleton=cc.find("CoverEffect",this.hitCountNode).getComponent(sp.Skeleton),this.explosionSkeleton=this.explosionNode.getComponent(sp.Skeleton),this.appearCounter=this.titleAppearCount,this.Reset()},t.prototype.Reset=function(){this.titleLabel.node.active=!1,this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.bgNode.active=!1;for(var e=0;e<this.dragonNodes.length;e++)this.dragonNodes[e].active=!1;this.hitCountNode.active=!1,this.explosionNode.active=!1},t.prototype.OnSpawn=function(e){this.appearCounter++,this.appearCounter>=this.titleAppearCount&&(this.EnterPresentation(),this.appearCounter=0)},t.prototype.OnDeath=function(e){console.warn(e.FishStatus),101!=e.TargetFish.FishType&&this.DeathPresentation(e)},t.prototype.EnterPresentation=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"dragon_wait",!1),[4,this.WaitForSecs(.5)];case 1:return e.sent(),this.titleSkeleton.setAnimation(0,"dragon_enter",!1),this.bgNode.active=!0,[4,this.WaitForSecs(1)];case 2:return e.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 3:return e.sent(),this.titleNode.active=!1,[2,!0]}})})},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r,a,s;return __generator(this,function(l){switch(l.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,o=e.FishStatus.SpecialParams[2],i=0,t&&(this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"AwakeningDragon"),this.cameraShaker.StartShake(1)),[4,this.WaitForSecs(2)];case 1:return l.sent(),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"dragon_enter2",!1),this.titleCoverSkeleton.setAnimation(0,"dragon_enter2",!1),this.bgSkeleton.setAnimation(0,"enter",!1),[4,this.WaitForSecs(1.5)];case 2:return l.sent(),n=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),r=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/AwakeningDragon",n.node),a=this.node.convertToNodeSpaceAR(r.parent.convertToWorldSpaceAR(r.position)),cc.tween(this.titleNode).to(.5,{scale:.5}).start(),cc.tween(this.titleNode).to(.5,{position:a}).start(),[4,this.WaitForSecs(.5)];case 3:l.sent(),this.titleSkeleton.setSkin("dragon_2"),this.titleLabel.node.active=!0,this.hitCountNode.active=!0,this.explosionNode.active=!0,i++,this.hitCountLabel.string=i.toString(),this.hitCountLabelEffect.string=i.toString(),this.ExecuteSingleExplosion(t),t&&n.RequestFire(107,0,null,!0),s=1,l.label=4;case 4:return s<o?[4,this.WaitForSecs(4)]:[3,7];case 5:l.sent(),i++,this.hitCountLabel.string=i.toString(),this.hitCountLabelEffect.string=i.toString(),this.ExecuteSingleExplosion(t),l.label=6;case 6:return s++,[3,4];case 7:return[4,this.WaitForSecs(4)];case 8:return l.sent(),this.hitCountAnimation.play("Presentation_HitCount_Out"),this.hitCountCoverSkeleton.setAnimation(0,"nunmber_wait",!1),[4,this.WaitForSecs(.5)];case 9:return l.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO}).start()),this.titleSkeleton.setAnimation(0,"dragon_enter2",!1),this.titleCoverSkeleton.setAnimation(0,"dragon_enter2",!1),[4,this.WaitForSecs(2)];case 10:return l.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 11:return l.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"AwakeningDragon"),this.Reset(),[2,!0]}})})},t.prototype.ExecuteSingleExplosion=function(e){for(var t=this,o=0;o<this.dragonNodes.length;o++)this.dragonNodes[o].active=!0,this.dragonNodeAnimations[o].play();this.hitCountAnimation.play("Presentation_HitCount_Increase"),setTimeout(function(){t.explosionSkeleton.setAnimation(0,"wait",!1),e&&t.cameraShaker.StartShake(1)},300)},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([l(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([l(n.default)],t.prototype,"seatController",void 0),__decorate([l(cc.Node)],t.prototype,"titleNode",void 0),__decorate([l(cc.Node)],t.prototype,"bgNode",void 0),__decorate([l(cc.Node)],t.prototype,"dragonNodes",void 0),__decorate([l(cc.Node)],t.prototype,"hitCountNode",void 0),__decorate([l(cc.Node)],t.prototype,"explosionNode",void 0),__decorate([l(cc.Node)],t.prototype,"titleAppearCount",void 0),t=__decorate([s],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],"FishWarAzureStonePresenter ":[function(e,t,o){"use strict";cc._RF.push(t,"a34c9X+xKRJV4Rp1N+EwSet","FishWarAzureStonePresenter "),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=e("../../../FishCore/Scripts/Route/RouteManager"),s=e("../../../FishCore/Scripts/Fish/FishManager"),l=cc._decorator,c=l.ccclass,p=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.fishManager=void 0,t.titleNode=void 0,t.bgNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.bgSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.bgSkeleton=this.bgNode.getComponentInChildren(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.titleLabelNode.active=!1},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i;return __generator(this,function(n){switch(n.label){case 0:return[4,this.WaitForSecs(1)];case 1:return n.sent(),this.ExecuteFreezeFishes(),this.cameraShaker.StartShake(.6),console.warn(e.FishStatus.SpecialParams),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setAnimation(0,"ice_enter",!1),this.bgNode.active=!0,this.bgSkeleton.setAnimation(0,"enter",!1),this.bgSkeleton.addAnimation(0,"wait",!1),[4,this.WaitForSecs(2)];case 2:return n.sent(),t=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),o=cc.find("PlayerInfoPanel/SpecialFish/TitleTravelDestination/AzureStone",t.node),i=this.node.convertToNodeSpaceAR(o.parent.convertToWorldSpaceAR(o.position)),cc.tween(this.titleNode).to(.5,{scale:0},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:i},{easing:"sineIn"}).start(),[4,this.WaitForSecs(8)];case 3:return n.sent(),this.bgSkeleton.setAnimation(0,"leave",!1),this.ExecuteUnFreezeFishes(),[4,this.WaitForSecs(3)];case 4:return n.sent(),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},t.prototype.ExecuteFreezeFishes=function(){a.RouteManager.Instance.SetExecutionSpeed(0),this.fishManager.AddLifeDurationToSpawnedGroups(10);for(var e=this.fishManager.ActivatedFishes,t=0;t<e.length;t++)e[t].TriggerCustomEvent("FreezeFish")},t.prototype.ExecuteUnFreezeFishes=function(){a.RouteManager.Instance.SetExecutionSpeed(1);for(var e=this.fishManager.ActivatedFishes,t=0;t<e.length;t++)e[t].TriggerCustomEvent("UnFreezeFish")},__decorate([p(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([p(n.default)],t.prototype,"seatController",void 0),__decorate([p(s.default)],t.prototype,"fishManager",void 0),__decorate([p(cc.Node)],t.prototype,"titleNode",void 0),__decorate([p(cc.Node)],t.prototype,"bgNode",void 0),t=__decorate([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/FishManager":"FishManager","../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Route/RouteManager":"RouteManager","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarBackgroundController:[function(e,t,o){"use strict";cc._RF.push(t,"48c55tCmGNPaL/AaMSD93sp","FishWarBackgroundController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Background/BaseBackgroundController"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map1Node=void 0,t.map1Sprite=void 0,t.map2Node=void 0,t.map2Sprite=void 0,t.map3Node=void 0,t.map3Skeleton=void 0,t.map4Node=void 0,t.map4Skeleton=void 0,t.map5Node=void 0,t.map5Skeleton=void 0,t.map6Node=void 0,t.map6Sprite=void 0,t.transitionWaveSkeleton=void 0,t.audioController=void 0,t.bgmClips=[],t.transitionWaveAudioClip=void 0,t.doTransition=!1,t.currentMapId=-1,t}return __extends(t,e),t.prototype.OnSetup=function(){this.HideAll()},t.prototype.OnPreChangeRound=function(){this.doTransition=!0},t.prototype.OnChangeRound=function(e){var t=this;this.HideAll(),this.doTransition?1==e?(this.map6Node.active=!0,this.map6Node.opacity=255,this.map6Sprite.fillRange=0,this.map6Sprite.fillRange=1,this.map1Node.active=!0,this.map1Node.opacity=255,this.map1Sprite.fillStart=1,this.map1Sprite.fillRange=1,this.transitionWaveSkeleton.node.active=!0,this.transitionWaveSkeleton.setAnimation(0,"enter",!1),this.audioController.PlayAudioWithClip(this.transitionWaveAudioClip,!1),setTimeout(function(){cc.tween(t.map6Sprite).to(1.25,{fillRange:0}).start(),cc.tween(t.map1Sprite).to(1.25,{fillStart:0}).start()},400),setTimeout(function(){t.map6Node.active=!1},2e3)):2==e?(this.map1Node.active=!0,this.map1Node.opacity=255,this.map1Sprite.fillRange=0,this.map1Sprite.fillRange=1,this.map2Node.active=!0,this.map2Node.opacity=255,this.map2Sprite.fillStart=1,this.map2Sprite.fillRange=1,this.transitionWaveSkeleton.node.active=!0,this.transitionWaveSkeleton.setAnimation(0,"enter",!1),this.audioController.PlayAudioWithClip(this.transitionWaveAudioClip,!1),setTimeout(function(){cc.tween(t.map1Sprite).to(1.25,{fillRange:0}).start(),cc.tween(t.map2Sprite).to(1.25,{fillStart:0}).start()},400),setTimeout(function(){t.map1Node.active=!1},2e3)):3==e?(this.map2Node.active=!0,this.map2Node.opacity=255,this.map2Sprite.fillRange=0,this.map2Sprite.fillRange=1,this.map3Node.active=!0,this.map3Node.opacity=255,this.map3Skeleton.setAnimation(0,"wait",!0),this.transitionWaveSkeleton.node.active=!0,this.transitionWaveSkeleton.setAnimation(0,"enter",!1),this.audioController.PlayAudioWithClip(this.transitionWaveAudioClip,!1),setTimeout(function(){cc.tween(t.map2Sprite).to(1.25,{fillRange:0}).start()},400),setTimeout(function(){t.map2Node.active=!1},2e3)):4==e?(this.map3Node.active=!0,this.map3Node.opacity=255,this.map4Node.active=!0,this.map4Node.opacity=0,this.map4Skeleton.setAnimation(0,"wait",!0),this.map3Skeleton.setAnimation(0,"leave",!1),cc.tween(this.map4Node).to(.8,{opacity:255}).start(),setTimeout(function(){t.map3Node.active=!1},2e3)):5==e?(this.map4Node.active=!0,this.map4Node.opacity=255,this.map5Node.active=!0,this.map5Node.opacity=255,this.map5Skeleton.setAnimation(0,"enter",!1),this.map5Skeleton.setAnimation(1,"wait",!0),setTimeout(function(){t.map4Node.active=!1},2e3)):6==e&&(this.map5Node.active=!0,this.map5Node.opacity=255,this.map5Skeleton.setAnimation(0,"leave",!1),this.map6Node.active=!0,this.map6Node.opacity=255,this.map6Sprite.fillStart=0,this.map6Sprite.fillRange=1,setTimeout(function(){t.map5Node.active=!1},2e3)):1==e?(this.map1Node.active=!0,this.map1Node.opacity=255,this.map1Sprite.fillStart=0,this.map1Sprite.fillRange=1):2==e?(this.map2Node.active=!0,this.map2Node.opacity=255,this.map2Sprite.fillStart=0,this.map2Sprite.fillRange=1):3==e?(this.map3Node.active=!0,this.map3Node.opacity=255,this.map3Skeleton.setAnimation(0,"wait",!0)):4==e?(this.map4Node.active=!0,this.map4Node.opacity=255,this.map4Skeleton.setAnimation(0,"wait",!0)):5==e?(this.map5Node.active=!0,this.map5Node.opacity=255,this.map5Skeleton.setAnimation(0,"wait",!0)):6==e&&(this.map6Node.active=!0,this.map6Node.opacity=255,this.map6Sprite.fillStart=0,this.map6Sprite.fillRange=1),-1!=this.currentMapId&&this.audioController.StopAudioWithClip(this.bgmClips[this.currentMapId-1]),this.audioController.PlayAudioWithClip(this.bgmClips[e-1],!0),this.currentMapId=e,this.doTransition=!1},t.prototype.HideAll=function(){this.map1Node.active=!1,this.map2Node.active=!1,this.map3Node.active=!1,this.map4Node.active=!1,this.map5Node.active=!1,this.map6Node.active=!1,this.transitionWaveSkeleton.node.active=!1},__decorate([s(cc.Node)],t.prototype,"map1Node",void 0),__decorate([s(cc.Sprite)],t.prototype,"map1Sprite",void 0),__decorate([s(cc.Node)],t.prototype,"map2Node",void 0),__decorate([s(cc.Sprite)],t.prototype,"map2Sprite",void 0),__decorate([s(cc.Node)],t.prototype,"map3Node",void 0),__decorate([s(sp.Skeleton)],t.prototype,"map3Skeleton",void 0),__decorate([s(cc.Node)],t.prototype,"map4Node",void 0),__decorate([s(sp.Skeleton)],t.prototype,"map4Skeleton",void 0),__decorate([s(cc.Node)],t.prototype,"map5Node",void 0),__decorate([s(sp.Skeleton)],t.prototype,"map5Skeleton",void 0),__decorate([s(cc.Node)],t.prototype,"map6Node",void 0),__decorate([s(cc.Sprite)],t.prototype,"map6Sprite",void 0),__decorate([s(sp.Skeleton)],t.prototype,"transitionWaveSkeleton",void 0),__decorate([s(n.default)],t.prototype,"audioController",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"bgmClips",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"transitionWaveAudioClip",void 0),t=__decorate([a],t)}(i.BaseBackgroundController);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Background/BaseBackgroundController":"BaseBackgroundController"}],FishWarClickField:[function(e,t,o){"use strict";cc._RF.push(t,"4c453eEVuhPk7GOTBbXKyw1","FishWarClickField"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("../../../FishCore/Scripts/Player/ClickField"),r=e("../../../FishCore/Scripts/Core/Event"),a=e("../../../FishCore/Scripts/Player/Seat/SeatController"),s=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun"),l=e("../../../FishCore/Scripts/Core/GameStageController"),c=e("../UtiliyBar/FishWarUtilityLightningCollider"),p=e("../../../FishCore/Scripts/Network/NetworkGameDataController"),u=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),d=cc._decorator,h=d.ccclass,f=d.property;(function(e){e[e.Normal=0]="Normal",e[e.Aim=1]="Aim",e[e.Auto=2]="Auto",e[e.Lightning=3]="Lightning"})(i=o.FishWarClickFieldMode||(o.FishWarClickFieldMode={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.gameStageController=void 0,t.lockFishIndicator=void 0,t.ligthningIndicator=void 0,t.currentMode=i.Normal,t.lockedFishCollider=null,t.targetFishTypes=[],t.lightingCollider=null,t.HandleOnFishClicked=function(e){t.currentMode==i.Aim&&(t.ExecuteLockFish(e.detail),t.lockFishStartedCallback(e.detail.BindedFish.FishType))},t.HandleOnFishDeath=function(e){t.HandlePostFishGoneWhenLockingFish(e.detail.TargetFish)},t.HandleOnFishDisposed=function(e){t.HandlePostFishGoneWhenLockingFish(e.detail)},t.HandleOnFishColliderEnter=function(e){if(t.currentMode==i.Auto&&null==t.lockedFishCollider){for(var o=!1,n=0;n<t.targetFishTypes.length;n++)if(t.targetFishTypes[n]==e.detail.BindedFish.FishType){o=!0;break}if(!o)return;t.SeekNextLockFishInTargetList()}},t.HandleOnFishColliderExit=function(e){if(t.currentMode!=i.Normal&&null!=t.lockedFishCollider){var o=t.lockedFishCollider.BindedFish.FishId;e.detail===t.lockedFishCollider&&(t.currentMode==i.Aim?t.SeekNextLockFish(t.lockedFishCollider.BindedFish.FishType):t.currentMode==i.Auto&&t.SeekNextLockFishInTargetList()),null!=t.lockedFishCollider&&t.lockedFishCollider.BindedFish.FishId==o||t.DismissLockedFishBullet(o,!0)}},t.HandleOnLightingCommitedHit=function(e){t.seatController.GetLocalPlayerSeatNode().RequestFire(3,0,null),t.seatController.GetLocalPlayerSeatNode().RequestHit(new p.NetworkHitRequestData(u.ConstructLocalShootId(),[e.FishId]))},t}return __extends(t,e),t.prototype.Setup=function(){e.prototype.Setup.call(this),addEventListener(r.FishEvent.Fish_Clicked,this.HandleOnFishClicked),addEventListener(r.FishEvent.Fish_Death,this.HandleOnFishDeath),addEventListener(r.FishEvent.Fish_Disposed,this.HandleOnFishDisposed),addEventListener(r.FishEvent.Fish_Collider_EnterGameStage,this.HandleOnFishColliderEnter),addEventListener(r.FishEvent.Fish_Collider_ExitGameStage,this.HandleOnFishColliderExit),this.lockFishIndicator.active=!1,this.ligthningIndicator.active=!1,this.lightingCollider=this.ligthningIndicator.getComponentInChildren(c.default),this.lightingCollider.Setup(this.HandleOnLightingCommitedHit)},t.prototype.update=function(e){this.currentMode!=i.Normal&&null!=this.lockedFishCollider&&this.lockFishIndicator.setPosition(this.lockFishIndicator.parent.convertToNodeSpaceAR(this.lockedFishCollider.node.parent.convertToWorldSpaceAR(this.lockedFishCollider.node.position)))},t.prototype.RegisterCallbacks=function(e,t){this.lockFishStartedCallback=e,this.lockFishFinishedCallback=t},t.prototype.SetMode=function(e,t){this.currentMode==i.Aim&&e!=i.Aim?this.CancelLockFish():this.currentMode==i.Auto&&e!=i.Auto&&this.CancelLockFish(),e==i.Auto&&this.currentMode!=i.Auto&&(this.targetFishTypes=t,this.SeekNextLockFishInTargetList()),this.currentMode=e},t.prototype.OnPressed=function(t){this.currentMode==i.Normal?e.prototype.OnPressed.call(this,t):this.currentMode==i.Lightning&&(this.ligthningIndicator.active=!0)},t.prototype.OnMouseMoving=function(t){this.currentMode==i.Normal?e.prototype.OnMouseMoving.call(this,t):this.currentMode==i.Lightning&&this.ligthningIndicator.active&&this.ligthningIndicator.setPosition(this.CalculateGameWorldLocation(t.getLocation()))},t.prototype.OnRelease=function(t){this.currentMode==i.Normal?e.prototype.OnRelease.call(this,t):this.currentMode==i.Lightning&&(this.ligthningIndicator.active=!1)},t.prototype.HandlePostFishGoneWhenLockingFish=function(e){this.DismissLockedFishBullet(e.FishId,!1),this.currentMode!=i.Normal&&null!=this.lockedFishCollider&&this.lockedFishCollider.BindedFish.FishId==e.FishId&&(this.currentMode==i.Aim?this.SeekNextLockFish(this.lockedFishCollider.BindedFish.FishType):this.currentMode==i.Auto&&this.SeekNextLockFishInTargetList())},t.prototype.SeekNextLockFishInTargetList=function(){for(var e=null,t=0;t<this.targetFishTypes.length;t++){var o=this.gameStageController.GetOnStageFishCollider(this.targetFishTypes[t]);if(null!=o){e=o;break}}null!=e?(this.lockedFishCollider=e,this.ExecuteLockFish(this.lockedFishCollider)):this.CancelLockFish()},t.prototype.SeekNextLockFish=function(e){var t=this.gameStageController.GetOnStageFishCollider(e);this.lockedFishCollider=t,null!=this.lockedFishCollider?this.ExecuteLockFish(this.lockedFishCollider):this.CancelLockFish()},t.prototype.ExecuteLockFish=function(e){var t=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetCurrentWeapon().getComponent(s.CommonGun);null!=t&&(this.lockedFishCollider=e,t.LockFish(this.lockedFishCollider),this.lockFishIndicator.active=!0)},t.prototype.CancelLockFish=function(){var e=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetCurrentWeapon().getComponent(s.CommonGun);if(null!=e){if(e.CancelLockFish(),null!=this.lockedFishCollider){var t=this.lockedFishCollider.BindedFish.FishId;this.DismissLockedFishBullet(t,!0)}this.lockedFishCollider=null,this.currentMode==i.Aim&&this.lockFishFinishedCallback&&this.lockFishFinishedCallback(),this.lockFishIndicator.active=!1}},t.prototype.DismissLockedFishBullet=function(e,t){var o=[];if(t)o=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetAllSpawnedBullets();else for(var i=this.seatController.GetAllSeatedSeatNodes(),n=0;n<i.length;n++)o=o.concat(i[n].WeaponHolder.GetAllSpawnedBullets());for(n=0;n<o.length;n++)o[n].TargetFishId==e&&o[n].ResetTargetFishId()},__decorate([f(a.default)],t.prototype,"seatController",void 0),__decorate([f(l.default)],t.prototype,"gameStageController",void 0),__decorate([f(cc.Node)],t.prototype,"lockFishIndicator",void 0),__decorate([f(cc.Node)],t.prototype,"ligthningIndicator",void 0),t=__decorate([h],t)}(n.default);o.default=y,cc._RF.pop()},{"../../../FishCore/Scripts/Core/Event":"Event","../../../FishCore/Scripts/Core/GameStageController":"GameStageController","../../../FishCore/Scripts/Network/NetworkGameDataController":"NetworkGameDataController","../../../FishCore/Scripts/Player/ClickField":"ClickField","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun":"CommonGun","../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper","../UtiliyBar/FishWarUtilityLightningCollider":"FishWarUtilityLightningCollider"}],FishWarCoinSpawner:[function(e,t,o){"use strict";cc._RF.push(t,"6f867t/stdFTrSvrVPH9xys","FishWarCoinSpawner"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/CollectCoin/BaseCollectCoinSpawner"),n=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),r=e("./FishWarPlayerBalanceBarWinAmountJumper"),a=e("../../../FishCore/Scripts/Audio/AudioController"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spawnableRadius=10,t.coinsCountToSpawn=7,t.coinsExpandDuration=.2,t.coinsPreFlyDelay=.5,t.coinsFlyInterval=.1,t.coinsFlyDuration=.4,t}return __extends(t,e),t.prototype.OnSpawnCoins=function(e,t){var o=this,i=t.IsLocalPlayer?1:2,s=cc.find("PlayerInfoPanel/CoinFlyMarker",t.node),l=n.CalculateRelativePos(s,this.node);cc.find("PlayerInfoPanel/WinAmountJump",t.node).getComponent(r.default).ManualTrigger(e.FishStatus.PayoutAmount);for(var c=function(e){var t=p.AcquireCoin(i);t.node.setParent(p.node),t.node.setPosition(cc.Vec2.ZERO),cc.tween(t.node).to(p.coinsExpandDuration,{position:p.RandomWithinCircle()}).to(p.coinsPreFlyDelay+e*p.coinsFlyInterval,{}).to(p.coinsFlyDuration,{position:l}).start(),setTimeout(function(){o.DisposeCoin(t)},1e3*(p.coinsExpandDuration+p.coinsPreFlyDelay+e*p.coinsFlyInterval+p.coinsFlyDuration+.2))},p=this,u=0;u<this.coinsCountToSpawn;u++)c(u);a.default.Instance.PlayAudioWithKey("CoinSpawn",!1)},t.prototype.RandomWithinCircle=function(){var e=Math.random()*Math.PI*2,t=Math.random()*this.spawnableRadius,o=t*Math.cos(e),i=t*Math.sin(e);return new cc.Vec2(o,i)},__decorate([c()],t.prototype,"spawnableRadius",void 0),__decorate([c()],t.prototype,"coinsCountToSpawn",void 0),__decorate([c()],t.prototype,"coinsExpandDuration",void 0),__decorate([c()],t.prototype,"coinsPreFlyDelay",void 0),__decorate([c()],t.prototype,"coinsFlyInterval",void 0),__decorate([c()],t.prototype,"coinsFlyDuration",void 0),t=__decorate([l],t)}(i.default);o.default=p,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/CollectCoin/BaseCollectCoinSpawner":"BaseCollectCoinSpawner","../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper","./FishWarPlayerBalanceBarWinAmountJumper":"FishWarPlayerBalanceBarWinAmountJumper"}],FishWarCommonBullet:[function(e,t,o){"use strict";cc._RF.push(t,"dadf0YGGBFHD5OYGsvvk7X9","FishWarCommonBullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/Bullet/ProjectileBullet"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.bulletSprite=void 0,t.localPlayerSpriteFrame=void 0,t.otherPlayerSpriteFrame=void 0,t}return __extends(t,e),t.prototype.HandleFire=function(t,o,i){e.prototype.HandleFire.call(this,t,o,i);var n=this.seatController.GetSeatNodeByPlayerId(i.PlayerId);null!=n&&(this.bulletSprite.spriteFrame=n.IsLocalPlayer?this.localPlayerSpriteFrame:this.otherPlayerSpriteFrame)},__decorate([s(n.default)],t.prototype,"seatController",void 0),__decorate([s(cc.Sprite)],t.prototype,"bulletSprite",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"localPlayerSpriteFrame",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"otherPlayerSpriteFrame",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Player/Seat/Weapon/Gun/Bullet/ProjectileBullet":"ProjectileBullet"}],FishWarCommonFish:[function(e,t,o){"use strict";cc._RF.push(t,"40fd5ekuLpHG4VM6qq3Arnv","FishWarCommonFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/CommonFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.idleAnimations=[],t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.lightningNode=void 0,t.lightningDisableTracker=-1,t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){e.prototype.OnFishSpawned.call(this),this.node.scale=1,this.SetLightningNodeActive(!1);for(var t=0;t<this.idleAnimations.length;t++)this.idleAnimations[t].play()},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}else if("FreezeFish"==e)for(var o=0;o<this.idleAnimations.length;o++)this.idleAnimations[o].pause();else if("UnFreezeFish"==e)for(o=0;o<this.idleAnimations.length;o++)this.idleAnimations[o].resume()},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningNode&&(this.lightningNode.opacity=e?255:0)},__decorate([a(cc.Animation)],t.prototype,"idleAnimations",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),__decorate([a(cc.Node)],t.prototype,"lightningNode",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/CommonFish":"CommonFish"}],FishWarCommonGun:[function(e,t,o){"use strict";cc._RF.push(t,"766f1feH7NGKbfsgE7P1gLK","FishWarCommonGun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gunSkeleton=void 0,t.doubleMode=!1,t.doubleLauncherFlag=!1,t.gunMode=-1,t.bulletHandlers=[],t.bulletExplosionHandlers=[],t.audioController=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){e.prototype.OnSetup.call(this),this.SetupBulletHandlers(),this.SetupBulletExplosionHandlers()},t.prototype.OnCleanUpWeapon=function(){e.prototype.OnCleanUpWeapon.call(this);for(var t=0;t<this.bulletHandlers.length;t++)this.bulletHandlers[t].DisposeAllBullets()},t.prototype.SetDoubleMode=function(e){this.doubleMode=e,e?(this.doubleLauncherFlag=!1,this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_change_2",!1)):this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_ease_out_3",!1)},t.prototype.OnBetAmountUpdated=function(e,t){var o=this.GetBelongedGunModeIndex(t);o!=this.gunMode&&this.SwitchGunMode(o)},t.prototype.AttemptShootRequest=function(t){e.prototype.AttemptShootRequest.call(this,t),this.doubleMode&&this.SendGunFireWeaponRequest(t)},t.prototype.OnExecuteFireWeapon=function(t){e.prototype.OnExecuteFireWeapon.call(this,t),this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_shot"+(this.doubleMode?"_2":""),!1),this.FireBullet(t),this.PlayGunShootAudio()},t.prototype.SwitchGunMode=function(e){this.gunMode=e,this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_open"+(this.doubleMode?"_2":""),!1),this.PlayChangeGunAudio()},t.prototype.GetBelongedGunModeIndex=function(e){return 0===e||1===e?0:2===e||3===e?1:4===e||5===e?2:6===e||7===e?3:8===e||9===e?4:10===e||11===e?5:0},t.prototype.OnSelected=function(){e.prototype.OnSelected.call(this),this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_ease_in",!1);for(var t=0;t<this.bulletHandlers.length;t++)this.bulletHandlers[t].SetIsLocalPlayer(this.IsLocalPlayer)},t.prototype.OnUnSelected=function(){e.prototype.OnUnSelected.call(this),this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_ease_out",!1)},t.prototype.GetAllSpawnedBullets=function(){for(var e=[],t=0;t<this.bulletHandlers.length;t++)e=e.concat(this.bulletHandlers[t].SpawnedBullets);return e},t.prototype.SetupBulletHandlers=function(){for(var e=0;e<this.bulletHandlers.length;e++)this.bulletHandlers[e].Setup(this.LauncherNodes)},t.prototype.FireBullet=function(e){var t=this,o=this.gunMode,i=0;this.doubleMode&&(i=this.doubleLauncherFlag?2:1,this.doubleLauncherFlag=!this.doubleLauncherFlag),this.bulletHandlers[this.gunMode].FireBullet(this.GetDirection(),e,function(e,i){t.SendHitRequest(e),t.SpawnExplosion(o,i,!0)},void 0!=e.ExtraParameter&&void 0!=e.ExtraParameter.targetFishId?e.ExtraParameter.targetFishId:-1,i)},t.prototype.KillBulletByShootId=function(e){for(var t=this,o=function(o){var n=o;if(i.bulletHandlers[o].DisposeBulletByShootId(e,function(e){t.SpawnExplosion(n,e.node,!1)}))return"break"},i=this,n=0;n<this.bulletHandlers.length;n++){if("break"===o(n))break}},t.prototype.SetupBulletExplosionHandlers=function(){for(var e=0;e<this.bulletExplosionHandlers.length;e++)this.bulletExplosionHandlers[e].Setup()},t.prototype.SpawnExplosion=function(e,t,o){this.bulletExplosionHandlers[e].SpawnExplosion(t,o)},t.prototype.PlayGunShootAudio=function(){this.IsLocalPlayer&&this.audioController.PlayAudioWithKey("Gun_Shoot_0"+(this.gunMode+1),!1)},t.prototype.PlayChangeGunAudio=function(){this.IsLocalPlayer&&this.audioController.PlayAudioWithKey("Gun_Change",!1)},__decorate([s(sp.Skeleton)],t.prototype,"gunSkeleton",void 0),__decorate([s(i.CommonGunBulletHandler)],t.prototype,"bulletHandlers",void 0),__decorate([s(i.CommonGunBulletExplosionHandler)],t.prototype,"bulletExplosionHandlers",void 0),__decorate([s(n.default)],t.prototype,"audioController",void 0),t=__decorate([a],t)}(i.CommonGun);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun":"CommonGun"}],FishWarCrabFish:[function(e,t,o){"use strict";cc._RF.push(t,"c8bd00MIK9Kmookm0n2TYjp","FishWarCrabFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t,this.skeleton.setAnimation(0,"die",!1)},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarCrabGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"fd98fZJEEVJjZsC5iiZt+XV","FishWarCrabGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialGroup/BaseSpecialGroupExecutor"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.fishHoldersHolder=void 0,t.audioController=void 0,t.onSpawnAudioClip=void 0,t.playState=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){},t.prototype.OnHandleGeneratedFishes=function(e,t,o){for(var i=0;i<e.length;i++){var n=this.AcivateFish(e[i].FishId);n.node.setParent(this.fishHoldersHolder.children[i]),n.node.position=cc.Vec3.ZERO,n.node.angle=0}o.PathData,this.playState=this.animation.play("Horizontal"),this.audioController.PlayAudioWithClip(this.onSpawnAudioClip,!1)},t.prototype.OnGeneratedFishDisposed=function(e){},t.prototype.OnForceDispose=function(){},t.prototype.OnLevelCleanUp=function(){this.playState.speed=5},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([s(cc.Animation)],t.prototype,"animation",void 0),__decorate([s(cc.Node)],t.prototype,"fishHoldersHolder",void 0),__decorate([s(n.default)],t.prototype,"audioController",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"onSpawnAudioClip",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Fish/SpecialGroup/BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],FishWarDragonWheelFish:[function(e,t,o){"use strict";cc._RF.push(t,"360d9KbTA9IlLZ6OWgmZATi","FishWarDragonWheelFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this;setTimeout(function(){cc.tween(e.node).to(1,{scaleX:0}).start(),cc.tween(e.node).to(1,{scaleY:0}).start()},1e3)},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarDragonWheelPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"38c748/nelOh51IEYQrxfFp","FishWarDragonWheelPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(){function e(){this.winRatio=0,this.angle=0}return __decorate([l()],e.prototype,"winRatio",void 0),__decorate([l()],e.prototype,"angle",void 0),e=__decorate([s("FishWarDragonWheelPresenterAngleProperties")],e)}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.wheelNode=void 0,t.wheelSpinning=!1,t.bigWheelNode=void 0,t.bigShineNode=void 0,t.bigShineSkeleton=void 0,t.bigDimmerNode=void 0,t.mediumWheelNode=void 0,t.mediumShineNode=void 0,t.mediumShineSkeleton=void 0,t.mediumDimmerNode=void 0,t.smallWheelNode=void 0,t.smallShineNode=void 0,t.smallShineSkeleton=void 0,t.lightFlowSkeleton=void 0,t.cursorSkeleton=void 0,t.bigWheelWinRatioAngles=[],t.mediumWheelWinRatioAngles=[],t.smallWheelWinRatioAngles=[],t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.SetupWheel(),this.Reset()},t.prototype.update=function(e){this.UpdateWheel(e)},t.prototype.Reset=function(){this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleLabelNode.active=!1,this.ResetWheel()},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r=this;return __generator(this,function(a){switch(a.label){case 0:return(t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId)&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"DragonWheel"),[4,this.WaitForSecs(.5)];case 1:return a.sent(),this.titleNode.active=!0,this.titleSkeleton.node.opacity=255,this.titleSkeleton.setAnimation(0,"enter",!1),t&&this.cameraShaker.StartShake(.6),[4,this.WaitForSecs(1.5)];case 2:return a.sent(),this.titleSkeleton.setAnimation(0,"leave",!1),o=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),i=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/DragonWheel",o.node),n=this.node.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),this.wheelNode.active=!0,cc.tween(this.wheelNode).to(.5,{position:n}).start(),[4,this.WaitForSecs(.5)];case 3:return a.sent(),[4,this.StartWheelPresentation(e.FishStatus.PayoutAmount/o.GetBetAmount())];case 4:return a.sent(),t?cc.tween(this.wheelNode).to(1,{position:cc.Vec3.ZERO}).start():this.titleNode.position=n,[4,this.WaitForSecs(1)];case 5:return a.sent(),this.titleLabel.string=e.FishStatus.PayoutAmount.toString(),this.titleSkeleton.setAnimation(0,"enter2",!1),setTimeout(function(){r.titleLabelNode.active=!0},300),[4,this.WaitForSecs(2)];case 6:return a.sent(),this.titleSkeleton.setAnimation(0,"leave2",!1),this.wheelNode.active=!1,setTimeout(function(){r.titleLabelNode.active=!1},300),[4,this.WaitForSecs(.5)];case 7:return a.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"DragonWheel"),this.Reset(),[2,!0]}})})},t.prototype.SetupWheel=function(){this.bigWheelNode=cc.find("Big",this.wheelNode),this.bigShineNode=cc.find("Shine_Big",this.wheelNode),this.bigShineSkeleton=this.bigShineNode.getComponent(sp.Skeleton),this.bigDimmerNode=cc.find("Dimmer",this.bigWheelNode),this.mediumWheelNode=cc.find("Midium",this.wheelNode),this.mediumShineNode=cc.find("Shine_Medium",this.wheelNode),this.mediumShineSkeleton=this.mediumShineNode.getComponent(sp.Skeleton),this.mediumDimmerNode=cc.find("Dimmer",this.mediumWheelNode),this.smallWheelNode=cc.find("Small",this.wheelNode),this.smallShineNode=cc.find("Shine_Small",this.wheelNode),this.smallShineSkeleton=this.smallShineNode.getComponent(sp.Skeleton),this.lightFlowSkeleton=cc.find("LightFlow",this.wheelNode).getComponent(sp.Skeleton),this.cursorSkeleton=cc.find("Cursor",this.wheelNode).getComponent(sp.Skeleton)},t.prototype.ResetWheel=function(){this.wheelNode.active=!1,this.wheelNode.position=cc.Vec3.ZERO,this.bigWheelNode.angle=0,this.bigShineNode.active=!1,this.bigDimmerNode.opacity=0,this.mediumWheelNode.angle=0,this.mediumShineNode.active=!1,this.mediumDimmerNode.opacity=0,this.smallWheelNode.angle=0,this.smallShineNode.active=!1,this.cursorSkeleton.setAnimation(0,"",!1)},t.prototype.UpdateWheel=function(e){this.wheelSpinning},t.prototype.StartWheelPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return e=100,this.lightFlowSkeleton.setAnimation(0,"pan",!1),this.bigShineNode.active=!0,this.bigShineSkeleton.setAnimation(0,"pan",!1),this.mediumShineNode.active=!0,this.mediumShineSkeleton.setAnimation(0,"pan",!1),this.smallShineNode.active=!0,this.smallShineSkeleton.setAnimation(0,"pan",!1),t=this.GetWinRatioAngle(e,this.bigWheelWinRatioAngles),[4,this.WaitForSecs(1.25)];case 1:return o.sent(),cc.tween(this.bigWheelNode).to(2,{angle:t.angle-720},{easing:"sineOut"}).start(),this.cursorSkeleton.setAnimation(0,"da",!0),[4,this.WaitForSecs(2)];case 2:return o.sent(),0==t.winRatio?[3,4]:(this.bigShineSkeleton.setAnimation(0,"pange_"+t.winRatio,!1),[4,this.WaitForSecs(1)]);case 3:return o.sent(),[3,12];case 4:return this.bigShineSkeleton.setAnimation(0,"pange_jian",!1),[4,this.WaitForSecs(.5)];case 5:return o.sent(),this.cursorSkeleton.setAnimation(0,"zhong_enter",!1),this.cursorSkeleton.addAnimation(0,"zhong_wait",!0),t=this.GetWinRatioAngle(e,this.mediumWheelWinRatioAngles),cc.tween(this.bigDimmerNode).to(.2,{opacity:255}).start(),cc.tween(this.mediumWheelNode).to(2,{angle:t.angle-720},{easing:"sineOut"}).start(),[4,this.WaitForSecs(2)];case 6:return o.sent(),0==t.winRatio?[3,8]:(this.mediumShineSkeleton.setAnimation(0,"pange_"+t.winRatio,!1),[4,this.WaitForSecs(1)]);case 7:return o.sent(),[3,12];case 8:return this.mediumShineSkeleton.setAnimation(0,"pange_jian",!1),[4,this.WaitForSecs(.5)];case 9:return o.sent(),this.cursorSkeleton.setAnimation(0,"xiao_enter",!1),this.cursorSkeleton.addAnimation(0,"xiao_wait",!0),t=this.GetWinRatioAngle(e,this.smallWheelWinRatioAngles),cc.tween(this.mediumDimmerNode).to(.2,{opacity:255}).start(),cc.tween(this.smallWheelNode).to(2,{angle:t.angle-720},{easing:"sineOut"}).start(),[4,this.WaitForSecs(2)];case 10:return o.sent(),this.smallShineSkeleton.setAnimation(0,"pange_"+t.winRatio,!1),[4,this.WaitForSecs(1)];case 11:o.sent(),o.label=12;case 12:return[2,!1]}})})},t.prototype.GetWinRatioAngle=function(e,t){for(var o=0;o<t.length;o++)if(t[o].winRatio==e)return t[o];for(o=0;o<t.length;o++)if(0==t[o].winRatio)return t[o];return null},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([l(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([l(n.default)],t.prototype,"seatController",void 0),__decorate([l(cc.Node)],t.prototype,"titleNode",void 0),__decorate([l(cc.Node)],t.prototype,"wheelNode",void 0),__decorate([l(c)],t.prototype,"bigWheelWinRatioAngles",void 0),__decorate([l(c)],t.prototype,"mediumWheelWinRatioAngles",void 0),__decorate([l(c)],t.prototype,"smallWheelWinRatioAngles",void 0),t=__decorate([s],t)}(i.default);o.default=p,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarFireStormFish:[function(e,t,o){"use strict";cc._RF.push(t,"59929n2x3xG/aTi/XLwYq+N","FishWarFireStormFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarFireStormGun:[function(e,t,o){"use strict";cc._RF.push(t,"f5c73UOIM1P/6ciYk7K3bm9","FishWarFireStormGun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun"),n=e("../../../FishCore/Scripts/Player/Seat/Weapon/SeatWeaponHolder"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponHolder=void 0,t.gunSkeleton=void 0,t.bulletCountNode=void 0,t.bulletCount=0,t.bulletCountLabel=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){e.prototype.OnSetup.call(this),this.node.opacity=0,this.bulletCountNode.active=!1,this.bulletCountLabel=this.bulletCountNode.getComponentInChildren(cc.Label)},t.prototype.OnSelected=function(){e.prototype.OnSelected.call(this),this.node.opacity=255,this.gunSkeleton.setAnimation(0,"gun_spe_in",!1),this.bulletCount=20,this.bulletCountNode.active=!0},t.prototype.OnUnSelected=function(){var t=this;e.prototype.OnUnSelected.call(this),this.gunSkeleton.setAnimation(0,"gun_spe_out",!1),setTimeout(function(){t.node.opacity=0},2e3),this.bulletCountNode.active=!1},t.prototype.OnExecuteFireWeapon=function(t){e.prototype.OnExecuteFireWeapon.call(this,t),this.gunSkeleton.setAnimation(0,"gun_spe_shot",!1),this.bulletCount--,this.bulletCountLabel.string=this.bulletCount.toString(),this.bulletCount<=0&&this.weaponHolder.UnSelectCurrentWeapon()},__decorate([s(n.default)],t.prototype,"weaponHolder",void 0),__decorate([s(sp.Skeleton)],t.prototype,"gunSkeleton",void 0),__decorate([s(cc.Node)],t.prototype,"bulletCountNode",void 0),t=__decorate([a],t)}(i.CommonGun);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun":"CommonGun","../../../FishCore/Scripts/Player/Seat/Weapon/SeatWeaponHolder":"SeatWeaponHolder"}],FishWarFireStormPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"6211awKFMJJTa+CY9Gmr3OT","FishWarFireStormPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.titleNode=void 0,t.fishNode=void 0,t.weaponNode=void 0,t.titleSkeleton=void 0,t.titleAnimation=void 0,t.titleLabel=void 0,t.titleLabelNode=void 0,t.fishSkeleton=void 0,t.weaponSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.fishSkeleton=this.fishNode.getComponent(sp.Skeleton),this.weaponSkeleton=this.weaponNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleNode.active=!1,this.titleLabelNode.active=!1,this.fishNode.active=!1,this.weaponNode.active=!1},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r;return __generator(this,function(a){switch(a.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,3,t&&(this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"FireStorm"),this.seatController.GetLocalPlayerSeatNode().WeaponHolder.UnSelectCurrentWeapon()),o=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),cc.find("BetAmountPanel/FireStormBalance",o.node).opacity=0,i=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.fishNode.active=!0,this.fishNode.position=i,this.fishSkeleton.setAnimation(0,"leave",!1),cc.tween(this.fishNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineOut"}).start(),[4,this.WaitForSecs(1)];case 1:return a.sent(),this.weaponNode.active=!0,this.weaponSkeleton.setAnimation(0,"gun_spe_enter",!1),this.weaponSkeleton.addAnimation(0,"",!1),n=cc.find("Gun",o.node),r=this.node.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),[4,this.WaitForSecs(1)];case 2:return a.sent(),o.WeaponHolder.node.opacity=0,this.weaponNode.setPosition(r),this.titleLabelNode.active=!0,this.titleLabel.string=80..toString(),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setAnimation(0,"fire_enter",!1),this.titleSkeleton.addAnimation(0,"fire_wait",!0),[4,this.WaitForSecs(2.5)];case 3:return a.sent(),this.titleLabelNode.active=!1,this.titleSkeleton.setAnimation(0,"fire_leave",!1),[4,this.WaitForSecs(.5)];case 4:return a.sent(),o.WeaponHolder.node.opacity=255,cc.find("BetAmountPanel/FireStormBalance",o.node).opacity=255,t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"FireStorm"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([s(n.default)],t.prototype,"seatController",void 0),__decorate([s(cc.Node)],t.prototype,"titleNode",void 0),__decorate([s(cc.Node)],t.prototype,"fishNode",void 0),__decorate([s(cc.Node)],t.prototype,"weaponNode",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController"}],FishWarFishAudioController:[function(e,t,o){"use strict";cc._RF.push(t,"92e06UJuxpAXZV3aFc16l05","FishWarFishAudioController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../FishCore/Scripts/Audio/AudioController"),n=e("../../FishCore/Scripts/Core/Event"),r=e("../../FishCore/Scripts/Player/Seat/SeatController"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(){function e(){this.fishTypes=[],this.clips=[]}return Object.defineProperty(e.prototype,"FishTypes",{get:function(){return this.fishTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Clips",{get:function(){return this.clips},enumerable:!0,configurable:!0}),__decorate([l(Number)],e.prototype,"fishTypes",void 0),__decorate([l({type:cc.AudioClip})],e.prototype,"clips",void 0),e=__decorate([s("FishIdAudioClipProperties")],e)}();o.FishTypeAudioClipProperties=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioController=void 0,t.seatController=void 0,t.fishSpawnProps=[],t.fishDeathProps=[],t.HandleOnFishActivated=function(e){var o=t.GetClip(e.detail.FishType,t.fishSpawnProps);null!=o&&t.audioController.PlayAudioWithClip(o,!1)},t.HandleOnFishDeath=function(e){var o=t.seatController.GetLocalPlayerSeatNode();if(null!=o&&e.detail.StatusInfo.PlayerId==o.GetPlayerId()){var i=t.GetClip(e.detail.TargetFish.FishType,t.fishDeathProps);null!=i&&t.audioController.PlayAudioWithClip(i,!1)}},t}return __extends(t,e),t.prototype.onLoad=function(){addEventListener(n.FishEvent.Fish_Activated,this.HandleOnFishActivated),addEventListener(n.FishEvent.Fish_Death,this.HandleOnFishDeath)},t.prototype.GetClip=function(e,t){for(var o=0;o<t.length;o++)for(var i=0;i<t[o].FishTypes.length;i++)if(t[o].FishTypes[i]==e)return t[o].Clips[Math.floor(Math.random()*t[o].Clips.length)];return null},__decorate([l(i.default)],t.prototype,"audioController",void 0),__decorate([l(r.default)],t.prototype,"seatController",void 0),__decorate([l(c)],t.prototype,"fishSpawnProps",void 0),__decorate([l(c)],t.prototype,"fishDeathProps",void 0),t=__decorate([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../FishCore/Scripts/Audio/AudioController":"AudioController","../../FishCore/Scripts/Core/Event":"Event","../../FishCore/Scripts/Player/Seat/SeatController":"SeatController"}],FishWarGhostShipFish:[function(e,t,o){"use strict";cc._RF.push(t,"ba2eecg3gpG/5Z4WA55Ea0F","FishWarGhostShipFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarCommonFish"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.movingAudioClip=void 0,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){e.prototype.OnFishSpawned.call(this),n.default.Instance.PlayAudioWithClip(this.movingAudioClip,!0)},t.prototype.OnFishDeath=function(){e.prototype.OnFishDeath.call(this),n.default.Instance.StopAudioWithClip(this.movingAudioClip)},t.prototype.OnFishCleanUp=function(){e.prototype.OnFishCleanUp.call(this),n.default.Instance.StopAudioWithClip(this.movingAudioClip)},__decorate([s({type:cc.AudioClip})],t.prototype,"movingAudioClip",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","./FishWarCommonFish":"FishWarCommonFish"}],FishWarGhostShipPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"134e5GlN+pMlYCzx9aV2Hnd","FishWarGhostShipPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.titleNode=void 0,t.ghostShipNode=void 0,t.boomNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.ghostShipSkeleton=void 0,t.boomSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.ghostShipSkeleton=this.ghostShipNode.getComponent(sp.Skeleton),this.boomSkeleton=this.boomNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleLabelNode.active=!1,this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.ghostShipNode.active=!1,this.boomNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation()},t.prototype.OnDeath=function(e){103!=e.TargetFish.FishType&&this.DeathPresentation(e)},t.prototype.EnterPresentation=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"pirate_enter",!1),[4,this.WaitForSecs(.5)];case 1:return e.sent(),[4,this.WaitForSecs(1)];case 2:return e.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 3:return e.sent(),this.titleNode.active=!1,[2,!0]}})})},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r;return __generator(this,function(a){switch(a.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,e.FishStatus.SpecialParams[2],0,t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"GhostShip"),o=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.ghostShipNode.angle=e.TargetFish.node.angle,this.ghostShipNode.position=o,this.ghostShipNode.active=!0,this.ghostShipSkeleton.setAnimation(0,"wait_0",!0),cc.tween(this.ghostShipNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineOut"}).start(),[4,this.WaitForSecs(.5)];case 1:return a.sent(),[4,this.WaitForSecs(3)];case 2:return a.sent(),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"pirate_enter2",!1),[4,this.WaitForSecs(1.5)];case 3:return a.sent(),i=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),n=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/GhostShip",i.node),r=this.node.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),cc.tween(this.titleNode).to(.5,{scale:.5},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:r},{easing:"sineIn"}).start(),[4,this.WaitForSecs(.5)];case 4:return a.sent(),this.titleSkeleton.setSkin("pirate_1"),this.titleLabelNode.active=!0,[4,this.WaitForSecs(2)];case 5:return a.sent(),this.boomNode.active=!0,this.boomSkeleton.setAnimation(0,"wait",!0),this.ghostShipSkeleton.setAnimation(0,"wait_1",!0),t&&i.RequestFire(109,0,null,!0),[4,this.WaitForSecs(18)];case 6:return a.sent(),this.boomSkeleton.addAnimation(0,"wait",!1),this.ghostShipSkeleton.setAnimation(0,"leave",!1),[4,this.WaitForSecs(5)];case 7:return a.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineIn"}).start()),[4,this.WaitForSecs(2)];case 8:return a.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(.5)];case 9:return a.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"GhostShip"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([s(n.default)],t.prototype,"seatController",void 0),__decorate([s(cc.Node)],t.prototype,"titleNode",void 0),__decorate([s(cc.Node)],t.prototype,"ghostShipNode",void 0),__decorate([s(cc.Node)],t.prototype,"boomNode",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController"}],FishWarGoldenToadFish:[function(e,t,o){"use strict";cc._RF.push(t,"e6d3fdOEBVKII93UZpiezXb","FishWarGoldenToadFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=e("../../../FishCore/Scripts/Misc/PositionDrivenDirectionUpdater"),r=e("../../../FishCore/Scripts/Audio/AudioController"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.deathEffectSkeleton=void 0,t.lightningNode=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t.movingAudioClip=void 0,t}return __extends(t,e),t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.OnFishSpawned=function(){this.getComponent(n.default).enabled=!0,this.animation.node.opacity=255,this.deathEffectSkeleton.node.active=!1,this.animation.play(),this.SetLightningNodeActive(!1),r.default.Instance.PlayAudioWithClip(this.movingAudioClip,!0)},t.prototype.OnFishDeath=function(){cc.tween(this.animation.node).to(.5,{opacity:0}).start(),this.getComponent(n.default).enabled=!1,this.deathEffectSkeleton.node.active=!0,this.deathEffectSkeleton.setAnimation(0,"",!1),r.default.Instance.StopAudioWithClip(this.movingAudioClip)},t.prototype.OnFishCleanUp=function(){e.prototype.OnFishCleanUp.call(this),r.default.Instance.StopAudioWithClip(this.movingAudioClip)},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningNode&&(this.lightningNode.opacity=e?255:0)},__decorate([l(cc.Animation)],t.prototype,"animation",void 0),__decorate([l(sp.Skeleton)],t.prototype,"deathEffectSkeleton",void 0),__decorate([l(cc.Node)],t.prototype,"lightningNode",void 0),__decorate([l(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([l(cc.Color)],t.prototype,"colorOnHit",void 0),__decorate([l({type:cc.AudioClip})],t.prototype,"movingAudioClip",void 0),t=__decorate([s],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Fish/BaseFish":"BaseFish","../../../FishCore/Scripts/Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater"}],FishWarInfoPanelController:[function(e,t,o){"use strict";cc._RF.push(t,"636b7B0BhhOtLdeUWBpor4m","FishWarInfoPanelController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarInfoPanelTab"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabs=[],t.contents=[],t.closeButton=void 0,t.activateTabIndex=0,t.OnTabClicked=function(e){t.activateTabIndex!=e&&(t.tabs[t.activateTabIndex].SetActivation(!1),t.SetContentActive(t.activateTabIndex,!1),t.tabs[e].SetActivation(!0),t.SetContentActive(e,!0),t.activateTabIndex=e)},t.HandleCloseButtonClicked=function(){t.node.active=!1},t}return __extends(t,e),t.prototype.Setup=function(){for(var e=0;e<this.contents.length;e++)this.contents[e].active=0==e;for(e=0;e<this.tabs.length;e++)this.tabs[e].Setup(e,0==e,this.OnTabClicked);this.closeButton.node.on("click",this.HandleCloseButtonClicked),this.node.active=!1},t.prototype.Show=function(){this.node.active=!0},t.prototype.SetContentActive=function(e,t){this.contents[e].active=t},__decorate([a(i.default)],t.prototype,"tabs",void 0),__decorate([a(cc.Node)],t.prototype,"contents",void 0),__decorate([a(cc.Button)],t.prototype,"closeButton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FishWarInfoPanelTab":"FishWarInfoPanelTab"}],FishWarInfoPanelTab:[function(e,t,o){"use strict";cc._RF.push(t,"e34d8X1CuVJSZErpdk2AasM","FishWarInfoPanelTab"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonComponent=void 0,t.normalNode=void 0,t.activateNode=void 0,t.tabIndex=0,t}return __extends(t,e),t.prototype.Setup=function(e,t,o){var i=this;this.tabIndex=e,this.buttonComponent.node.on("click",function(){o(i.tabIndex)}),this.SetActivation(t)},t.prototype.SetActivation=function(e){this.activateNode.opacity=e?255:0,this.buttonComponent.interactable=!e},__decorate([r(cc.Button)],t.prototype,"buttonComponent",void 0),__decorate([r(cc.Node)],t.prototype,"normalNode",void 0),__decorate([r(cc.Node)],t.prototype,"activateNode",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],FishWarLongWangFish:[function(e,t,o){"use strict";cc._RF.push(t,"a6d97JJB8NKf5qKO7K7S4Jq","FishWarLongWangFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){},t.prototype.OnTriggerCustomEvent=function(e){var t=this;"LightningHit"==e&&(-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3))},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},t.prototype.OnFishHitted=function(e){},__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarMenuController:[function(e,t,o){"use strict";cc._RF.push(t,"1119cplnc9BM5vsNsurs4zH","FishWarMenuController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Menu/BaseMenuController"),n=e("./InfoPanel/FishWarInfoPanelController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.menuButton=void 0,t.menuButtonOnNode=void 0,t.menuButtonOffNode=void 0,t.menuBarNode=void 0,t.menuBarSlideDuration=.2,t.infoButton=void 0,t.infoPanelController=void 0,t.audioButton=void 0,t.audioNormalNode=void 0,t.audioMuteNode=void 0,t.exitButton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){var e=this;this.menuButton.node.on("click",function(){e.HandleSettingButtonClicked()}),this.menuButtonOnNode.opacity=0,this.menuButtonOffNode.opacity=255,this.isMenuBarNodeShown=!1,this.infoButton.node.on("click",function(){e.HandleInfoButtonClicked()}),this.infoPanelController.Setup(),this.menuBarNode.setPosition(new cc.Vec2(0,0)),this.audioButton.node.on("click",function(){e.HandleAudioButtonClicked()}),this.SetAudioMuteNodeStatus()},t.prototype.HandleSettingButtonClicked=function(){var e=this;this.menuButton.interactable=!1,this.isMenuBarNodeShown=!this.isMenuBarNodeShown;var t=cc.Vec2.ZERO;t=this.isMenuBarNodeShown?new cc.Vec2(-120,0):new cc.Vec2(0,0),this.menuButtonOnNode.opacity=this.isMenuBarNodeShown?255:0,this.menuButtonOffNode.opacity=this.isMenuBarNodeShown?0:255,cc.tween(this.menuBarNode).to(this.menuBarSlideDuration,{position:t}).start(),setTimeout(function(){e.menuButton.interactable=!0},1e3*this.menuBarSlideDuration)},t.prototype.HandleInfoButtonClicked=function(){this.infoPanelController.Show()},t.prototype.HandleAudioButtonClicked=function(){this.SetMute(!this.AudioMuteFlag),this.SetAudioMuteNodeStatus()},t.prototype.SetAudioMuteNodeStatus=function(){this.audioMuteNode.active=this.AudioMuteFlag,this.audioNormalNode.active=!this.AudioMuteFlag},__decorate([s(cc.Button)],t.prototype,"menuButton",void 0),__decorate([s(cc.Node)],t.prototype,"menuButtonOnNode",void 0),__decorate([s(cc.Node)],t.prototype,"menuButtonOffNode",void 0),__decorate([s(cc.Node)],t.prototype,"menuBarNode",void 0),__decorate([s()],t.prototype,"menuBarSlideDuration",void 0),__decorate([s(cc.Button)],t.prototype,"infoButton",void 0),__decorate([s(n.default)],t.prototype,"infoPanelController",void 0),__decorate([s(cc.Button)],t.prototype,"audioButton",void 0),__decorate([s(cc.Node)],t.prototype,"audioNormalNode",void 0),__decorate([s(cc.Node)],t.prototype,"audioMuteNode",void 0),__decorate([s(cc.Button)],t.prototype,"exitButton",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Menu/BaseMenuController":"BaseMenuController","./InfoPanel/FishWarInfoPanelController":"FishWarInfoPanelController"}],FishWarMonkeyKingFish:[function(e,t,o){"use strict";cc._RF.push(t,"6bffaNwm1pKvaKiw+VU8wsc","FishWarMonkeyKingFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarMonkeyKingPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"d7cb1cqmVdJ8pF6LE9KLHJ5","FishWarMonkeyKingPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.bgNode=void 0,t.titleNode=void 0,t.monkeyNode=void 0,t.hitCountNode=void 0,t.explosionNode=void 0,t.bgSkeleton=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabel=void 0,t.monkeySkeleton=void 0,t.hitCountSkeleton=void 0,t.hitCountLabel=void 0,t.explosionSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.bgSkeleton=this.bgNode.getComponentInChildren(sp.Skeleton),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.monkeySkeleton=this.monkeyNode.getComponent(sp.Skeleton),this.hitCountSkeleton=this.hitCountNode.getComponentInChildren(sp.Skeleton),this.hitCountLabel=this.hitCountNode.getComponentInChildren(cc.Label),this.explosionSkeleton=this.explosionNode.getComponentInChildren(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.bgNode.active=!1,this.titleLabel.node.active=!1,this.titleNode.active=!1,this.monkeyNode.active=!1,this.hitCountNode.active=!1,this.explosionNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation()},t.prototype.OnDeath=function(e){102!=e.TargetFish.FishType&&this.DeathPresentation(e)},t.prototype.EnterPresentation=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.titleNode.active=!0,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.titleSkeleton.node.opacity=255,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"monkey_wait",!1),[4,this.WaitForSecs(.5)];case 1:return e.sent(),this.titleSkeleton.setAnimation(0,"monkey_enter",!1),[4,this.WaitForSecs(1)];case 2:return e.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 3:return e.sent(),this.titleNode.active=!1,[2,!0]}})})},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r,a,s;return __generator(this,function(l){switch(l.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,o=e.FishStatus.SpecialParams[2],t&&(this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"MonkeyKing"),this.cameraShaker.StartShake(1)),i=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.monkeyNode.active=!0,this.monkeyNode.position=i,this.monkeySkeleton.setAnimation(0,"change",!1),[4,this.WaitForSecs(3)];case 1:return l.sent(),this.monkeyNode.opacity=0,this.titleNode.active=!0,this.titleSkeleton.node.opacity=255,this.titleLabel.node.active=!1,this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"monkey_wait2",!1),this.titleAnimation.play("Enter"),[4,this.WaitForSecs(.5)];case 2:return l.sent(),this.titleSkeleton.setAnimation(0,"monkey_enter2",!1),[4,this.WaitForSecs(1.5)];case 3:return l.sent(),n=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),r=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/MonkeyKing",n.node),a=this.node.convertToNodeSpaceAR(r.parent.convertToWorldSpaceAR(r.position)),cc.tween(this.titleNode).to(.5,{scale:.5}).start(),cc.tween(this.titleNode).to(.5,{position:a}).start(),[4,this.WaitForSecs(.5)];case 4:return l.sent(),this.titleSkeleton.setSkin("monkey_2"),this.titleLabel.node.active=!0,this.monkeyNode.opacity=255,this.monkeyNode.position=cc.Vec3.ZERO,this.monkeySkeleton.setAnimation(0,"hit_enter",!1),this.monkeySkeleton.addAnimation(0,"hit_wait",!0),[4,this.WaitForSecs(.333)];case 5:l.sent(),this.bgNode.active=!0,this.bgSkeleton.setAnimation(0,"fire_wait",!0),this.hitCountNode.active=!0,this.hitCountSkeleton.setAnimation(0,"wait",!0),this.hitCountLabel.string=1..toString(),this.hitCountLabel.node.scale=1,t&&n.RequestFire(108,0,null,!0),this.explosionNode.active=!0,this.explosionSkeleton.setAnimation(0,"wait",!1),t&&this.cameraShaker.StartShake(.6),s=1,l.label=6;case 6:return s<o?[4,this.WaitForSecs(1.4)]:[3,10];case 7:return l.sent(),this.monkeySkeleton.setAnimation(0,"hit_hit",!1),this.monkeySkeleton.addAnimation(0,"hit_wait",!0),[4,this.WaitForSecs(.6)];case 8:l.sent(),this.hitCountLabel.string=(s+1).toString(),this.explosionSkeleton.setAnimation(0,"wait",!1),t&&this.cameraShaker.StartShake(.6),l.label=9;case 9:return s++,[3,6];case 10:return[4,this.WaitForSecs(1.4)];case 11:return l.sent(),this.monkeySkeleton.setAnimation(0,"hit_leave",!1),cc.tween(this.bgNode).to(.5,{opacity:0}).start(),this.hitCountSkeleton.setAnimation(0,"leave",!1),cc.tween(this.hitCountLabel.node).to(.5,{scale:0}).start(),[4,this.WaitForSecs(1)];case 12:return l.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO}).start()),[4,this.WaitForSecs(.5)];case 13:return l.sent(),this.titleSkeleton.setAnimation(0,"monkey_enter2",!1),[4,this.WaitForSecs(1.5)];case 14:return l.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 15:return l.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"MonkeyKing"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([l(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([l(n.default)],t.prototype,"seatController",void 0),__decorate([l(cc.Node)],t.prototype,"bgNode",void 0),__decorate([l(cc.Node)],t.prototype,"titleNode",void 0),__decorate([l(cc.Node)],t.prototype,"monkeyNode",void 0),__decorate([l(cc.Node)],t.prototype,"hitCountNode",void 0),__decorate([l(cc.Node)],t.prototype,"explosionNode",void 0),t=__decorate([s],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarPayoutObject:[function(e,t,o){"use strict";cc._RF.push(t,"bd7ddBpIrJPna2PBDIIIadW","FishWarPayoutObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Payout/CommonPayoutObject"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnExecute=function(t){e.prototype.OnExecute.call(this,t),this.SetWinAmountText("+"+t.PayoutAmount.toString())},t=__decorate([r],t)}(i.default));o.default=a,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Payout/CommonPayoutObject":"CommonPayoutObject"}],FishWarPlayerBalanceBarWinAmountJumper:[function(e,t,o){"use strict";cc._RF.push(t,"c0516bOn6ZIQ75qnI28JUU/","FishWarPlayerBalanceBarWinAmountJumper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),n=e("../../../FishCore/Scripts/Player/Seat/SeatNode"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPlayerPool=void 0,t.othersPlayerPool=void 0,t.preSpawnDelay=2,t.objectAnimationKey="Enter",t.targetPlayerSeatNode=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.targetPlayerSeatNode=this.node.parent.parent.getComponent(n.default),this.localPlayerPool.Setup(),this.othersPlayerPool.Setup()},t.prototype.ManualTrigger=function(e){var t=this;this.targetPlayerSeatNode.IsSeated&&setTimeout(function(){var o=t.targetPlayerSeatNode.IsLocalPlayer?t.localPlayerPool.AcquireNode():t.othersPlayerPool.AcquireNode();o.setParent(t.node),o.setPosition(cc.Vec3.ZERO),o.getComponentInChildren(cc.Label).string="+"+e,o.getComponent(cc.Animation).play(t.objectAnimationKey)},1e3*this.preSpawnDelay)},__decorate([s(i.CommonNodePoolHandler)],t.prototype,"localPlayerPool",void 0),__decorate([s(i.CommonNodePoolHandler)],t.prototype,"othersPlayerPool",void 0),__decorate([s()],t.prototype,"preSpawnDelay",void 0),__decorate([s()],t.prototype,"objectAnimationKey",void 0),t=__decorate([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/SeatNode":"SeatNode","../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper"}],FishWarSpecialFishEnterancePresenter:[function(e,t,o){"use strict";cc._RF.push(t,"495e1K3TutEOId5+QDwELEW","FishWarSpecialFishEnterancePresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleNode=void 0,t.titleSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.titleSkeleton=this.titleNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation(e.FishType)},t.prototype.EnterPresentation=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){switch(t.label){case 0:return this.titleNode.active=!0,20==e?this.titleSkeleton.setAnimation(0,"crab",!1):21==e&&this.titleSkeleton.setAnimation(0,"toad",!1),[4,this.WaitForSecs(3)];case 1:return t.sent(),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([a(cc.Node)],t.prototype,"titleNode",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter"}],FishWarThunderHammerFish:[function(e,t,o){"use strict";cc._RF.push(t,"b4aedEEI4dG6rsWIDdOZJxK","FishWarThunderHammerFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarThunderHammerPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"743a6ZQPEtCNL1gWBEoKxBH","FishWarThunderHammerPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.thunderHammerNode=void 0,t.crackEffectNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.thunderHammerSkeleton=void 0,t.crackEffectSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.thunderHammerSkeleton=this.thunderHammerNode.getComponent(sp.Skeleton),this.crackEffectSkeleton=this.crackEffectNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.thunderHammerNode.active=!1,this.thunderHammerNode.opacity=255,this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.titleLabelNode.active=!1,this.crackEffectNode.active=!1,this.crackEffectNode.opacity=255},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r;return __generator(this,function(a){switch(a.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,console.warn(e.FishStatus.SpecialParams),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"ThunderHammer"),o=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.thunderHammerNode.active=!0,this.thunderHammerNode.position=o,this.thunderHammerSkeleton.setAnimation(0,"hit",!1),this.thunderHammerSkeleton.addAnimation(0,"wait",!0),cc.tween(this.thunderHammerNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineOut"}).start(),[4,this.WaitForSecs(.85)];case 1:return a.sent(),i=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),n=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/ThunderHammer",i.node),r=this.node.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),t||(this.titleNode.position=r,this.titleNode.scale=.5),this.titleNode.active=!0,this.titleSkeleton.setAnimation(0,"hammer_enter",!1),this.titleAnimation.play("Enter"),[4,this.WaitForSecs(1.6)];case 2:return a.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:.5},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:r},{easing:"sineIn"}).start()),this.thunderHammerSkeleton.setAnimation(0,"bomm",!1),[4,this.WaitForSecs(4.5)];case 3:return a.sent(),this.crackEffectNode.active=!0,this.crackEffectSkeleton.setAnimation(0,"wait",!1),t&&(this.cameraShaker.StartShake(.6),i.RequestFire(203,0,null)),[4,this.WaitForSecs(2.5)];case 4:return a.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineIn"}).start()),[4,this.WaitForSecs(.5)];case 5:return a.sent(),this.titleSkeleton.setSkin("hammer_1"),this.titleLabelNode.active=!0,cc.tween(this.thunderHammerNode).to(.5,{opacity:0}).start(),cc.tween(this.crackEffectNode).to(.5,{opacity:0}).start(),[4,this.WaitForSecs(1)];case 6:return a.sent(),this.titleSkeleton.setAnimation(0,"hammer_enter",!1),[4,this.WaitForSecs(2)];case 7:return a.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 8:return a.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"ThunderHammer"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([l(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([l(n.default)],t.prototype,"seatController",void 0),__decorate([l(cc.Node)],t.prototype,"titleNode",void 0),__decorate([l(cc.Node)],t.prototype,"thunderHammerNode",void 0),__decorate([l(cc.Node)],t.prototype,"crackEffectNode",void 0),t=__decorate([s],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarTutorialController:[function(e,t,o){"use strict";cc._RF.push(t,"fb741wDHtdIYrOINvWjF4Ag","FishWarTutorialController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../FishCore/Scripts/Core/Event"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dimmerButton=void 0,t.fadeDuration=1,t.localPlayerNode=void 0,t.HandleOnLocalPlayerSeatedIn=function(e){var o=cc.find("Weapon",t.localPlayerNode),i=cc.find("Balance",t.localPlayerNode),n=e.detail.SeatInfo.SeatId;1==n||4==n?(o.position=new cc.Vec3(-1*Math.abs(o.position.x),-1*Math.abs(o.position.y)),i.position=new cc.Vec3(-1*Math.abs(i.position.x),-1*Math.abs(i.position.y))):2!=n&&3!=n||(o.position=new cc.Vec3(Math.abs(o.position.x),-1*Math.abs(o.position.y)),i.position=new cc.Vec3(Math.abs(i.position.x),-1*Math.abs(i.position.y)))},t.HandleOnDimmerClicked=function(){t.dimmerButton.interactable=!1,cc.tween(t.node).to(t.fadeDuration,{opacity:0}).start(),setTimeout(function(){t.node.active=!1},1e3*t.fadeDuration)},t}return __extends(t,e),t.prototype.onLoad=function(){this.node.active=!0,this.node.opacity=255,this.dimmerButton.node.on("click",this.HandleOnDimmerClicked),addEventListener(i.FishEvent.GameState_LocalPlayer_SeatedIn,this.HandleOnLocalPlayerSeatedIn)},__decorate([a(cc.Button)],t.prototype,"dimmerButton",void 0),__decorate([a()],t.prototype,"fadeDuration",void 0),__decorate([a(cc.Node)],t.prototype,"localPlayerNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../FishCore/Scripts/Core/Event":"Event"}],FishWarUtilityAimFishIndicator:[function(e,t,o){"use strict";cc._RF.push(t,"84d5av5bzlNCapCHo4VdSQ7","FishWarUtilityAimFishIndicator"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteReferences=[],t.targetSprite=null,t}return __extends(t,e),t.prototype.Setup=function(){this.DeActive()},t.prototype.Active=function(e){for(var t=0;t<this.spriteReferences.length;t++)if(this.spriteReferences[t].Key==e.toString()){this.node.active=!0,this.targetSprite.spriteFrame=this.spriteReferences[t].SpriteFrame;break}},t.prototype.DeActive=function(){this.node.active=!1},__decorate([a(i.SpriteFrameReference)],t.prototype,"spriteReferences",void 0),__decorate([a(cc.Sprite)],t.prototype,"targetSprite",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper"}],FishWarUtilityAutoPanelNode:[function(e,t,o){"use strict";cc._RF.push(t,"82f65jETsxDaJoz2I23NERa","FishWarUtilityAutoPanelNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fishTypes=[],t.buttonComponent=void 0,t.tickedNodes=[],t.onClickCallback=null,t.isActive=!1,t.HandleOnButtonClicked=function(){null!=t.onClickCallback&&t.onClickCallback(t)},t}return __extends(t,e),Object.defineProperty(t.prototype,"FishTypes",{get:function(){return this.fishTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsActive",{get:function(){return this.isActive},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.onClickCallback=e,this.buttonComponent.node.on("click",this.HandleOnButtonClicked),this.SetActive(!1)},t.prototype.SetActive=function(e){for(var t=0;t<this.tickedNodes.length;t++)this.tickedNodes[t].active=e;this.isActive=e},__decorate([r(Number)],t.prototype,"fishTypes",void 0),__decorate([r(cc.Button)],t.prototype,"buttonComponent",void 0),__decorate([r(cc.Node)],t.prototype,"tickedNodes",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],FishWarUtilityAutoPanel:[function(e,t,o){"use strict";cc._RF.push(t,"d537crkViRDzpxjBe30W9N8","FishWarUtilityAutoPanel"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarUtilityAutoPanelNode"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.originNode=null,t.baseNode=null,t.blockerNode=null,t.nodes=[],t.closeButton=null,t.startButton=null,t.selectAllButton=null,t.hidingTimeOutTracker=-1,t.fishTypeSelectedCallback=null,t.HandleOnCloseCliked=function(){t.Hide()},t.HandleOnStartClicked=function(){t.Hide();for(var e=[],o=0;o<t.nodes.length;o++)if(t.nodes[o].IsActive)for(var i=t.nodes[o].FishTypes,n=0;n<i.length;n++)e.push(i[n]);null!=t.fishTypeSelectedCallback&&t.fishTypeSelectedCallback(e)},t.HandleOnSelectAllClicked=function(){for(var e=!0,o=0;o<t.nodes.length;o++)t.nodes[o].IsActive||(e=!1,t.nodes[o].SetActive(!0));if(e)for(o=0;o<t.nodes.length;o++)t.nodes[o].SetActive(!1)},t.HandleOnNodeClicked=function(e){e.SetActive(!e.IsActive)},t}return __extends(t,e),t.prototype.Setup=function(e){this.closeButton.node.on("click",this.HandleOnCloseCliked),this.startButton.node.on("click",this.HandleOnStartClicked),this.selectAllButton.node.on("click",this.HandleOnSelectAllClicked),this.baseNode.active=!1,this.fishTypeSelectedCallback=e;for(var t=0;t<this.nodes.length;t++)this.nodes[t].Setup(this.HandleOnNodeClicked);this.node.active=!0},t.prototype.Show=function(){this.baseNode.active=!0,this.blockerNode.active=!0,this.baseNode.scale=0,cc.tween(this.baseNode).to(.35,{scale:1},{easing:"quadOut"}).start(),this.baseNode.position=this.node.convertToNodeSpaceAR(this.originNode.parent.convertToWorldSpaceAR(this.originNode.position)),cc.tween(this.baseNode).to(.35,{position:cc.Vec3.ZERO},{easing:"quadOut"}).start(),-1!=this.hidingTimeOutTracker&&(clearTimeout(this.hidingTimeOutTracker),this.hidingTimeOutTracker=-1);for(var e=0;e<this.nodes.length;e++)this.nodes[e].SetActive(!1)},t.prototype.Hide=function(){var e=this;this.blockerNode.active=!1,cc.tween(this.baseNode).to(.35,{scale:0},{easing:"quadIn"}).start(),cc.tween(this.baseNode).to(.35,{position:this.node.convertToNodeSpaceAR(this.originNode.parent.convertToWorldSpaceAR(this.originNode.position))},{easing:"quadIn"}).start(),-1!=this.hidingTimeOutTracker&&clearTimeout(this.hidingTimeOutTracker),this.hidingTimeOutTracker=setTimeout(function(){e.baseNode.active=!1,e.hidingTimeOutTracker=-1},500)},__decorate([a(cc.Node)],t.prototype,"originNode",void 0),__decorate([a(cc.Node)],t.prototype,"baseNode",void 0),__decorate([a(cc.Node)],t.prototype,"blockerNode",void 0),__decorate([a(i.default)],t.prototype,"nodes",void 0),__decorate([a(cc.Button)],t.prototype,"closeButton",void 0),__decorate([a(cc.Button)],t.prototype,"startButton",void 0),__decorate([a(cc.Button)],t.prototype,"selectAllButton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FishWarUtilityAutoPanelNode":"FishWarUtilityAutoPanelNode"}],FishWarUtilityController:[function(e,t,o){"use strict";cc._RF.push(t,"de81bZjvCdOyKQQLx/Pt0hL","FishWarUtilityController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarUtilityNode"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../Weapon/FishWarCommonGun"),a=e("../Player/FishWarClickField"),s=e("./FishWarUtilityAimFishIndicator"),l=e("./FishWarUtilityAutoPanel"),c=e("../../../FishCore/Scripts/Audio/AudioController"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodes=[],t.seatController=void 0,t.clickField=void 0,t.HandleOnNodeClicked=function(e){var o=!t.GetNode(e).IsActivate;switch(c.default.Instance.PlayAudioWithKey("ButtonClick"),e){case i.FishWarUtilityNodeType.Double:t.GetNode(i.FishWarUtilityNodeType.Lightning).IsActivate&&t.HandleLightningActivation(!1),t.HandleDoubleGunActivation(o);break;case i.FishWarUtilityNodeType.Aim:t.GetNode(i.FishWarUtilityNodeType.Auto).IsActivate&&t.HandleAutoActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Lightning).IsActivate&&t.HandleLightningActivation(!1),t.HandleAimActivation(o);break;case i.FishWarUtilityNodeType.Auto:t.GetNode(i.FishWarUtilityNodeType.Aim).IsActivate&&t.HandleAimActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Lightning).IsActivate&&t.HandleLightningActivation(!1),o?t.TriggerAutoPanel():t.HandleAutoActivation(!1);break;case i.FishWarUtilityNodeType.Lightning:t.GetNode(i.FishWarUtilityNodeType.Auto).IsActivate&&t.HandleAutoActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Aim).IsActivate&&t.HandleAimActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Double).IsActivate&&t.HandleDoubleGunActivation(!1),t.HandleLightningActivation(o)}},t.aimFishIndicator=void 0,t.HandleOnClickFieldLockFishStarted=function(e){t.aimFishIndicator.Active(e)},t.HandleOnClickFieldLockFishFinished=function(){t.aimFishIndicator.DeActive()},t.autoPanel=void 0,t.HandleAutoShootFishesSelected=function(e){t.HandleAutoActivation(!0,e)},t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].Setup(this.HandleOnNodeClicked),this.nodes[e].SetActivation(!1);this.clickField.RegisterCallbacks(this.HandleOnClickFieldLockFishStarted,this.HandleOnClickFieldLockFishFinished),this.SetupAim(),this.SetupAuto()},t.prototype.HandleDoubleGunActivation=function(e){var t=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetCurrentWeapon().getComponent(r.default);null!=t&&(t.SetDoubleMode(e),this.GetNode(i.FishWarUtilityNodeType.Double).SetActivation(e))},t.prototype.SetupAim=function(){this.aimFishIndicator.Setup()},t.prototype.HandleAimActivation=function(e){e?this.clickField.SetMode(a.FishWarClickFieldMode.Aim):this.clickField.SetMode(a.FishWarClickFieldMode.Normal),this.GetNode(i.FishWarUtilityNodeType.Aim).SetActivation(e)},t.prototype.SetupAuto=function(){this.autoPanel.Setup(this.HandleAutoShootFishesSelected)},t.prototype.TriggerAutoPanel=function(){this.autoPanel.Show()},t.prototype.HandleAutoActivation=function(e,t){e?this.clickField.SetMode(a.FishWarClickFieldMode.Auto,t):this.clickField.SetMode(a.FishWarClickFieldMode.Normal),this.GetNode(i.FishWarUtilityNodeType.Auto).SetActivation(e)},t.prototype.HandleLightningActivation=function(e){this.GetNode(i.FishWarUtilityNodeType.Lightning).SetActivation(e),e?this.clickField.SetMode(a.FishWarClickFieldMode.Lightning):this.clickField.SetMode(a.FishWarClickFieldMode.Normal)},t.prototype.GetNode=function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].NodeType==e)return this.nodes[t];return null},__decorate([d(i.default)],t.prototype,"nodes",void 0),__decorate([d(n.default)],t.prototype,"seatController",void 0),__decorate([d(a.default)],t.prototype,"clickField",void 0),__decorate([d(s.default)],t.prototype,"aimFishIndicator",void 0),__decorate([d(l.default)],t.prototype,"autoPanel",void 0),t=__decorate([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../Player/FishWarClickField":"FishWarClickField","../Weapon/FishWarCommonGun":"FishWarCommonGun","./FishWarUtilityAimFishIndicator":"FishWarUtilityAimFishIndicator","./FishWarUtilityAutoPanel":"FishWarUtilityAutoPanel","./FishWarUtilityNode":"FishWarUtilityNode"}],FishWarUtilityLightningCollider:[function(e,t,o){"use strict";cc._RF.push(t,"9bd7d48nSxOiK3biLeWQvBN","FishWarUtilityLightningCollider"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/FishCollider"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hitInterval=.2,t.collider=void 0,t.ableToCommitHit=!0,t.hittingFishCollider=null,t.hitCommitedCallback=void 0,t}return __extends(t,e),t.prototype.Setup=function(e){this.hitCommitedCallback=e},t.prototype.onCollisionEnter=function(e,t){if("Fish"==e.node.group){var o=e.node.getComponent(i.default);null!=o&&o.BindedFish.IsAlive&&o!=this.hittingFishCollider&&(this.hittingFishCollider=o,this.ExecuteHit())}},t.prototype.onCollisionExit=function(e,t){null!=this.hittingFishCollider&&e==this.hittingFishCollider.Collider&&(this.hittingFishCollider=null)},t.prototype.update=function(e){this.ableToCommitHit&&null!=this.hittingFishCollider&&this.ExecuteHit()},t.prototype.ExecuteHit=function(){var e=this;this.ableToCommitHit&&(this.hittingFishCollider.BindedFish.TriggerCustomEvent("LightningHit"),this.hitCommitedCallback&&this.hitCommitedCallback(this.hittingFishCollider.BindedFish),this.ableToCommitHit=!1,setTimeout(function(){e.ableToCommitHit=!0},1e3*this.hitInterval))},__decorate([a],t.prototype,"hitInterval",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/FishCollider":"FishCollider"}],FishWarUtilityNode:[function(e,t,o){"use strict";cc._RF.push(t,"a05c8lWOZ1M16GcySohWWCH","FishWarUtilityNode"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass,a=n.property;(function(e){e[e.Aim=0]="Aim",e[e.Auto=1]="Auto",e[e.Double=2]="Double",e[e.Lightning=3]="Lightning"})(i=o.FishWarUtilityNodeType||(o.FishWarUtilityNodeType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeType=i.Aim,t.buttonComponent=void 0,t.baseNode=void 0,t.activatedNode=void 0,t.activateFlag=!1,t.onNodeClickedCallback=void 0,t.HandleOnButtonClicked=function(){t.onNodeClickedCallback(t.nodeType)},t}return __extends(t,e),Object.defineProperty(t.prototype,"NodeType",{get:function(){return this.nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsActivate",{get:function(){return this.activateFlag},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.buttonComponent.node.on("click",this.HandleOnButtonClicked),this.onNodeClickedCallback=e},t.prototype.SetActivation=function(e){this.baseNode.opacity=e?0:255,this.activatedNode.opacity=e?255:0,this.activateFlag=e},__decorate([a({type:cc.Enum(i)})],t.prototype,"nodeType",void 0),__decorate([a(cc.Button)],t.prototype,"buttonComponent",void 0),__decorate([a(cc.Node)],t.prototype,"baseNode",void 0),__decorate([a(cc.Node)],t.prototype,"activatedNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],FishWarWinIndicatorGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"6919cnq7qBEUJ9NLMFXGnQ5","FishWarWinIndicatorGenerator"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/WinIndicator/SeatWinIndicatorGenerator"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioController=void 0,t.onSpawnAudioClip=void 0,t.duplicateGap=50,t}return __extends(t,e),t.prototype.OnIndiactorSpawned=function(e,t,o){for(var i=0,n=0;n<this.node.childrenCount;n++)!0===this.node.children[n].active&&i++;var r=0;for(n=this.node.childrenCount-1;n>=0;n--)!0===this.node.children[n].active&&(r<i-1&&cc.tween(this.node.children[n]).to(.2,{position:new cc.Vec2(0,r*this.duplicateGap)}).start(),r++);o&&this.audioController.PlayAudioWithClip(this.onSpawnAudioClip,!1)},__decorate([s(n.default)],t.prototype,"audioController",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"onSpawnAudioClip",void 0),__decorate([s],t.prototype,"duplicateGap",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/Seat/WinIndicator/SeatWinIndicatorGenerator":"SeatWinIndicatorGenerator"}],FishWarWinIndicatorNode:[function(e,t,o){"use strict";cc._RF.push(t,"3fb49WGAaJKvKNdUi6DjAoh","FishWarWinIndicatorNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/WinIndicator/BaseSeatWinIndicatorNode"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.skeleton=void 0,t.amountLabels=[],t}return __extends(t,e),t.prototype.OnSpawnIndicator=function(e,t){for(var o=0;o<this.amountLabels.length;o++)this.amountLabels[o].string=e.FishStatus.PayoutAmount.toString();this.animation.play("Enter"),this.skeleton.setAnimation(0,"catch_effect_"+(e.TargetFish.FishType-1),!1)},__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(cc.Label)],t.prototype,"amountLabels",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/WinIndicator/BaseSeatWinIndicatorNode":"BaseSeatWinIndicatorNode"}],FixPointDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"ec3662ojbNOy5UfhzMBvb2S","FixPointDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(){function e(){this.totalDuration=1,this.pointHolder=void 0}return __decorate([a(Number)],e.prototype,"totalDuration",void 0),__decorate([a(cc.Node)],e.prototype,"pointHolder",void 0),e=__decorate([r("FixPointSceneRouteData")],e)}();o.FixPointSceneRouteData=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneRouteData=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.sceneRouteData.length;t++)e.push(new i.CapturedRouteData(t,this.sceneRouteData[t].totalDuration,this.sceneRouteData[t].pointHolder.children));return e},__decorate([a(s)],t.prototype,"sceneRouteData",void 0),t=__decorate([r],t)}(i.default);o.default=l,cc._RF.pop()},{"./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],GameController:[function(e,t,o){"use strict";cc._RF.push(t,"881eakuUTtB5qErmpUlFENx","GameController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Network/NetworkGameDataController"),n=e("./FishLogManager"),r=e("../Loading/LoadingController"),a=e("../Player/PlayerManager"),s=e("./GameStageController"),l=e("../Fish/FishManager"),c=e("../Utils/CommonDataHelper"),p=e("../Background/BaseBackgroundController"),u=e("../Menu/BaseMenuController"),d=e("../Audio/AudioController"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameStageController=void 0,t.networkDataController=void 0,t.startGameData=null,t.localPlayerId="",t.OnConnectedReceived=function(e){e.Credit<10&&console.warn("less than minimum buy in credit!")},t.OnTableListReceived=function(e){null==t.startGameData?t.networkDataController.SendJoinGameRequest():t.networkDataController.SendJoinGameRequest(t.startGameData.TableData.TableId)},t.OnStartGameReceived=function(e){t.startGameData=e,t.playerManager.HandleExistedPlayers(e.ExistSeatInfo),t.backgroundController.HandleChangeRound(e.GameData.MapId),t.HandlePostGameStartFishSetup(e),t.networkDataController.SendSeatInRequest()},t.OnSeatInReceived=function(e){e.PlayerId.toString(),t.localPlayerId;var o=3==e.SeatId||4==e.SeatId;o&&(t.gameStageController.SetGameWorldFlip(o),t.playerManager.FlipSeatDimension(o)),t.HideLoading(),t.playerManager.HandleSeatInSuccess(e,!0,o)},t.OnRoundUpdateReceived=function(e){2==e.RoundNumber&&(t.fishManager.SetCleanUpStarted(),t.backgroundController.HandlePreChangeRound())},t.OnFireWeaponReceived=function(e){t.playerManager.HandleFireRequest(e,!1)},t.OnFishStatusReceived=function(e){t.playerManager.HandleFishStatusInfoUpdate(e),t.fishManager.UpdateFishStatus(e)},t.OnFishListDataReceived=function(e){0==e.GameData.GameStatus?(t.fishManager.SetCleanUpCompleted(),t.backgroundController.HandleChangeRound(e.GameData.MapId),t.fishManager.ResetAndApplyFishGroupData(e)):1==e.GameData.GameStatus&&t.fishManager.ApplyFishGroupDataToPending(e.FishGroupInfos)},t.OnWeaponUpdatedReceived=function(e){t.playerManager.HandleWeaponUpdated(e)},t.RequestFireWeapon=function(e){var o=c.ConstructLocalShootId();e.AssignShootId(o),t.networkDataController.SendFireRequest(e),t.playerManager.HandleFireRequest(new i.NetworkFireWeaponInfo(e.PlayerId,e.WeaponType,e.WeaponAngle,e.BetValue,o,-1,e.ExtraParameter),!0)},t.RequestHit=function(e){t.networkDataController.SendHitRequest(e)},t.loadingController=void 0,t.playerManager=void 0,t.OnReceivePlayerLeave=function(e){t.playerManager.HandlePlayerLeave(e)},t.fishManager=void 0,t.backgroundController=void 0,t.menuController=void 0,t.audioController=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.CocosRelatedSetup(),this.SetupLogging(),this.SetupAudio(),this.SetupMenu(),this.SetupBackground(),this.SetupGameStage(),this.SetupPlayer(),this.SetupFish(),this.SetupNetworkData(),this.SetupLoading()},t.prototype.CocosRelatedSetup=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.SetupGameStage=function(){void 0!=this.gameStageController&&null!=this.gameStageController?this.gameStageController.Setup():n.default.Instance.Error(this,"gameStageController is missing")},t.prototype.SetLocalPlayerId=function(e){this.localPlayerId=e},t.prototype.SetupNetworkData=function(){void 0!=this.networkDataController&&null!=this.networkDataController?(this.networkDataController.Setup(),this.networkDataController.RegisterConnectedCallback(this.OnConnectedReceived),this.networkDataController.RegisterTableListCallback(this.OnTableListReceived),this.networkDataController.RegisterStartGameCallback(this.OnStartGameReceived),this.networkDataController.RegisterSeatInRequestCallback(this.OnSeatInReceived),this.networkDataController.RegisterRoundUpdateRequestCallback(this.OnRoundUpdateReceived),this.networkDataController.RegisterWeaponFireRequestCallback(this.OnFireWeaponReceived),this.networkDataController.RegisterFishStatusCallback(this.OnFishStatusReceived),this.networkDataController.RegisterPlayerLeaveCallback(this.OnReceivePlayerLeave),this.networkDataController.RegisterFishListCallback(this.OnFishListDataReceived),this.networkDataController.RegisterWeaponUpdatedCallback(this.OnWeaponUpdatedReceived)):n.default.Instance.Error(this,"networkDataController is missing")},t.prototype.SetupLogging=function(){n.default.Setup()},t.prototype.SetupLoading=function(){void 0!=this.loadingController&&null!=this.loadingController?this.loadingController.ShowLoading():n.default.Instance.Error(this,"loadingController is missing")},t.prototype.HideLoading=function(){this.loadingController.HideLoading()},t.prototype.SetupPlayer=function(){void 0!=this.playerManager&&null!=this.playerManager?(this.playerManager.Setup(),this.playerManager.RegisterRequestFireAction(this.RequestFireWeapon),this.playerManager.RegisterRequestHitAction(this.RequestHit)):n.default.Instance.Error(this,"playerManager is missing")},t.prototype.SetupFish=function(){void 0!=this.fishManager&&null!=this.fishManager||n.default.Instance.Error(this,"fishManager is missing"),this.fishManager.Setup()},t.prototype.HandlePostGameStartFishSetup=function(e){this.fishManager.SetupTime(e.GameData.RemainingGametime,e.GameData.MaxGameTime),this.fishManager.ApplyFishGroupDataToPending(e.ExistFishGroupInfo)},t.prototype.SetupBackground=function(){void 0!=this.backgroundController&&null!=this.backgroundController?this.backgroundController.Setup():n.default.Instance.Error(this,"backgroundController is missing")},t.prototype.SetupMenu=function(){void 0!=this.menuController&&null!=this.menuController?this.menuController.Setup():n.default.Instance.Error(this,"menuController is missing")},t.prototype.SetupAudio=function(){void 0!=this.audioController&&null!=this.audioController?this.audioController.Setup():n.default.Instance.Error(this,"audioController is missing")},__decorate([y(s.default)],t.prototype,"gameStageController",void 0),__decorate([y(i.default)],t.prototype,"networkDataController",void 0),__decorate([y(r.default)],t.prototype,"loadingController",void 0),__decorate([y(a.default)],t.prototype,"playerManager",void 0),__decorate([y(l.default)],t.prototype,"fishManager",void 0),__decorate([y(p.BaseBackgroundController)],t.prototype,"backgroundController",void 0),__decorate([y(u.default)],t.prototype,"menuController",void 0),__decorate([y(d.default)],t.prototype,"audioController",void 0),t=__decorate([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../Audio/AudioController":"AudioController","../Background/BaseBackgroundController":"BaseBackgroundController","../Fish/FishManager":"FishManager","../Loading/LoadingController":"LoadingController","../Menu/BaseMenuController":"BaseMenuController","../Network/NetworkGameDataController":"NetworkGameDataController","../Player/PlayerManager":"PlayerManager","../Utils/CommonDataHelper":"CommonDataHelper","./FishLogManager":"FishLogManager","./GameStageController":"GameStageController"}],GameStageController:[function(e,t,o){"use strict";cc._RF.push(t,"1be4e17rN1G25KUSBrS9c/z","GameStageController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishLogManager"),n=e("../Fish/FishCollider"),r=e("./Event"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(){function e(e){this.isGameWorldReverse=!1,this.gameWorldOffset=cc.Vec2.ZERO,this.gameWorldOffset=e}return Object.defineProperty(e.prototype,"IsGameWorldReverse",{get:function(){return this.isGameWorldReverse},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GameWorldOffset",{get:function(){return this.gameWorldOffset},enumerable:!0,configurable:!0}),e}();o.GameStageData=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameWorldCanvas=void 0,t.stageData=void 0,t.collider=void 0,t.flipGameWorldNodes=[],t.onStageFishColliders=[],t}var o;return __extends(t,e),o=t,Object.defineProperty(t.prototype,"StageData",{get:function(){return this.stageData},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){void 0===o.Instance?(o.Instance=this,void 0===this.gameWorldCanvas&&i.default.Instance.Error(this,"gameWorldCanvas is missing!"),this.stageData=new c(new cc.Vec2(this.gameWorldCanvas.node.position.x,this.gameWorldCanvas.node.position.y)),this.collider=this.getComponent(cc.BoxCollider),null!=this.collider?(this.collider.size.width=this.node.width,this.collider.size.height=this.node.height,this.SetupFishColliderTracking()):i.default.Instance.Error(this,"collider is missing!")):i.default.Instance.Error(this,"Trying to setup twice!")},t.prototype.CalculatePositionInGameStage=function(e){return e.convertToWorldSpaceAR(cc.Vec3.ZERO).sub(this.gameWorldCanvas.node.position)},t.prototype.SetGameWorldFlip=function(e){for(var t=0;t<this.flipGameWorldNodes.length;t++)this.flipGameWorldNodes[t].angle=e?180:0},t.prototype.SetupFishColliderTracking=function(){this.onStageFishColliders=[]},t.prototype.onCollisionEnter=function(e,t){if("Fish"==e.node.group){var o=e.node.getComponent(n.default);null!=o&&this.HandleOnFishColliderEnterStage(o)}},t.prototype.onCollisionExit=function(e,t){if("Fish"==e.node.group){var o=e.node.getComponent(n.default);null!=o&&this.HandleOnFishColliderExitStage(o)}},t.prototype.GetOnStageFishCollider=function(e){for(var t=0;t<this.onStageFishColliders.length;t++)if(this.onStageFishColliders[t].BindedFish.FishType==e)return this.onStageFishColliders[t];return null},t.prototype.HandleOnFishColliderEnterStage=function(e){this.onStageFishColliders.indexOf(e)>=0||(this.onStageFishColliders.push(e),dispatchEvent(new CustomEvent(r.FishEvent.Fish_Collider_EnterGameStage,new r.FishEventInit(e))))},t.prototype.HandleOnFishColliderExitStage=function(e){for(var t=0;t<this.onStageFishColliders.length;t++)if(this.onStageFishColliders[t]==e){this.onStageFishColliders.splice(t,1),dispatchEvent(new CustomEvent(r.FishEvent.Fish_Collider_ExitGameStage,new r.FishEventInit(e)));break}},__decorate([l(cc.Canvas)],t.prototype,"gameWorldCanvas",void 0),__decorate([l(cc.Node)],t.prototype,"flipGameWorldNodes",void 0),t=o=__decorate([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../Fish/FishCollider":"FishCollider","./Event":"Event","./FishLogManager":"FishLogManager"}],GenericDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"8c0b3P4MJNPupszhFzlwm9S","GenericDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../RouteData/RouteLogic/RouteGenericLogic"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.routeDatas=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.routeDatas.length;t++){for(var o=0,n=this.routeDatas[t].ActionDatas,r=0;r<n.length;r++)o+=n[r].Duration;e.push(new i.CapturedRouteData(t,o,this.routeDatas[t]))}return e},__decorate([s(n.GenericRouteData)],t.prototype,"routeDatas",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../RouteData/RouteLogic/RouteGenericLogic":"RouteGenericLogic","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],Hiter:[function(e,t,o){"use strict";cc._RF.push(t,"943b8cHC0FEM6sgX1Ucu/6c","Hiter"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=(i.ccclass,i.property,function(){return function(){}}());o.default=n,cc._RF.pop()},{}],LeftRightPositionDrivenDirectionUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"cca87HKfg9PbrLy6RUNgvhX","LeftRightPositionDrivenDirectionUpdater"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastPosition=void 0,t.enableFlag=!1,t}return __extends(t,e),t.prototype.update=function(e){if(void 0!==this.lastPosition){this.enableFlag&&(180==this.node.parent.angle?this.node.scaleY=-1:this.node.scaleY=1);var t=this.node.position.x-this.lastPosition.x;t<0?this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX):t>0&&this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX)}this.lastPosition=this.node.position},t.prototype.onEnable=function(){this.enableFlag=!0},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],LinearDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"38febd1pOlLmYrLRRwE3g5v","LinearDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftPoint=void 0,t.rightPoint=void 0,t.topPoint=void 0,t.btmPoint=void 0,t.verticalSegmentCount=3,t.horizontalSegmentCount=5,t.pointSpacing=2,t.cornerCount=2,t}return __extends(t,e),t.prototype.CaptureRouteData=function(){if(void 0!==this.leftPoint)if(void 0!==this.rightPoint)if(void 0!==this.topPoint){if(void 0!==this.btmPoint){var e=[];e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.rightPoint.position])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.leftPoint.position])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.btmPoint.position])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.topPoint.position]));for(var t=0;t<=this.verticalSegmentCount;t++){var o=new cc.Vec3(0,t*this.pointSpacing,0);if(0==t){for(var r=0;r<=this.horizontalSegmentCount;r++){var a=new cc.Vec3(r*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.topPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.btmPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.topPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.btmPoint.position.sub(a)]))}for(var s=1;s<=this.verticalSegmentCount;s++){var l=new cc.Vec3(0,s*this.pointSpacing,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.rightPoint.position.add(l)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.rightPoint.position.sub(l)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.leftPoint.position.add(l)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.leftPoint.position.sub(l)]))}}else{for(r=0;r<=this.horizontalSegmentCount;r++){a=new cc.Vec3(r*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.add(o),this.btmPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.sub(o),this.topPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.add(o),this.btmPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.sub(o),this.topPoint.position.sub(a)]))}for(s=-this.verticalSegmentCount;s<=this.verticalSegmentCount;s++)if(t<=this.verticalSegmentCount-this.cornerCount||s>=this.cornerCount-this.verticalSegmentCount){l=new cc.Vec3(0,s*this.pointSpacing,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.add(o),this.rightPoint.position.add(l)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.sub(o),this.rightPoint.position.add(l)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.add(o),this.leftPoint.position.add(l)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.sub(o),this.leftPoint.position.add(l)]))}}}for(r=0;r<=this.horizontalSegmentCount;r++){a=new cc.Vec3(r*this.pointSpacing,0,0);if(0==r){for(t=0;t<=this.verticalSegmentCount;t++)e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.leftPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.rightPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.leftPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.rightPoint.position.add(a)]));for(var c=1;c<=this.horizontalSegmentCount;c++){var p=new cc.Vec3(c*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.btmPoint.position.add(p)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.btmPoint.position.sub(p)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.topPoint.position.add(p)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.topPoint.position.sub(p)]))}}else{for(t=0;t<=this.verticalSegmentCount;t++){o=new cc.Vec3(0,t*this.pointSpacing,0);e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.add(a),this.leftPoint.position.sub(o)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.sub(a),this.rightPoint.position.sub(o)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.add(a),this.leftPoint.position.add(o)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.sub(a),this.rightPoint.position.add(o)]))}for(c=-this.horizontalSegmentCount;c<=this.horizontalSegmentCount;c++)if(r<=this.horizontalSegmentCount-this.cornerCount||c>=this.cornerCount-this.horizontalSegmentCount){p=new cc.Vec3(c*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.add(a),this.btmPoint.position.add(p)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.sub(a),this.btmPoint.position.add(p)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.add(a),this.topPoint.position.add(p)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.sub(a),this.topPoint.position.add(p)]))}}}return e}n.default.Instance.Error(this,"btmPoint is missing!")}else n.default.Instance.Error(this,"topPoint is missing!");else n.default.Instance.Error(this,"rightPoint is missing!");else n.default.Instance.Error(this,"leftPoint is missing!")},__decorate([s(cc.Node)],t.prototype,"leftPoint",void 0),__decorate([s(cc.Node)],t.prototype,"rightPoint",void 0),__decorate([s(cc.Node)],t.prototype,"topPoint",void 0),__decorate([s(cc.Node)],t.prototype,"btmPoint",void 0),__decorate([s],t.prototype,"verticalSegmentCount",void 0),__decorate([s],t.prototype,"horizontalSegmentCount",void 0),__decorate([s],t.prototype,"pointSpacing",void 0),__decorate([s],t.prototype,"cornerCount",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],LoadingController:[function(e,t,o){"use strict";cc._RF.push(t,"0e087+ppidJV66zcb7z1GAl","LoadingController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],LongWangGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"9157aq4UsRNupVzqt2v12BU","LongWangGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialGroup/ChildNodeFormationRouteSpecialGroupExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseVisualSkeleton=void 0,t}return __extends(t,e),t.prototype.OnHandleGeneratedFishes=function(t,o,i){e.prototype.OnHandleGeneratedFishes.call(this,t,o,i),this.baseVisualSkeleton.setAnimation(0,"wait",!0)},__decorate([a(sp.Skeleton)],t.prototype,"baseVisualSkeleton",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialGroup/ChildNodeFormationRouteSpecialGroupExecutor":"ChildNodeFormationRouteSpecialGroupExecutor"}],NetworkGameDataController:[function(e,t,o){"use strict";cc._RF.push(t,"2b912U3uLNE7Y3gUndKPoeD","NetworkGameDataController"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass;n.property;(function(e){e[e.Lobby_TableList=101]="Lobby_TableList",e[e.Lobby_TableRejectJoin=103]="Lobby_TableRejectJoin",e[e.Lobby_TableUpdate=104]="Lobby_TableUpdate",e[e.Lobby_LobbyMessage=105]="Lobby_LobbyMessage",e[e.Lobby_LobbyState=106]="Lobby_LobbyState",e[e.System_Connected=201]="System_Connected",e[e.System_Pong=202]="System_Pong",e[e.System_PlayerUpdated=203]="System_PlayerUpdated",e[e.System_SystemMaintainance=204]="System_SystemMaintainance",e[e.InGame_StartGame=301]="InGame_StartGame",e[e.InGame_SeatIn=302]="InGame_SeatIn",e[e.InGame_RoundUpdate=303]="InGame_RoundUpdate",e[e.InGame_WeaponFire=304]="InGame_WeaponFire",e[e.InGame_FishStatus=305]="InGame_FishStatus",e[e.InGame_PlayerLeave=306]="InGame_PlayerLeave",e[e.InGame_FishList=307]="InGame_FishList",e[e.InGame_WeaponUpdated=309]="InGame_WeaponUpdated"})(i=o.NetworkGameDataRequestType||(o.NetworkGameDataRequestType={}));var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.networkConnectedInfo=void 0,t.connectionToken=null,t.callbackDictionary=[],t}return __extends(t,e),t.prototype.Setup=function(){var e=this;this.SetupCallbacks(),setTimeout(function(){e.onReceiveMsg('{"actionId":"1","eventData":[["-1",1,50,1,1000],[11,"Player 1"],-1,-1],"id":"2"}')},1e3),setTimeout(function(){e.onReceiveMsg('{"actionId":"2","eventData":[0,[11,"Player 1",1,1,1000000,0,10,-1]],"id":"2"}')},2e3),setTimeout(function(){e.onReceiveMsg('{"actionId":"3","eventData":[1,[[11,"Player 1",1,1,1000000,0,10,0]],3],"id":"2"}')},3e3)},t.prototype.onReceiveMsg=function(e){var t=JSON.parse(e);switch(t.id){case"0":this.ProcessReceivedSystemData(t);break;case"1":this.ProcessReceivedLobbyData(t);break;case"2":this.ProcessReceivedInGameData(t)}},t.prototype.processLobbyIncomingMessage=function(e){var t=e.actionId;"1"==t?this.onReceiveTableList(e):"3"==t?this.onReceiveTableRejectJoin(e):"4"==t?this.onReceiveTableUpdate(e):"5"==t?this.onReceiveLobbyMessage(e):"6"==t&&this.onReceiveLobbyState(e)},t.prototype.onReceiveTableList=function(e){console.warn("receive table list? do something?")},t.prototype.onReceiveTableRejectJoin=function(e){var t=e.eventData;console.warn("onReceiveTableRejectJoin? do something?"+t)},t.prototype.onReceiveTableUpdate=function(e){},t.prototype.onReceiveLobbyMessage=function(e){},t.prototype.onReceiveLobbyState=function(e){console.warn("on receive lobby stage? do something?"+e)},t.prototype.SetupNetworkData=function(e){console.warn("use  token "+e)},t.prototype.ProcessReceivedSystemData=function(e){switch(e.actionId){case"1":this.networkConnectedInfo=new l(e.eventData),this.HandlePostRequestCompleteCallback(i.System_Connected,this.networkConnectedInfo);break;case"2":this.HandlePostRequestCompleteCallback(i.System_Pong,e.eventData);break;case"3:":console.warn("System_PlayerUpdated"),this.HandlePostRequestCompleteCallback(i.System_PlayerUpdated,e.eventData);break;case"4":console.warn("System_SystemMaintainance"),this.HandlePostRequestCompleteCallback(i.System_SystemMaintainance,e.eventData)}},t.prototype.ProcessReceivedLobbyData=function(e){switch(e.actionId){case"1":this.HandlePostRequestCompleteCallback(i.Lobby_TableList,e.eventData);break;case"3":console.warn("Lobby_TableRejectJoin"),this.HandlePostRequestCompleteCallback(i.Lobby_TableRejectJoin,e.eventData);break;case"4:":console.warn("Lobby_TableUpdate"),this.HandlePostRequestCompleteCallback(i.Lobby_TableUpdate,e.eventData);break;case"5":console.warn("Lobby_LobbyMessage"),this.HandlePostRequestCompleteCallback(i.Lobby_LobbyMessage,e.eventData);break;case"6":console.warn("Lobby_LobbyState"),this.HandlePostRequestCompleteCallback(i.Lobby_LobbyState,e.eventData)}},t.prototype.ProcessReceivedInGameData=function(e){switch(e.actionId){case"1":this.HandlePostRequestCompleteCallback(i.InGame_StartGame,e.eventData);break;case"2":this.HandlePostRequestCompleteCallback(i.InGame_SeatIn,e.eventData);break;case"3":this.HandlePostRequestCompleteCallback(i.InGame_RoundUpdate,e.eventData);break;case"4":this.HandlePostRequestCompleteCallback(i.InGame_WeaponFire,e.eventData);break;case"5":this.HandlePostRequestCompleteCallback(i.InGame_FishStatus,e.eventData);break;case"6":this.HandlePostRequestCompleteCallback(i.InGame_PlayerLeave,e.eventData);break;case"7":this.HandlePostRequestCompleteCallback(i.InGame_FishList,e.eventData);break;case"9":this.HandlePostRequestCompleteCallback(i.InGame_WeaponUpdated,e.eventData)}},t.prototype.SendJoinGameRequest=function(e){},t.prototype.SendSeatInRequest=function(){},t.prototype.SendFireRequest=function(e){},t.prototype.SendHitRequest=function(e){for(var t=0;t<e.FishIds.length;t++)e.FishIds[t].toString(),t<e.FishIds.length-1?",":"]"},t.prototype.SetupCallbacks=function(){},t.prototype.RegisterRequestCallback=function(e,t){this.callbackDictionary.push(new s(e,t))},t.prototype.HandlePostRequestCompleteCallback=function(e,t){for(var o=0;o<this.callbackDictionary.length;o++)this.callbackDictionary[o].IsRequestType(e)&&this.callbackDictionary[o].FireCallback(t)},t.prototype.RegisterConnectedCallback=function(e){this.RegisterRequestCallback(i.System_Connected,function(t){e(t)})},t.prototype.RegisterTableListCallback=function(e){this.RegisterRequestCallback(i.Lobby_TableList,function(t){e(new c(t))})},t.prototype.RegisterStartGameCallback=function(e){this.RegisterRequestCallback(i.InGame_StartGame,function(t){var o=void 0,i=new u(t[0]),n=[],r=[];if(-1===t[3])o=new d(0,60,-1);else{for(var a=t[3],s=a[0],l=(o=new d(s[0],s[1],s[2])).MaxGameTime-o.RemainingGametime,c=a[1],f=0;f<c.length;f++){var y=c[f];y[3]>l&&n.push(new v(y))}var g=t[2];if(-1!=g)for(f=0;f<g.length;f++)r.push(new h(g[f]))}var m=new p(i,o,r,n);e(m)})},t.prototype.RegisterSeatInRequestCallback=function(e){this.RegisterRequestCallback(i.InGame_SeatIn,function(t){var o=t[1];e(new h(o))})},t.prototype.RegisterRoundUpdateRequestCallback=function(e){this.RegisterRequestCallback(i.InGame_RoundUpdate,function(t){e(new f(parseInt(t[0])))})},t.prototype.RegisterWeaponFireRequestCallback=function(e){this.RegisterRequestCallback(i.InGame_WeaponFire,function(t){e(new F(parseInt(t[0]),parseInt(t[2]),parseFloat(t[1]),parseFloat(t[3]),t[4],parseFloat(t[5]),t.length>6?JSON.parse(t[6]):void 0))})},t.prototype.RegisterFishStatusCallback=function(e){this.RegisterRequestCallback(i.InGame_FishStatus,function(t){e(new S(t))})},t.prototype.RegisterPlayerLeaveCallback=function(e){this.RegisterRequestCallback(i.InGame_PlayerLeave,function(t){e(new _(parseInt(t[0]),parseInt(t[1])))})},t.prototype.RegisterFishListCallback=function(e){this.RegisterRequestCallback(i.InGame_FishList,function(t){new y(t);e(new y(t))})},t.prototype.RegisterWeaponUpdatedCallback=function(e){this.RegisterRequestCallback(i.InGame_WeaponUpdated,function(t){e(new b(t))})},t=__decorate([r],t)}(cc.Component);o.default=a;var s=function(){function e(e,t){this.requestType=e,this.callback=t}return e.prototype.FireCallback=function(e){this.callback(e)},e.prototype.IsRequestType=function(e){return e===this.requestType},e}(),l=function(){function e(e){this.credit=0,this.serverDateTime="",this.userName="",this.id=0,this.settings=[],this.countryCode="",this.currency="",this.baseCurrencyType=0,this.baseCurrencyRate=0,this.playerCurrencyType=0,this.playerCurrencyRate=0,this.credit=e.credit,this.serverDateTime=e.serverDateTime,this.userName=e.userName,this.id=e.id,this.countryCode=e.ctryCode,this.currency=e.currrency,this.settings=e.setting,this.baseCurrencyType=e.baseCurrType,this.baseCurrencyRate=e.baseCurrRate,this.playerCurrencyType=e.playerCurrType,this.playerCurrencyRate=e.playerCurrRate}return Object.defineProperty(e.prototype,"Credit",{get:function(){return this.credit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ServerDateTime",{get:function(){return this.serverDateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserName",{get:function(){return this.userName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Settings",{get:function(){return this.settings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CountryCode",{get:function(){return this.countryCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Currency",{get:function(){return this.currency},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BaseCurrencyType",{get:function(){return this.baseCurrencyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BaseCurrencyRate",{get:function(){return this.baseCurrencyRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerCurrencyType",{get:function(){return this.playerCurrencyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerCurrencyRate",{get:function(){return this.playerCurrencyRate},enumerable:!0,configurable:!0}),e}();o.NetworkConnectedInfo=l;var c=function(){return function(e){this.tableIds=[],this.tableIds=e}}();o.NetworkTableListInfo=c;var p=function(){function e(e,t,o,i){this.tableData=void 0,this.gameData=void 0,this.existSeatInfo=[],this.existFishGroupInfo=[],this.tableData=e,this.gameData=t,this.existSeatInfo=o,this.existFishGroupInfo=i}return Object.defineProperty(e.prototype,"TableData",{get:function(){return this.tableData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GameData",{get:function(){return this.gameData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExistSeatInfo",{get:function(){return this.existSeatInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExistFishGroupInfo",{get:function(){return this.existFishGroupInfo},enumerable:!0,configurable:!0}),e}();o.NetworkStartGameInfo=p;var u=function(){function e(e){this.tableId=0,this.tableId=e[1]}return Object.defineProperty(e.prototype,"TableId",{get:function(){return this.tableId},enumerable:!0,configurable:!0}),e}();o.NetworkTableData=u;var d=function(){function e(e,t,o){this.remainingGametime=0,this.maxGameTime=0,this.mapId=0,this.remainingGametime=e,this.maxGameTime=t,this.mapId=o}return Object.defineProperty(e.prototype,"RemainingGametime",{get:function(){return this.remainingGametime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxGameTime",{get:function(){return this.maxGameTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MapId",{get:function(){return this.mapId},enumerable:!0,configurable:!0}),e}();o.NetworkGameData=d;var h=function(){function e(e){this.playerId=e[0],this.playerName=e[1],this.weaponType=e[2],this.seatId=e[3],this.balance=e[4],this.weaponAngle=e[5],this.previousBet=e[6]}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerName",{get:function(){return this.playerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SeatId",{get:function(){return this.seatId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Balance",{get:function(){return this.balance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponAngle",{get:function(){return this.weaponAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PreviousBet",{get:function(){return this.previousBet},enumerable:!0,configurable:!0}),e}();o.NetworkSeatInfo=h;var f=function(){function e(e){this.roundNumber=-1,this.roundNumber=e}return Object.defineProperty(e.prototype,"RoundNumber",{get:function(){return this.roundNumber},enumerable:!0,configurable:!0}),e}();o.NetworkRoundUpdateInfo=f;var y=function(){function e(e){this.gameData=void 0,this.fishGroupInfos=[],this.gameData=new g(e[0]);for(var t=[],o=0;o<e[1].length;o++)t.push(new v(e[1][o]));this.fishGroupInfos=t}return Object.defineProperty(e.prototype,"GameData",{get:function(){return this.gameData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishGroupInfos",{get:function(){return this.fishGroupInfos},enumerable:!0,configurable:!0}),e}();o.NetworkFishListInfo=y;var g=function(){function e(e){this.gameStatus=-1,this.remainingGametime=0,this.maxGameTime=0,this.mapId=0,this.gameStatus=e[0],this.remainingGametime=e[1],this.maxGameTime=e[2],this.mapId=e[3]}return Object.defineProperty(e.prototype,"GameStatus",{get:function(){return this.gameStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RemainingGametime",{get:function(){return this.remainingGametime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxGameTime",{get:function(){return this.maxGameTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MapId",{get:function(){return this.mapId},enumerable:!0,configurable:!0}),e}();o.NetworkFishListGameDataInfo=g;var v=function(){function e(e){this.groupId=0,this.pathData="",this.pathOffset=cc.Vec2.ZERO,this.spawnTime=0,this.aliveDuration=0,this.fishInfos=[],this.groupId=e[0],this.pathData=e[1],this.pathOffset=e[2],this.spawnTime=e[3],this.aliveDuration=e[4];for(var t=[],o=e[5],i=0;i<o.length;i++)t.push(new m(o[i]));this.fishInfos=t}return Object.defineProperty(e.prototype,"GroupId",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PathData",{get:function(){return this.pathData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PathOffset",{get:function(){return this.pathOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpawnTime",{get:function(){return this.spawnTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AliveDuration",{get:function(){return this.aliveDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishInfos",{get:function(){return this.fishInfos},enumerable:!0,configurable:!0}),e.prototype.AddAliveDuration=function(e){this.aliveDuration+=e},e}();o.NetworkFishGroupInfo=v;var m=function(){function e(e){this.fishId=0,this.fishType=0,this.lifePoint=0,this.payoutAmount=0,this.specialParams=[],this.fishId=e[0],this.fishType=e[1],this.lifePoint=e[2],this.payoutAmount=e[3],this.specialParams=e[4]}return Object.defineProperty(e.prototype,"FishId",{get:function(){return this.fishId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishType",{get:function(){return this.fishType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LifePoint",{get:function(){return this.lifePoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PayoutAmount",{get:function(){return this.payoutAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpecialParams",{get:function(){return this.specialParams},enumerable:!0,configurable:!0}),e}();o.NetworkFishGroupFishInfo=m;var S=function(){function e(e){this.playerId=0,this.shootId=0,this.creditBalance=0,this.fishStatusInfo=[],this.weaponType=0,this.playerId=e[0],this.shootId=e[1],this.creditBalance=e[2];for(var t=e[3],o=[],i=0;i<t.length;i++)o.push(new C(t[i]));this.fishStatusInfo=o,this.weaponType=e[4]}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CreditBalance",{get:function(){return this.creditBalance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishStatusInfo",{get:function(){return this.fishStatusInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),e}();o.NetworkFishStatusInfo=S;var C=function(){function e(e){this.fishId=0,this.fishType=0,this.lifePoint=0,this.payoutAmount=0,this.specialParams=[],this.fishId=e[0],this.fishType=e[1],this.lifePoint=e[2],this.isAlive=1==e[3],this.payoutAmount=e[4],this.specialParams=e[5]}return Object.defineProperty(e.prototype,"FishId",{get:function(){return this.fishId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishType",{get:function(){return this.fishType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LifePoint",{get:function(){return this.lifePoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsAlive",{get:function(){return this.isAlive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PayoutAmount",{get:function(){return this.payoutAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpecialParams",{get:function(){return this.specialParams},enumerable:!0,configurable:!0}),e}();o.NetworkFishStatusFishInfo=C;var _=function(){function e(e,t){this.seatId=0,this.playerId=0,this.seatId=e,this.playerId=t}return Object.defineProperty(e.prototype,"SeatIf",{get:function(){return this.seatId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),e}();o.NetworkPlayerLeaveInfo=_;var F=function(){function e(e,t,o,i,n,r,a){this.playerId=e,this.weaponType=t,this.weaponAngle=o,this.betValue=i,this.shootId=n,this.balance=r,this.extraParameter=a}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponAngle",{get:function(){return this.weaponAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BetValue",{get:function(){return this.betValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Balance",{get:function(){return this.balance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExtraParameter",{get:function(){return this.extraParameter},enumerable:!0,configurable:!0}),e}();o.NetworkFireWeaponInfo=F;var b=function(){function e(e){this.playerId=e[0],this.weaponType=e[1]}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),e}();o.NetworkWeaponUpdatedInfo=b;var P=function(){function e(e,t,o,i,n){this.playerId=e,this.weaponType=t,this.weaponAngle=o,this.betValue=i,this.extraParameter=n}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponAngle",{get:function(){return this.weaponAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BetValue",{get:function(){return this.betValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExtraParameter",{get:function(){return this.extraParameter},enumerable:!0,configurable:!0}),e.prototype.AssignShootId=function(e){this.shootId=e},e}();o.NetworkFireWeaponRequestData=P;var R=function(){function e(e,t){this.shootId=e,this.fishIds=t}return Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishIds",{get:function(){return this.fishIds},enumerable:!0,configurable:!0}),e}();o.NetworkHitRequestData=R,cc._RF.pop()},{}],PayoutObjectController:[function(e,t,o){"use strict";cc._RF.push(t,"1e985/hwsJDQpndJF8898nn","PayoutObjectController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/Event"),n=e("./BasePayoutObject"),r=e("../../Core/FishLogManager"),a=e("../../Utils/CommonDataHelper"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPlayerPool=void 0,t.othersPlayerPool=void 0,t.involvedFishTypes=[1,2,3,4,5,6,7,8,9,10],t.payoutObjectsHolder=void 0,t.localPlayerId=-1,t.HandleOnFishDeath=function(e){if(t.IsInvolvedFishType(e.detail.TargetFish.FishType)){var o=null;if(null!=(o=e.detail.StatusInfo.PlayerId===t.localPlayerId?t.localPlayerPool.AcquireNode().getComponent(n.default):t.othersPlayerPool.AcquireNode().getComponent(n.default))){var i=e.detail.TargetFish.node.parent.convertToWorldSpaceAR(e.detail.TargetFish.node.position);o.node.setParent(t.payoutObjectsHolder),o.node.setPosition(t.payoutObjectsHolder.convertToNodeSpaceAR(i)),o.Execute(e.detail.FishStatus)}}},t}return __extends(t,e),t.prototype.Setup=function(){void 0!==this.localPlayerPool?void 0!==this.othersPlayerPool?void 0!==this.payoutObjectsHolder?(this.localPlayerPool.Setup(),this.othersPlayerPool.Setup(),addEventListener(i.FishEvent.Fish_Death,this.HandleOnFishDeath)):r.default.Instance.Error(this,"payoutObjectsHolder is missing!"):r.default.Instance.Error(this,"othersPlayerPool is missing!"):r.default.Instance.Error(this,"localPlayerPool is missing!")},t.prototype.SetLocalPlayerId=function(e){this.localPlayerId=e},t.prototype.IsInvolvedFishType=function(e){for(var t=0;t<this.involvedFishTypes.length;t++)if(this.involvedFishTypes[t]===e)return!0;return!1},__decorate([c(a.CommonNodePoolHandler)],t.prototype,"localPlayerPool",void 0),__decorate([c(a.CommonNodePoolHandler)],t.prototype,"othersPlayerPool",void 0),__decorate([c(Number)],t.prototype,"involvedFishTypes",void 0),__decorate([c(cc.Node)],t.prototype,"payoutObjectsHolder",void 0),t=__decorate([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Core/Event":"Event","../../Core/FishLogManager":"FishLogManager","../../Utils/CommonDataHelper":"CommonDataHelper","./BasePayoutObject":"BasePayoutObject"}],PlayerManager:[function(e,t,o){"use strict";cc._RF.push(t,"19023HhwbNCqahmGi7K62A0","PlayerManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Seat/SeatController"),n=e("./ClickField"),r=e("../Core/FishLogManager"),a=e("./Payout/PayoutObjectController"),s=e("./CollectCoin/CollectCoinController"),l=e("../Core/Event"),c=cc._decorator,p=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPlayerSeatIndex=-1,t.RequestFire=function(e){void 0!==t.requestFireAction&&t.requestFireAction(e)},t.requestHitAction=void 0,t.RequestHit=function(e){void 0!==t.requestHitAction&&t.requestHitAction(e)},t.clickField=void 0,t.HandleClickFieldPressed=function(e){t.seatController.HandlePlayerPressOnClickField(e)},t.HandleClickFieldPressing=function(e){t.seatController.HandlePlayerPressingOnClickField(e)},t.HandleClickFieldReleased=function(){t.seatController.HandlePlayerRelaseOnClickField()},t.payoutObjectController=void 0,t.collectCoinController=void 0,t}return __extends(t,e),t.prototype.Setup=function(){r.default.Instance.Log(this,"Setup Started"),this.SetupSeatController(),this.SetupClickField(),this.SetupPayoutObject(),this.SetupCollectCoin()},t.prototype.SetupSeatController=function(){null===this.seatController&&this.seatController.getComponentInChildren(i.default),this.seatController.Setup(),this.seatController.RegisterRequestFireAction(this.RequestFire),this.seatController.RegisterRequestHitAction(this.RequestHit),this.localPlayerSeatIndex=-1},t.prototype.HandleSeatInSuccess=function(e,t,o){this.seatController.SeatIn(t,e),console.warn(t),t&&(this.localPlayerSeatIndex=e.SeatId,this.payoutObjectController.SetLocalPlayerId(e.PlayerId),this.collectCoinController.SetLocalPlayerId(e.PlayerId),dispatchEvent(new CustomEvent(l.FishEvent.GameState_LocalPlayer_SeatedIn,new l.FishEventInit(new l.PlayerSeatInEventData(this.seatController.GetAllSeatedSeatNodes()[this.localPlayerSeatIndex],o,e)))))},t.prototype.HandleExistedPlayers=function(e){for(var t=0;t<e.length;t++)this.seatController.SeatIn(!1,e[t])},t.prototype.FlipSeatDimension=function(e){this.seatController.FlipDimension(e)},t.prototype.HandleFishStatusInfoUpdate=function(e){this.seatController.UpdateSeatCreditBalance(e.PlayerId,e.CreditBalance),0!=e.WeaponType&&this.seatController.HandleFishStatusUpdate(e)},t.prototype.HandleWeaponUpdated=function(e){this.seatController.HandleSeatWeaponStatusUpdate(e.PlayerId,e.WeaponType)},t.prototype.HandlePlayerLeave=function(e){this.seatController.SeatOut(e)},t.prototype.RegisterRequestFireAction=function(e){this.requestFireAction=e},t.prototype.HandleFireRequest=function(e,t){this.seatController.HandleFireRequest(e,t)},t.prototype.RegisterRequestHitAction=function(e){this.requestHitAction=e},t.prototype.SetupClickField=function(){void 0===this.clickField&&r.default.Instance.Error(this,"clickField is missing!"),this.clickField.Setup(),this.clickField.RegisterOnPressed(this.HandleClickFieldPressed),this.clickField.RegisterOnClickPressing(this.HandleClickFieldPressing),this.clickField.RegisterOnRelease(this.HandleClickFieldReleased)},t.prototype.SetupPayoutObject=function(){void 0!==this.payoutObjectController?this.payoutObjectController.Setup():r.default.Instance.Error(this,"payoutObjectController is missing!")},t.prototype.SetupCollectCoin=function(){var e=this;void 0!==this.collectCoinController?(this.collectCoinController.Setup(),this.collectCoinController.RegisterSeatNodeAcquireAction(function(t){return e.seatController.GetSeatNodeByPlayerId(t)})):r.default.Instance.Error(this,"collectCoinController is missing!")},__decorate([u(i.default)],t.prototype,"seatController",void 0),__decorate([u(n.default)],t.prototype,"clickField",void 0),__decorate([u(a.default)],t.prototype,"payoutObjectController",void 0),__decorate([u(s.default)],t.prototype,"collectCoinController",void 0),t=__decorate([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Core/Event":"Event","../Core/FishLogManager":"FishLogManager","./ClickField":"ClickField","./CollectCoin/CollectCoinController":"CollectCoinController","./Payout/PayoutObjectController":"PayoutObjectController","./Seat/SeatController":"SeatController"}],PositionDrivenDirectionUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"958d8fQ9u1MPImOTY06kUOI","PositionDrivenDirectionUpdater"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turnRate=120,t.lastPosition=void 0,t.snap=!1,t}return __extends(t,e),t.prototype.update=function(e){if(void 0!==this.lastPosition){var t=this.node.angle*Math.PI/180,o=new cc.Vec2(Math.cos(t),Math.sin(t)),i=this.node.position.sub(this.lastPosition),n=new cc.Vec2(i.x,i.y).normalize();if(o.equals(n))return;var r=n.dot(o)>0?-1:1,a=this.turnRate*e,s=Math.atan2(n.y,n.x)/Math.PI*180-90;s=this.NormalizeAngle(s);var l=this.NormalizeAngle(this.node.angle%360),c=Math.abs(s-l);this.snap?(this.node.angle=-s,this.snap=!1):this.node.angle=c<a?s:this.node.angle+r*a}this.lastPosition=this.node.position},t.prototype.NormalizeAngle=function(e){return e<-180?e+360:e>=180?e-360:e},t.prototype.SetSnap=function(){this.snap=!0},__decorate([r],t.prototype,"turnRate",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],ProjectileBullet:[function(e,t,o){"use strict";cc._RF.push(t,"ba54aocfrtL7LwrSVQ07GwF","ProjectileBullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseBullet"),n=e("./BulletWallCollider"),r=e("../../../../../Fish/FishCollider"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=5,t.ignoreFishCollision=!1,t.directionVector=cc.Vec3.ZERO,t}return __extends(t,e),t.prototype.HandleFire=function(e,t,o){this.ignoreFishCollision=!1,this.node.position=e,this.node.angle=t,this.RecalculateDirectionVector()},t.prototype.PreHitVerification=function(e){return-1==this.TargetFishId||e.BindedFish.FishId==this.TargetFishId},t.prototype.SetIgnoreFishCollision=function(e){this.ignoreFishCollision=e},t.prototype.update=function(e){this.node.setPosition(this.node.position.add(this.directionVector.mul(e*this.speed)))},t.prototype.RecalculateDirectionVector=function(){var e=(this.node.angle+90)/180*Math.PI;this.directionVector=new cc.Vec3(Math.cos(e),Math.sin(e),0)},t.prototype.RecalculateAngle=function(){this.node.angle=Math.atan2(this.directionVector.y,this.directionVector.x)/Math.PI*180-90},t.prototype.onCollisionEnter=function(e,t){if("Wall"==e.node.group){var o=e.node.getComponent(n.default);null!=o&&(o.ColliderType===n.BulletWallColliderType.Box_TopBtm?this.directionVector.y=-this.directionVector.y:o.ColliderType===n.BulletWallColliderType.Box_LeftRight&&(this.directionVector.x=-this.directionVector.x),this.RecalculateAngle())}else if("Fish"==e.node.group){if(this.ignoreFishCollision)return;var i=e.node.getComponent(r.default);null!=i&&this.PreHitVerification(i)&&this.NotifyHitted([i.BindedFish])}},__decorate([l],t.prototype,"speed",void 0),t=__decorate([s],t)}(i.BaseBullet);o.default=c,cc._RF.pop()},{"../../../../../Fish/FishCollider":"FishCollider","./BaseBullet":"BaseBullet","./BulletWallCollider":"BulletWallCollider"}],RouteAnimationLogic:[function(e,t,o){"use strict";cc._RF.push(t,"d33854wkrdOIYcS7e7agBzZ","RouteAnimationLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnInit=function(e,t,o){this.targetAnimation=e.getComponent(cc.Animation),null==this.targetAnimation&&(this.targetAnimation=e.addComponent(cc.Animation));var i=t.RouteData,n=this.targetAnimation.getClips().indexOf(i);this.animKey="",o&&("1"==o[0]?(this.Applier.node.scaleX=Math.abs(this.Applier.node.scaleX),this.Applier.node.scaleY=Math.abs(this.Applier.node.scaleY)):"2"===o[0]?(this.Applier.node.scaleX=-1*Math.abs(this.Applier.node.scaleX),this.Applier.node.scaleY=Math.abs(this.Applier.node.scaleY)):"3"===o[0]?(this.Applier.node.scaleX=Math.abs(this.Applier.node.scaleX),this.Applier.node.scaleY=-1*Math.abs(this.Applier.node.scaleY)):"4"===o[0]&&(this.Applier.node.scaleX=-1*Math.abs(this.Applier.node.scaleX),this.Applier.node.scaleY=-1*Math.abs(this.Applier.node.scaleY))),n>=0?this.animKey=this.targetAnimation.getClips()[n].name:(this.targetAnimation.addClip(i),this.animKey=i.name),this.totalDuration=this.targetAnimation.play(this.animKey).duration,this.targetAnimation.node.position=cc.Vec3.ZERO},t.prototype.OnApplyProgress=function(e){this.targetAnimation.setCurrentTime(this.totalDuration*e)},t.prototype.OnCompleted=function(){this.targetAnimation.stop(this.animKey)},t=__decorate([r],t)}(i.RouteLogic));o.default=a,cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],RouteBaseCustomExecuteLogic:[function(e,t,o){"use strict";cc._RF.push(t,"50aaeXg5l1McbOdtBpehwIo","RouteBaseCustomExecuteLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.customDuration=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"CustomDuration",{get:function(){return this.customDuration},enumerable:!0,configurable:!0}),t.prototype.HandlePreExecute=function(){this.OnPreExecute()},t.prototype.HandleApplyProgress=function(e){return this.OnApplyProgrress(e)},__decorate([r],t.prototype,"customDuration",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],RouteBezierCurveLogic:[function(e,t,o){"use strict";cc._RF.push(t,"54b66sYROlMa5upXoS2J4aG","RouteBezierCurveLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnInit=function(e,t,o){var i=t.RouteData;void 0===i||i.length<4?console.error("RouteBezierCurveLogic request 4 contol points as data!"):(this.p0=i[0].position,this.p1=i[1].position,this.p2=i[2].position,this.p3=i[3].position,o&&("1"==o[0]||("2"===o[0]?(this.p0.x=-this.p0.x,this.p1.x=-this.p1.x,this.p2.x=-this.p2.x,this.p3.x=-this.p3.x):"3"===o[0]?(this.p0.y=-this.p0.y,this.p1.y=-this.p1.y,this.p2.y=-this.p2.y,this.p3.y=-this.p3.y):"4"===o[0]&&(this.p0.x=-this.p0.x,this.p1.x=-this.p1.x,this.p2.x=-this.p2.x,this.p3.x=-this.p3.x,this.p0.y=-this.p0.y,this.p1.y=-this.p1.y,this.p2.y=-this.p2.y,this.p3.y=-this.p3.y))))},t.prototype.OnApplyProgress=function(e){var t=this.CalculateCurve(e);this.Applier.node.position=t},t.prototype.OnCompleted=function(){},t.prototype.CalculateCurve=function(e){var t=3*(this.p1.x-this.p0.x),o=3*(this.p2.x-this.p1.x)-t,i=this.p3.x-this.p0.x-t-o,n=3*(this.p1.y-this.p0.y),r=3*(this.p2.y-this.p1.y)-n,a=this.p3.y-this.p0.y-n-r,s=i*Math.pow(e,3)+o*Math.pow(e,2)+t*e+this.p0.x,l=a*Math.pow(e,3)+r*Math.pow(e,2)+n*e+this.p0.y;return new cc.Vec3(s,l)},t}(e("./RouteLogic").RouteLogic);o.RouteBezierCurveLogic=i,cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],RouteCustomLogic:[function(e,t,o){"use strict";cc._RF.push(t,"c8818tZfQFKEZmTsMakoMUm","RouteCustomLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnInit=function(e,t,o){this.logicExecutionComponent=t.RouteData,this.logicExecutionComponent.HandlePreExecute()},t.prototype.OnApplyProgress=function(e){this.logicExecutionComponent.HandleApplyProgress(e)},t.prototype.OnCompleted=function(){},t=__decorate([r],t)}(i.RouteLogic));o.default=a,cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],"RouteDataCaptureController ":[function(e,t,o){"use strict";cc._RF.push(t,"101353c6wBHD5R3iutkDBzG","RouteDataCaptureController "),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../RouteManager"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(){function e(e,t){this.targetMethod=e,this.routeDataList=t}return Object.defineProperty(e.prototype,"TargetMethod",{get:function(){return this.targetMethod},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RouteDataList",{get:function(){return this.routeDataList},enumerable:!0,configurable:!0}),e=__decorate([a("ControllerCapturedRouteData")],e)}();o.ControllerCapturedRouteData=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.capturerReferences=[],t}return __extends(t,e),t.prototype.onLoad=function(){n.RouteManager.Instance.ApplyCapturedData(this.CaptureRouteDatas())},t.prototype.CaptureRouteDatas=function(){for(var e=[],t=0;t<this.capturerReferences.length;t++)e.push(new l(this.capturerReferences[t].BindedMethod,this.capturerReferences[t].CaptureRouteData()));return e},__decorate([s(i.default)],t.prototype,"capturerReferences",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../RouteManager":"RouteManager","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],RouteDataCaptureExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"8676dJ4UiZDR4Ngl1jkmy+C","RouteDataCaptureExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../RouteData/RouteData"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(){function e(e,t,o){this.dataId=e,this.totalDuration=t,this.routeData=o}return Object.defineProperty(e.prototype,"DataId",{get:function(){return this.dataId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalDuration",{get:function(){return this.totalDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RouteData",{get:function(){return this.routeData},enumerable:!0,configurable:!0}),e=__decorate([r("CapturedRouteData")],e)}();o.CapturedRouteData=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.routeMethod=i.RouteMethod.None,t}return __extends(t,e),Object.defineProperty(t.prototype,"BindedMethod",{get:function(){return this.routeMethod},enumerable:!0,configurable:!0}),__decorate([a({type:cc.Enum(i.RouteMethod)})],t.prototype,"routeMethod",void 0),t=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../RouteData/RouteData":"RouteData"}],RouteData:[function(e,t,o){"use strict";cc._RF.push(t,"f5af1fHMHJHXqzFDCiJog2U","RouteData"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("./RouteLogic/RouteBezierCurveLogic"),r=e("./RouteLogic/RouteFixedPointLogic"),a=e("./RouteLogic/RouteLinearLogic"),s=e("./RouteLogic/RouteGenericLogic"),l=e("./RouteLogic/RouteAnimationLogic");(function(e){e[e.None=0]="None",e[e.Linear=1]="Linear",e[e.FixPoint=2]="FixPoint",e[e.BezierCurve=3]="BezierCurve",e[e.Generic=4]="Generic",e[e.Custom=5]="Custom",e[e.Animation=6]="Animation"})(i=o.RouteMethod||(o.RouteMethod={}));var c=function(){function e(e,t,o,n,r){this.routeMethod=i.None,this.methodId=0,this.overrideDuration=0,this.progressOffset=0,this.parameters=void 0,this.routeMethod=e,this.methodId=t,this.overrideDuration=o,this.progressOffset=n,this.parameters=r}return Object.defineProperty(e.prototype,"RouteMethod",{get:function(){return this.routeMethod},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MethodId",{get:function(){return this.methodId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OverrideDuration",{get:function(){return this.overrideDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ProgressOffset",{get:function(){return this.progressOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Parameters",{get:function(){return this.parameters},enumerable:!0,configurable:!0}),e}();o.RouteMethodExecuteData=c;var p=function(){function e(e,t){this.targetApplier=e,this.methodExecuteData=t}return Object.defineProperty(e.prototype,"TargetApplier",{get:function(){return this.targetApplier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MethodExecuteData",{get:function(){return this.methodExecuteData},enumerable:!0,configurable:!0}),e}();o.ApplierExecuteData=p;var u=function(){function e(e,t){this.applierData=e,this.capturedRouteData=t}return Object.defineProperty(e.prototype,"ApplierData",{get:function(){return this.applierData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CapturedRouteData",{get:function(){return this.capturedRouteData},enumerable:!0,configurable:!0}),e}();o.RouteSetupData=u;var d=function(){function e(e){switch(this.bindedLogic=null,this.capturedRouteData=null,this.totalDuration=0,e.ApplierData.MethodExecuteData.RouteMethod){case i.BezierCurve:this.bindedLogic=new n.RouteBezierCurveLogic(e.ApplierData.TargetApplier,e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.FixPoint:this.bindedLogic=new r.default(e.ApplierData.TargetApplier,e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.Linear:this.bindedLogic=new a.default(e.ApplierData.TargetApplier,e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.Generic:this.bindedLogic=new s.default(e.ApplierData.TargetApplier,e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.Animation:this.bindedLogic=new l.default(e.ApplierData.TargetApplier,e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters)}this.capturedRouteData=e.CapturedRouteData,0!==e.ApplierData.MethodExecuteData.OverrideDuration?this.totalDuration=e.ApplierData.MethodExecuteData.OverrideDuration:this.totalDuration=this.capturedRouteData.TotalDuration}return Object.defineProperty(e.prototype,"CapturedRouteData",{get:function(){return this.capturedRouteData},enumerable:!0,configurable:!0}),e.prototype.HandleApplyProgress=function(e){null!==this.bindedLogic&&this.bindedLogic.HandleApplyProgress(e)},e.prototype.HandleOnCompleted=function(){null!==this.bindedLogic&&this.bindedLogic.HandleCompleted()},e.prototype.GetTotalDuration=function(){return this.totalDuration},e}();o.BaseRouteData=d,cc._RF.pop()},{"./RouteLogic/RouteAnimationLogic":"RouteAnimationLogic","./RouteLogic/RouteBezierCurveLogic":"RouteBezierCurveLogic","./RouteLogic/RouteFixedPointLogic":"RouteFixedPointLogic","./RouteLogic/RouteGenericLogic":"RouteGenericLogic","./RouteLogic/RouteLinearLogic":"RouteLinearLogic"}],RouteFixedPointLogic:[function(e,t,o){"use strict";cc._RF.push(t,"d8675oE1fVCQr0K/ztO4fWi","RouteFixedPointLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=cc._decorator,r=(n.ccclass,n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnInit=function(e,t){var o=t.RouteData;if(void 0===o||o.length<2)console.error("RouteFixedPointLogic request 2 points as data!");else{this.pointDatas=[];for(var i=0,n=[],r=0;r<o.length;r++)if(r!=o.length-1){var s=o[r+1].position.sub(o[r].position).mag();n.push(s),i+=s}var l=0;for(r=0;r<o.length;r++){var c=r===o.length-1?1:l/i;this.pointDatas.push(new a(o[r].position,c)),l+=n[r]}}},t.prototype.OnApplyProgress=function(e){for(var t=0,o=this.pointDatas.length-1;o>=0;o--)if(e>this.pointDatas[o].AccumulatedProgressPoint){t=o;break}var i=(e-this.pointDatas[t].AccumulatedProgressPoint)/(this.pointDatas[t+1].AccumulatedProgressPoint-this.pointDatas[t].AccumulatedProgressPoint),n=this.pointDatas[t].Point,r=this.pointDatas[t+1].Point,a=new cc.Vec3(cc.misc.lerp(n.x,r.x,i),cc.misc.lerp(n.y,r.y,i),0);this.Applier.node.position=a},t.prototype.OnCompleted=function(){},t}(i.RouteLogic));o.default=r;var a=function(){function e(e,t){this.point=void 0,this.accumulatedProgressPoint=void 0,this.point=e,this.accumulatedProgressPoint=t}return Object.defineProperty(e.prototype,"Point",{get:function(){return this.point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AccumulatedProgressPoint",{get:function(){return this.accumulatedProgressPoint},enumerable:!0,configurable:!0}),e}();cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],RouteGenericLogic:[function(e,t,o){"use strict";cc._RF.push(t,"2d85etyKH1EiYHT9FcKXZmI","RouteGenericLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("./RouteLogic"),r=cc._decorator,a=r.ccclass,s=r.property;(function(e){e[e.Wait=0]="Wait",e[e.Move=1]="Move"})(i=o.GenericRouteActionType||(o.GenericRouteActionType={}));var l=function(){function e(){this.actionType=i.Wait,this.dataParameter="",this.duration=0}return Object.defineProperty(e.prototype,"ActionType",{get:function(){return this.actionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataParameter",{get:function(){return this.dataParameter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),__decorate([s({type:cc.Enum(i)})],e.prototype,"actionType",void 0),__decorate([s()],e.prototype,"dataParameter",void 0),__decorate([s()],e.prototype,"duration",void 0),e=__decorate([a("GenericRouteActionData")],e)}();o.GenericRouteActionData=l;var c=function(){function e(){this.actionDatas=[]}return Object.defineProperty(e.prototype,"ActionDatas",{get:function(){return this.actionDatas},enumerable:!0,configurable:!0}),__decorate([s(l)],e.prototype,"actionDatas",void 0),e=__decorate([a("GenericRouteData")],e)}();o.GenericRouteData=c;var p=function(){function e(e,t,o,i){this.startProgress=0,this.endProgress=0,this.startProgress=e,this.endProgress=t,this.actionType=o,this.convertedActionParameter=i}return Object.defineProperty(e.prototype,"StartProgress",{get:function(){return this.startProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndProgress",{get:function(){return this.endProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ActionType",{get:function(){return this.actionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConvertedActionParameter",{get:function(){return this.convertedActionParameter},enumerable:!0,configurable:!0}),e}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnInit=function(e,t,o){this.executeDatas=[];for(var n=t.RouteData,r=0,a=t.TotalDuration,s=0;s<n.ActionDatas.length;s++){var l=n.ActionDatas[s],c=null;if(l.ActionType===i.Move){var u=JSON.parse(l.DataParameter);(c={}).from=new cc.Vec2(u.from.x,u.from.y),c.to=new cc.Vec2(u.to.x,u.to.y)}this.executeDatas.push(new p(r/a,(r+l.Duration)/a,l.ActionType,c)),r+=l.Duration}},t.prototype.OnApplyProgress=function(e){for(var t=null,o=0,n=0;n<this.executeDatas.length;n++)if(e>=this.executeDatas[n].StartProgress&&e<=this.executeDatas[n].EndProgress){t=this.executeDatas[n],o=n;break}var r=cc.Vec2.ZERO;if(t.ActionType===i.Wait){for(var a=o-1;a>=0&&this.executeDatas[a].ActionType!=i.Move;)a--;-1!=a&&(r=this.executeDatas[a].ConvertedActionParameter.to)}else if(t.ActionType===i.Move){var s=(e-t.StartProgress)/(t.EndProgress-t.StartProgress);r=new cc.Vec2(cc.misc.lerp(t.ConvertedActionParameter.from.x,t.ConvertedActionParameter.to.x,s),cc.misc.lerp(t.ConvertedActionParameter.from.y,t.ConvertedActionParameter.to.y,s))}this.Applier.node.position=new cc.Vec3(r.x,r.y)},t.prototype.OnCompleted=function(){},t=__decorate([a],t)}(n.RouteLogic);o.default=u,cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],RouteLinearLogic:[function(e,t,o){"use strict";cc._RF.push(t,"207800Lk9NID7IFnrtFoZFR","RouteLinearLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnInit=function(e,t){var o=t.RouteData;this.fromPoint=o[0],this.toPoint=o[1]},t.prototype.OnApplyProgress=function(e){this.Applier.node.position=new cc.Vec3(cc.misc.lerp(this.fromPoint.x,this.toPoint.x,e),cc.misc.lerp(this.fromPoint.y,this.toPoint.y,e),0)},t.prototype.OnCompleted=function(){},t=__decorate([r],t)}(i.RouteLogic));o.default=a,cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],RouteLogic:[function(e,t,o){"use strict";cc._RF.push(t,"42303SyvBpIHpb67LE/aTSC","RouteLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e,t,o){this.applier=void 0,this.applier=e,this.capturedRouteData=t,this.OnInit(e,t,o)}return Object.defineProperty(e.prototype,"CapturedRouteData",{get:function(){return this.capturedRouteData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Applier",{get:function(){return this.applier},enumerable:!0,configurable:!0}),e.prototype.HandleApplyProgress=function(e){this.OnApplyProgress(e)},e.prototype.HandleCompleted=function(){this.OnCompleted()},e}();o.RouteLogic=i,cc._RF.pop()},{}],RouteManager:[function(e,t,o){"use strict";cc._RF.push(t,"37fdbzLTdZP1a8w9knlD4mn","RouteManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteData/RouteData"),n=function(){function e(){this.capturedRouteData=[],this.appliers=[],this.executionSpeed=1}return Object.defineProperty(e,"Instance",{get:function(){return e.instance||(e.instance=new e),e.instance},enumerable:!0,configurable:!0}),e.prototype.ApplyCapturedData=function(e){this.capturedRouteData=e},e.prototype.GetCapturedRouteData=function(e,t){for(var o=0;o<this.capturedRouteData.length;o++)if(this.capturedRouteData[o].TargetMethod===e){for(var n=0;n<this.capturedRouteData[o].RouteDataList.length;n++)if(this.capturedRouteData[o].RouteDataList[n].DataId===t)return this.capturedRouteData[o].RouteDataList[n];return this.capturedRouteData[o].RouteDataList[this.capturedRouteData[o].RouteDataList.length-1]}return console.error("Failed to get route data for method: "+i.RouteMethod[e]+", id :"+t),null},e.prototype.ExecuteApplier=function(e){null!=e&&(this.appliers.push(e.TargetApplier),e.TargetApplier.ExecutePath(new i.BaseRouteData(new i.RouteSetupData(e,this.GetCapturedRouteData(e.MethodExecuteData.RouteMethod,e.MethodExecuteData.MethodId))),e.MethodExecuteData.ProgressOffset),e.TargetApplier.SetExecutionSpeed(this.executionSpeed))},e.prototype.StopApplierExecution=function(e){for(var t=this.appliers.length-1;t>=0;t--)this.appliers[t]==e&&(this.appliers[t].StopExecution(),this.appliers.splice(t,1))},e.prototype.SetExecutionSpeed=function(e){this.executionSpeed=e;for(var t=0;t<this.appliers.length;t++)this.appliers[t].SetExecutionSpeed(e)},e.instance=null,e}();o.RouteManager=n,cc._RF.pop()},{"./RouteData/RouteData":"RouteData"}],SeatBetAmountPanel:[function(e,t,o){"use strict";cc._RF.push(t,"17791Kny7pOO5oXOdNjmuE1","SeatBetAmountPanel"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.availableBetAmount=[10,20,50,100,150,200,300,500,1e3,2e3,5e3,1e4],t.betAmountLabel=void 0,t.increaseBetbutton=void 0,t.decreaseBetButton=void 0,t.betAmountUpdatedCallback=void 0,t.betAmountIndex=0,t.betAmount=0,t.HandleIncreaseBetButtonClicked=function(){t.betAmountIndex++,t.betAmountIndex>=t.availableBetAmount.length&&(t.betAmountIndex=0),t.UpdateBetAmount(t.availableBetAmount[t.betAmountIndex])},t.HandleDecreaseBetButtonClicked=function(){t.betAmountIndex--,t.betAmountIndex<0&&(t.betAmountIndex=t.availableBetAmount.length-1),t.UpdateBetAmount(t.availableBetAmount[t.betAmountIndex])},t}return __extends(t,e),Object.defineProperty(t.prototype,"BetAmount",{get:function(){return this.betAmount},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){void 0!==this.betAmountLabel?void 0!==this.increaseBetbutton?void 0!==this.decreaseBetButton?0!==this.availableBetAmount.length?(this.increaseBetbutton.node.on("click",this.HandleIncreaseBetButtonClicked),this.decreaseBetButton.node.on("click",this.HandleDecreaseBetButtonClicked)):i.default.Instance.Error(this,"availableBetAmount is empty!"):i.default.Instance.Error(this,"decreaseBetButton is missing!"):i.default.Instance.Error(this,"increaseBetbutton is missing!"):i.default.Instance.Error(this,"betAmountLabel is missing!")},t.prototype.RegisterBetAmountUpdatedCallback=function(e){this.betAmountUpdatedCallback=e},t.prototype.Enable=function(e,t){this.node.active=!0,this.AssignBetAmountIndex(e),this.UpdateBetAmount(e),this.increaseBetbutton.node.active=t,this.decreaseBetButton.node.active=t},t.prototype.Disable=function(){this.node.active=!1},t.prototype.SetInteractable=function(e){this.increaseBetbutton.interactable=e,this.decreaseBetButton.interactable=e},t.prototype.UpdateBetAmount=function(e){this.betAmount=e,this.betAmountLabel.string=e.toString(),void 0!==this.betAmountUpdatedCallback&&this.betAmountUpdatedCallback(this.betAmount,this.betAmountIndex)},t.prototype.AssignBetAmountIndex=function(e){for(var t=0;t<this.availableBetAmount.length;t++)this.availableBetAmount[t]==e&&(this.betAmountIndex=t)},__decorate([a(Number)],t.prototype,"availableBetAmount",void 0),__decorate([a(cc.Label)],t.prototype,"betAmountLabel",void 0),__decorate([a(cc.Button)],t.prototype,"increaseBetbutton",void 0),__decorate([a(cc.Button)],t.prototype,"decreaseBetButton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager"}],SeatController:[function(e,t,o){"use strict";cc._RF.push(t,"4ffac+DiBJEYrDUzLDIGYts","SeatController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./SeatNode"),n=e("../../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatSample=void 0,t.generatedSeats=[],t.localPlayerSeatIndex=-1,t.requestFireAction=void 0,t.RequestFire=function(e){void 0!==t.requestFireAction&&t.requestFireAction(e)},t.requestHitAction=void 0,t.RequestHit=function(e){void 0!==t.requestHitAction&&t.requestHitAction(e)},t}return __extends(t,e),t.prototype.Setup=function(){this.SetupSeats()},t.prototype.HandlePlayerPressOnClickField=function(e){-1!=this.localPlayerSeatIndex&&this.generatedSeats[this.localPlayerSeatIndex].HandleStartPressRequest(e)},t.prototype.HandlePlayerPressingOnClickField=function(e){-1!=this.localPlayerSeatIndex&&this.generatedSeats[this.localPlayerSeatIndex].HandlePressingRequest(e)},t.prototype.HandlePlayerRelaseOnClickField=function(){-1!=this.localPlayerSeatIndex&&this.generatedSeats[this.localPlayerSeatIndex].HandleStopPressRequest()},t.prototype.SetupSeats=function(){this.seatSample.node.active=!1,this.GenerateSeat(new cc.Vec2(-1,-1)),this.GenerateSeat(new cc.Vec2(1,-1)),this.GenerateSeat(new cc.Vec2(-1,1)),this.GenerateSeat(new cc.Vec2(1,1))},t.prototype.SeatIn=function(e,t){e&&(this.localPlayerSeatIndex=t.SeatId-1),this.generatedSeats[t.SeatId-1].SeatIn(e,t)},t.prototype.SeatOut=function(e){var t=this.GetSeatNodeByPlayerId(e.PlayerId);null!=t&&t.SeatOut()},t.prototype.FlipDimension=function(e){e?(this.generatedSeats[0].SetupDirectionDimension(new cc.Vec2(1,1),!0),this.generatedSeats[1].SetupDirectionDimension(new cc.Vec2(-1,1),!0),this.generatedSeats[2].SetupDirectionDimension(new cc.Vec2(1,-1),!0),this.generatedSeats[3].SetupDirectionDimension(new cc.Vec2(-1,-1),!0)):(this.generatedSeats[0].SetupDirectionDimension(new cc.Vec2(-1,-1),!1),this.generatedSeats[1].SetupDirectionDimension(new cc.Vec2(1,-1),!1),this.generatedSeats[2].SetupDirectionDimension(new cc.Vec2(-1,1),!1),this.generatedSeats[3].SetupDirectionDimension(new cc.Vec2(1,1),!1))},t.prototype.GenerateSeat=function(e){var t=cc.instantiate(this.seatSample.node).getComponent(i.default);t.node.parent=this.node,t.node.active=!0,t.Setup(e),t.RegisterRequestFireAction(this.RequestFire),t.RegisterRequestHitAction(this.RequestHit),this.generatedSeats.push(t)},t.prototype.GetAllSeatedSeatNodes=function(){for(var e=[],t=0;t<this.generatedSeats.length;t++)this.generatedSeats[t].IsSeated&&e.push(this.generatedSeats[t]);return e},t.prototype.GetSeatNodeByPlayerId=function(e){for(var t=0;t<this.generatedSeats.length;t++)if(this.generatedSeats[t].GetPlayerId()===e)return this.generatedSeats[t];return null},t.prototype.GetLocalPlayerSeatNode=function(){return-1!=this.localPlayerSeatIndex?this.generatedSeats[this.localPlayerSeatIndex]:(n.default.Instance.Error(this,"Trying to get local player seat node when no valid local index available!"),null)},t.prototype.RegisterRequestFireAction=function(e){this.requestFireAction=e},t.prototype.HandleFireRequest=function(e,t){var o=this.GetSeatNodeByPlayerId(e.PlayerId);null!==o&&(t||e.PlayerId!=this.GetLocalPlayerSeatNode().GetPlayerId()?o.HandleFireWeaponRequest(e):this.GetLocalPlayerSeatNode().UpdateCoinBalance(e.Balance,!0))},t.prototype.RegisterRequestHitAction=function(e){this.requestHitAction=e},t.prototype.UpdateSeatCreditBalance=function(e,t){var o=this.GetSeatNodeByPlayerId(e);null!=o&&o.UpdateCoinBalance(t,!0)},t.prototype.HandleFishStatusUpdate=function(e){if(this.HandleSeatWeaponStatusUpdate(e.PlayerId,e.WeaponType),-1!=this.localPlayerSeatIndex&&this.generatedSeats[this.localPlayerSeatIndex].GetPlayerId()==e.PlayerId);else{var t=this.GetSeatNodeByPlayerId(e.PlayerId);null!=t&&t.KillBulletByShootId(e.ShootId)}},t.prototype.HandleSeatWeaponStatusUpdate=function(e,t){var o=this.GetSeatNodeByPlayerId(e);null!=o&&o.HandleWeaponStatusUpdate(t)},__decorate([s(i.default)],t.prototype,"seatSample",void 0),t=__decorate([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","./SeatNode":"SeatNode"}],SeatNode:[function(e,t,o){"use strict";cc._RF.push(t,"7d82c7ingNBY45d8Q4NuCUV","SeatNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./SeatBetAmountPanel"),n=e("./SeatPlayerInfoPanel"),r=e("../../Network/NetworkGameDataController"),a=e("./Weapon/SeatWeaponHolder"),s=e("./WinIndicator/SeatWinIndicatorGenerator"),l=e("../../Core/FishLogManager"),c=cc._decorator,p=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emptySeatNode=void 0,t.seatInfo=null,t.isLocalPlayer=!1,t.isSeated=!1,t.requestFireAction=void 0,t.RequestFire=function(e,o,i,n){void 0===n&&(n=!1),void 0!==t.requestFireAction&&(!n&&t.playerInfoPanel.CoinBalance<t.betAmountPanel.BetAmount||t.requestFireAction(new r.NetworkFireWeaponRequestData(t.GetPlayerId(),e,o,t.betAmountPanel.BetAmount,i)))},t.requestHitAction=void 0,t.RequestHit=function(e){void 0!==t.requestHitAction&&t.requestHitAction(e)},t.weaponHolder=void 0,t.betAmountPanel=void 0,t.OnBeatAmountUpdated=function(e,o){t.weaponHolder.HandleBetAmountUpdated(e,o)},t.playerInfoPanel=void 0,t.winIndicatorGenerator=void 0,t.activateLockIds=[],t.controlLocked=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"IsLocalPlayer",{get:function(){return this.isLocalPlayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSeated",{get:function(){return this.isSeated},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.SetupDirectionDimension(e,!1),this.SetupWeaponHolder(),this.SetupBetAmountPanel(),this.SetupPlayerInfoPanel(),this.SetupWinIndicator(),void 0!==this.emptySeatNode&&(this.emptySeatNode.active=!1)},t.prototype.SetupDirectionDimension=function(e,t){this.weaponHolder.node.position=new cc.Vec3(Math.abs(this.weaponHolder.node.position.x)*e.x,Math.abs(this.weaponHolder.node.position.y)*e.y),this.weaponHolder.node.scaleY=-e.y,this.betAmountPanel.node.position=new cc.Vec3(Math.abs(this.betAmountPanel.node.position.x)*e.x,Math.abs(this.betAmountPanel.node.position.y)*e.y),this.playerInfoPanel.node.position=new cc.Vec3(Math.abs(this.playerInfoPanel.node.position.x)*e.x,Math.abs(this.playerInfoPanel.node.position.y)*e.y),this.weaponHolder.SetIsFlipped(t)},t.prototype.SeatIn=function(e,t){this.isSeated=!0,this.seatInfo=t,this.isLocalPlayer=e,this.betAmountPanel.Enable(t.PreviousBet,e),this.weaponHolder.SetLocalPlayerStatus(e),this.weaponHolder.Enable(t.WeaponType,t.WeaponAngle),this.playerInfoPanel.Enable(t.PlayerName,t.Balance),this.winIndicatorGenerator.HandlePlayerSeatIn(t,e)},t.prototype.SeatOut=function(){this.isLocalPlayer=!1,this.seatInfo=null,this.isSeated=!1,this.winIndicatorGenerator.HandlePlayerSeatOut(),this.betAmountPanel.Disable(),this.weaponHolder.Disable(),this.playerInfoPanel.Disable()},t.prototype.GetPlayerId=function(){return null!==this.seatInfo?this.seatInfo.PlayerId:-1},t.prototype.GetBetAmount=function(){return this.betAmountPanel.BetAmount},t.prototype.RegisterRequestFireAction=function(e){this.requestFireAction=e},t.prototype.HandleFireWeaponRequest=function(e){this.weaponHolder.HandleFireWeaponRequest(e),-1!=e.Balance&&this.UpdateCoinBalance(e.Balance,!0)},t.prototype.RegisterRequestHitAction=function(e){this.requestHitAction=e},t.prototype.HandleStartPressRequest=function(e){this.controlLocked||this.weaponHolder.StartFireWeapon(e)},t.prototype.HandlePressingRequest=function(e){this.controlLocked||this.weaponHolder.FiringWeapon(e)},t.prototype.HandleStopPressRequest=function(){this.weaponHolder.StopFireWeapon()},t.prototype.KillBulletByShootId=function(e){this.weaponHolder.KillBulletByShootId(e)},Object.defineProperty(t.prototype,"WeaponHolder",{get:function(){return this.weaponHolder},enumerable:!0,configurable:!0}),t.prototype.SetupWeaponHolder=function(){void 0===this.weaponHolder&&(this.weaponHolder=this.getComponentInChildren(a.default)),this.weaponHolder.Setup(),this.weaponHolder.Disable(),this.weaponHolder.RegisterSendFireWeaponRequestAction(this.RequestFire),this.weaponHolder.RegisterSendHitRequestAction(this.RequestHit)},t.prototype.SetupBetAmountPanel=function(){void 0===this.betAmountPanel&&(this.betAmountPanel=this.getComponentInChildren(i.default)),this.betAmountPanel.Setup(),this.betAmountPanel.RegisterBetAmountUpdatedCallback(this.OnBeatAmountUpdated),this.betAmountPanel.Disable()},t.prototype.SetupPlayerInfoPanel=function(){void 0===this.playerInfoPanel&&(this.playerInfoPanel=this.getComponentInChildren(n.default)),this.playerInfoPanel.Setup(),this.playerInfoPanel.Disable()},t.prototype.UpdateCoinBalance=function(e,t){this.playerInfoPanel.UpdateCoinBalance(e,t)},t.prototype.HandleWeaponStatusUpdate=function(e){this.weaponHolder.HandleWeaponUpdate(e)},t.prototype.SetupWinIndicator=function(){void 0===this.winIndicatorGenerator&&(this.winIndicatorGenerator=this.getComponentInChildren(s.default)),void 0!==this.winIndicatorGenerator&&null!==this.winIndicatorGenerator?this.winIndicatorGenerator.Setup():l.default.Instance.Error(this,"winIndicatorGenerator is missing!")},t.prototype.SetControlLockStatus=function(e,t){e?this.LockControl(t):this.UnlockControl(t)},t.prototype.LockControl=function(e){this.activateLockIds.indexOf(e)>=0||(this.activateLockIds.push(e),1==this.activateLockIds.length&&(this.controlLocked=!0,this.betAmountPanel.SetInteractable(!1)))},t.prototype.UnlockControl=function(e){var t=this.activateLockIds.indexOf(e);t<0||(this.activateLockIds.splice(t,1),0==this.activateLockIds.length&&(this.controlLocked=!1,this.betAmountPanel.SetInteractable(!0)))},__decorate([u(cc.Node)],t.prototype,"emptySeatNode",void 0),__decorate([u(a.default)],t.prototype,"weaponHolder",void 0),__decorate([u(i.default)],t.prototype,"betAmountPanel",void 0),__decorate([u(n.default)],t.prototype,"playerInfoPanel",void 0),__decorate([u(s.default)],t.prototype,"winIndicatorGenerator",void 0),t=__decorate([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Network/NetworkGameDataController":"NetworkGameDataController","./SeatBetAmountPanel":"SeatBetAmountPanel","./SeatPlayerInfoPanel":"SeatPlayerInfoPanel","./Weapon/SeatWeaponHolder":"SeatWeaponHolder","./WinIndicator/SeatWinIndicatorGenerator":"SeatWinIndicatorGenerator"}],SeatPlayerInfoPanel:[function(e,t,o){"use strict";cc._RF.push(t,"740dfMjajVEeIVQ7Ehl3glQ","SeatPlayerInfoPanel"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerNameLabel=void 0,t.coinBalanceLabel=void 0,t.lerpDuration=.5,t.tweenTracker=null,t.currentBalance=0,t.destinatedBalance=0,t}return __extends(t,e),t.prototype.Setup=function(){void 0!==this.playerNameLabel?void 0!==this.coinBalanceLabel||i.default.Instance.Error(this,"coinBalanceLabel is missing!"):i.default.Instance.Error(this,"playerNameLabel is missing!")},t.prototype.Enable=function(e,t){this.node.active=!0,this.playerNameLabel.string=e,this.UpdateCoinBalance(t,!1)},t.prototype.Disable=function(){this.node.active=!1},Object.defineProperty(t.prototype,"CoinBalance",{get:function(){return this.destinatedBalance},enumerable:!0,configurable:!0}),t.prototype.UpdateCoinBalance=function(e,t){var o=this;null!=this.tweenTracker&&this.tweenTracker.stop(),this.destinatedBalance=e,t?(this.tweenTracker=cc.tween(this).to(this.lerpDuration,{currentBalance:this.destinatedBalance},{progress:function(e,t,i,n){var r=cc.misc.lerp(e,t,n);return o.coinBalanceLabel.string=Math.floor(r).toString(),r}}),this.tweenTracker.start()):(this.currentBalance=this.destinatedBalance,this.coinBalanceLabel.string=this.currentBalance.toString())},__decorate([a(cc.Label)],t.prototype,"playerNameLabel",void 0),__decorate([a(cc.Label)],t.prototype,"coinBalanceLabel",void 0),__decorate([a()],t.prototype,"lerpDuration",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager"}],SeatWeaponHolder:[function(e,t,o){"use strict";cc._RF.push(t,"261411atM9J541wIEOTx9yt","SeatWeaponHolder"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseWeapon"),n=e("../../../Core/FishLogManager"),r=e("./Gun/CommonGun"),a=cc._decorator,s=a.ccclass,l=a.property,c=function(){function e(){this.weaponType=0,this.weapon=void 0}return Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Weapon",{get:function(){return this.weapon},enumerable:!0,configurable:!0}),e.prototype.Setup=function(e){this.weapon.Setup(this.weaponType),this.weapon.RegisterDirectionNode(e)},__decorate([l()],e.prototype,"weaponType",void 0),__decorate([l(i.default)],e.prototype,"weapon",void 0),e=__decorate([s("SeatWeaponProperties")],e)}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponProperties=[],t.selectedWeaponIndex=-1,t.isFlipped=!1,t.sendFireRequestAction=void 0,t.sendHitRequestAction=void 0,t.SendFireWeaponRequest=function(e,o){void 0!==t.sendFireRequestAction&&t.sendFireRequestAction(e,t.node.angle,o)},t.SendHitRequest=function(e){void 0!==t.sendHitRequestAction&&t.sendHitRequestAction(e)},t}return __extends(t,e),t.prototype.Setup=function(){this.weaponPosition=new cc.Vec2(this.node.position.x,this.node.position.y);for(var e=0;e<this.weaponProperties.length;e++)this.weaponProperties[e].Setup(this.node),this.weaponProperties[e].Weapon.RegisterFireWeaponRequestAction(this.SendFireWeaponRequest),this.weaponProperties[e].Weapon.RegisterSendHitRequestAction(this.SendHitRequest)},t.prototype.SetLocalPlayerStatus=function(e){for(var t=0;t<this.weaponProperties.length;t++)this.weaponProperties[t].Weapon.SetIsLocalPlayer(e)},t.prototype.SetIsFlipped=function(e){this.isFlipped=e,this.weaponPosition=new cc.Vec2(this.node.position.x,this.node.position.y)},t.prototype.Enable=function(e,t){this.node.active=!0,this.node.rotation=t,this.SelectWeapon(e)},t.prototype.Disable=function(){this.SetLocalPlayerStatus(!1),this.CleanUpAllWeapon(),this.node.active=!1},t.prototype.RegisterSendFireWeaponRequestAction=function(e){this.sendFireRequestAction=e},t.prototype.RegisterSendHitRequestAction=function(e){this.sendHitRequestAction=e},t.prototype.HandleFireWeaponRequest=function(e){-1!=this.selectedWeaponIndex&&e.WeaponType==this.weaponProperties[this.selectedWeaponIndex].WeaponType&&(this.node.angle=e.WeaponAngle,this.weaponProperties[this.selectedWeaponIndex].Weapon.HandleFireWeaponRequest(e))},t.prototype.HandleBetAmountUpdated=function(e,t){for(var o=0;o<this.weaponProperties.length;o++)this.weaponProperties[o].Weapon.HandleBetAmountUpdated(e,t)},t.prototype.GetCurrentWeapon=function(){return-1!=this.selectedWeaponIndex?this.weaponProperties[this.selectedWeaponIndex].Weapon:(n.default.Instance.Error(this,"Trying to get current weapon while no valid selectedWeaponIndex avgailable!"),null)},t.prototype.GetAllSpawnedBullets=function(){for(var e=[],t=0;t<this.weaponProperties.length;t++){var o=this.weaponProperties[t].Weapon.getComponent(r.CommonGun);null!=o&&(e=e.concat(o.GetAllSpawnedBullets()))}return e},t.prototype.StartFireWeapon=function(e){this.UpdateHolderAngle(e),-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.StartFireWeapon(e)},t.prototype.FiringWeapon=function(e){this.UpdateHolderAngle(e),-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.FiringWeapon(e)},t.prototype.StopFireWeapon=function(){-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.StopFireWeapon()},t.prototype.HandleWeaponUpdate=function(e){-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].WeaponType==e||this.SelectWeapon(e)},t.prototype.UnSelectCurrentWeapon=function(){-1!=this.selectedWeaponIndex&&(this.weaponProperties[this.selectedWeaponIndex].Weapon.SetUnSelected(),this.selectedWeaponIndex=-1)},t.prototype.KillBulletByShootId=function(e){for(var t=0;t<this.weaponProperties.length;t++)this.weaponProperties[t].Weapon.KillBulletByShootId(e)},t.prototype.SelectWeapon=function(e){-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.SetUnSelected();for(var t=0;t<this.weaponProperties.length;t++)if(this.weaponProperties[t].WeaponType==e){this.weaponProperties[t].Weapon.SetSelected(),this.selectedWeaponIndex=t;break}},t.prototype.CleanUpAllWeapon=function(){for(var e=0;e<this.weaponProperties.length;e++)this.weaponProperties[e].Weapon.CleanUpWeapon()},t.prototype.UpdateHolderAngle=function(e){var t=e.sub(this.weaponPosition);this.node.angle=-this.CalculateRotation(t)},t.prototype.CalculateRotation=function(e){return-(Math.atan2(e.y,e.x)/Math.PI*180-90)},__decorate([l(c)],t.prototype,"weaponProperties",void 0),t=__decorate([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Core/FishLogManager":"FishLogManager","./BaseWeapon":"BaseWeapon","./Gun/CommonGun":"CommonGun"}],SeatWinIndicatorGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"902b7Qs0p1AR61LGn31xERl","SeatWinIndicatorGenerator"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Utils/CommonDataHelper"),n=e("../../../Core/FishLogManager"),r=e("../../../Core/Event"),a=e("./BaseSeatWinIndicatorNode"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(){function e(){this.targetFishTypes=[],this.indicatorPool=void 0}return Object.defineProperty(e.prototype,"TargetFishTypes",{get:function(){return this.targetFishTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Pool",{get:function(){return this.indicatorPool},enumerable:!0,configurable:!0}),__decorate([c(Number)],e.prototype,"targetFishTypes",void 0),__decorate([c(i.CommonNodePoolHandler)],e.prototype,"indicatorPool",void 0),e=__decorate([l("SeatWinIndicatorProperties")],e)}();o.SeatWinIndicatorProperties=p;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatWinIndicatorProperties=[],t.onlyGenerateForLocalPlayer=!1,t.seatInfo=null,t.isLocalPlayer=!1,t.HandleOnFishDeath=function(e){if(void 0!==t.seatInfo&&null!==t.seatInfo){var o=e.detail;if((!t.onlyGenerateForLocalPlayer||t.isLocalPlayer)&&t.seatInfo.PlayerId===o.StatusInfo.PlayerId){var i=t.GetProperties(o.TargetFish.FishType);if(null!==i){var n=i.Pool.AcquireNode().getComponent(a.default);n.node.setParent(t.node),n.node.setPosition(cc.Vec3.ZERO),n.HandleSpawnIndicator(o,t.isLocalPlayer),t.OnIndiactorSpawned(n,o,t.isLocalPlayer)}}}},t}return __extends(t,e),t.prototype.Setup=function(){for(var e=0;e<this.seatWinIndicatorProperties.length;e++)if(this.seatWinIndicatorProperties[e].Pool.Setup(),null===this.seatWinIndicatorProperties[e].Pool.Nodesample.getComponent(a.default))return void n.default.Instance.Error(this,"Missing indicator object for pool sample!");addEventListener(r.FishEvent.Fish_Death,this.HandleOnFishDeath)},t.prototype.HandlePlayerSeatIn=function(e,t){this.seatInfo=e,this.isLocalPlayer=t},t.prototype.HandlePlayerSeatOut=function(){this.seatInfo=null,this.isLocalPlayer=!1},t.prototype.GetProperties=function(e){for(var t=0;t<this.seatWinIndicatorProperties.length;t++)for(var o=0;o<this.seatWinIndicatorProperties[t].TargetFishTypes.length;o++)if(this.seatWinIndicatorProperties[t].TargetFishTypes[o]==e)return this.seatWinIndicatorProperties[t];return null},t.prototype.OnIndiactorSpawned=function(e,t,o){},__decorate([c(p)],t.prototype,"seatWinIndicatorProperties",void 0),__decorate([c],t.prototype,"onlyGenerateForLocalPlayer",void 0),t=__decorate([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Core/Event":"Event","../../../Core/FishLogManager":"FishLogManager","../../../Utils/CommonDataHelper":"CommonDataHelper","./BaseSeatWinIndicatorNode":"BaseSeatWinIndicatorNode"}],Shaker:[function(e,t,o){"use strict";cc._RF.push(t,"80d6921GJVN8Lz6mgicBsGI","Shaker"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iterateAngleMin=0,t.iterateAngleMax=0,t.iterateRadiusMin=0,t.iterateRadiusMax=0,t.intervalMin=0,t.intervalMax=0,t.intervalCheckOffset=0,t.currAngle=0,t.endTracker=-1,t}return __extends(t,e),t.prototype.StartShake=function(e){var t=this;this.shaking||(this.originPos=new cc.Vec2(this.node.position.x,this.node.position.y)),-1!=this.endTracker&&clearTimeout(this.endTracker),this.SetShake(!0),this.endTracker=setTimeout(function(){t.StopShake()},1e3*e)},t.prototype.StopShake=function(){this.SetShake(!1)},t.prototype.SetShake=function(e){this.shaking=e,this.shaking?this.PerformShake():this.ResetPos()},t.prototype.update=function(e){this.shaking&&(this.intervalCounter>=this.nextInterval+this.intervalCheckOffset&&(this.PerformShake(),this.intervalCounter=0),this.intervalCounter+=e)},t.prototype.ResetPos=function(){this.node.position=new cc.Vec3(this.originPos.x,this.originPos.y)},t.prototype.PerformShake=function(){this.CaptureNextInterval(),this.currAngle+=cc.misc.lerp(this.iterateAngleMin,this.iterateAngleMax,Math.random());var e=this.GetDirectionVector(this.currAngle).mul(cc.misc.lerp(this.iterateRadiusMin,this.iterateRadiusMax,Math.random()));this.node.runAction(cc.moveTo(this.nextInterval,this.originPos.add(e)))},t.prototype.CaptureNextInterval=function(){this.intervalCounter=0,this.nextInterval=cc.misc.lerp(this.intervalMin,this.intervalMax,Math.random())},t.prototype.GetDirectionVector=function(e){return e*=2*Math.PI/360,new cc.Vec2(Math.sin(e),Math.cos(e))},__decorate([r],t.prototype,"iterateAngleMin",void 0),__decorate([r],t.prototype,"iterateAngleMax",void 0),__decorate([r],t.prototype,"iterateRadiusMin",void 0),__decorate([r],t.prototype,"iterateRadiusMax",void 0),__decorate([r],t.prototype,"intervalMin",void 0),__decorate([r],t.prototype,"intervalMax",void 0),__decorate([r],t.prototype,"intervalCheckOffset",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],SkeletonHelper:[function(e,t,o){"use strict";cc._RF.push(t,"920742D9rpCnooKDAoe/qqs","SkeletonHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeletonComponent=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.CaptureSkeletonComponent()},t.prototype.LoopAnimation=function(e){this.skeletonComponent.setAnimation(0,e,!0)},t.prototype.PlayAnimationOnce=function(e){this.skeletonComponent.setAnimation(0,e,!1)},t.prototype.CaptureSkeletonComponent=function(){this.skeletonComponent=this.getComponent(sp.Skeleton)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],SpecialFishPresenterController:[function(e,t,o){"use strict";cc._RF.push(t,"b6b06LS9XlATZxukuz5TlDH","SpecialFishPresenterController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/Event"),n=e("./BaseSpecialFishPresenter"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.presenters=[],t.HandleOnActivated=function(e){var o=t.GetExecutor(e.detail.FishType);null!=o&&o.HandleOnSpawn(e.detail)},t.HandleOnDeath=function(e){var o=t.GetExecutor(e.detail.TargetFish.FishType);null!=o&&o.HandleOnDeath(e.detail)},t}return __extends(t,e),t.prototype.onLoad=function(){addEventListener(i.FishEvent.Fish_Activated,this.HandleOnActivated),addEventListener(i.FishEvent.Fish_Death,this.HandleOnDeath);for(var e=0;e<this.presenters.length;e++)this.presenters[e].Setup()},t.prototype.GetExecutor=function(e){for(var t=0;t<this.presenters.length;t++)for(var o=this.presenters[t].TargetFishTypes,i=0;i<o.length;i++)if(o[i]==e)return this.presenters[t];return null},__decorate([s(n.default)],t.prototype,"presenters",void 0),t=__decorate([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../Core/Event":"Event","./BaseSpecialFishPresenter":"BaseSpecialFishPresenter"}],StandardLoadingController:[function(e,t,o){"use strict";cc._RF.push(t,"4a78686jmlHgKSdMC5xMK7m","StandardLoadingController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./LoadingController"),n=e("../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteImage=void 0,t.fadeDuration=.3,t}return __extends(t,e),t.prototype.ShowLoading=function(){void 0===this.spriteImage&&n.default.Instance.Error(this,"missing spriteImage"),!1===this.node.active&&(this.node.active=!0),!1===this.spriteImage.node.active&&(this.spriteImage.node.active=!0),this.node.opacity=255,this.spriteImage.node.opacity=255},t.prototype.HideLoading=function(){var e=this;this.spriteImage.node.runAction(cc.fadeTo(this.fadeDuration,0)),setTimeout(function(){e.node.active=!1},this.fadeDuration)},__decorate([s(cc.Sprite)],t.prototype,"spriteImage",void 0),__decorate([s],t.prototype,"fadeDuration",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","./LoadingController":"LoadingController"}],TestRota:[function(e,t,o){"use strict";cc._RF.push(t,"d3d2aNSaqhFwp4drdccQjFg","TestRota"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.samplePref=null,t.controlPoints=[],t}return __extends(t,e),t.prototype.start=function(){var e=-this.CalculateRotation(new cc.Vec2(.845125,.405493));this.node.rotation=e},t.prototype.CalculateRotation=function(e){return Math.atan2(e.y,e.x)/Math.PI*180-90},__decorate([r(cc.Node)],t.prototype,"samplePref",void 0),__decorate([r(cc.Node)],t.prototype,"controlPoints",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["AudioController","AudioSource","BaseBackgroundController","Event","FishLogManager","GameController","GameStageController","DebugPlayer","BaseFish","CommonFish","CommonGroupSpawnHandler","FishCollider","FishGroupSpawnHandler","FishManager","BaseSpecialFishPresenter","SpecialFishPresenterController","BaseSpecialGroupExecutor","ChildNodeAnimationSpecialGroupExecutor","ChildNodeFormationRouteSpecialGroupExecutor","ChildNodeRoutineActiveSpecialGroupExecutor","LoadingController","StandardLoadingController","BaseMenuController","LeftRightPositionDrivenDirectionUpdater","PositionDrivenDirectionUpdater","NetworkGameDataController","ClickField","BaseCollectCoinObject","BaseCollectCoinSpawner","CollectCoinController","BasePayoutObject","CommonPayoutObject","PayoutObjectController","PlayerManager","SeatBetAmountPanel","SeatController","SeatNode","SeatPlayerInfoPanel","BaseWeapon","BaseBullet","BulletWallCollider","ProjectileBullet","CommonGun","BaseExplosion","CommonExplosion","BaseMuzzle","CommonMuzzle","Hiter","SeatWeaponHolder","BaseSeatWinIndicatorNode","SeatWinIndicatorGenerator","ApplierTestHelper","BaseRouteApplier","AnimationDataCapturer","BezierCurveDataCapturer","CustomLogicDataCapturer","FixPointDataCapturer","GenericDataCapturer","LinearDataCapturer","RouteDataCaptureController ","RouteDataCaptureExecutor","RouteData","RouteAnimationLogic","RouteBaseCustomExecuteLogic","RouteBezierCurveLogic","RouteCustomLogic","RouteFixedPointLogic","RouteGenericLogic","RouteLinearLogic","RouteLogic","RouteManager","TestRota","AnimationHelper","CommonDataHelper","Shaker","SkeletonHelper","Configuration","FishWarBackgroundController","FishWarAwakeningDragonFish","FishWarCommonFish","FishWarCrabFish","FishWarDragonWheelFish","FishWarFireStormFish","FishWarGhostShipFish","FishWarGoldenToadFish","FishWarLongWangFish","FishWarMonkeyKingFish","FishWarThunderHammerFish","FishWarCrabGroupExecutor","LongWangGroupExecutor","FishWarFishAudioController","FishWarTutorialController","FishWarMenuController","FishWarInfoPanelController","FishWarInfoPanelTab","FishWarClickField","FishWarCoinSpawner","FishWarPayoutObject","FishWarPlayerBalanceBarWinAmountJumper","FishWarWinIndicatorGenerator","FishWarWinIndicatorNode","FishWarAwakeningDragonPresenter","FishWarAzureStonePresenter ","FishWarDragonWheelPresenter","FishWarFireStormPresenter","FishWarGhostShipPresenter","FishWarMonkeyKingPresenter","FishWarSpecialFishEnterancePresenter","FishWarThunderHammerPresenter","FishWarUtilityAimFishIndicator","FishWarUtilityAutoPanel","FishWarUtilityAutoPanelNode","FishWarUtilityController","FishWarUtilityLightningCollider","FishWarUtilityNode","FishWarCommonBullet","FishWarCommonGun","FishWarFireStormGun"]);
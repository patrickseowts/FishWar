window.__require=function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return n(t[a][1][e]||e)},u,u.exports,e,t,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,o){(function(e){"use strict";function i(e){return parseInt(e)===e}function n(e){if(!i(e.length))return!1;for(var t=0;t<e.length;t++)if(!i(e[t])||e[t]<0||e[t]>255)return!1;return!0}function r(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(i(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function s(e,t,o,i,n){null==i&&null==n||(e=e.slice?e.slice(i,n):Array.prototype.slice.call(e,i,n)),t.set(e,o)}var c=function(){return{toBytes:function(e){var t=[],o=0;for(e=encodeURI(e);o<e.length;){var i=e.charCodeAt(o++);37===i?(t.push(parseInt(e.substr(o,2),16)),o+=2):t.push(i)}return r(t)},fromBytes:function(e){for(var t=[],o=0;o<e.length;){var i=e[o];i<128?(t.push(String.fromCharCode(i)),o++):i>191&&i<224?(t.push(String.fromCharCode((31&i)<<6|63&e[o+1])),o+=2):(t.push(String.fromCharCode((15&i)<<12|(63&e[o+1])<<6|63&e[o+2])),o+=3)}return t.join("")}}}(),l=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],o=0;o<e.length;o+=2)t.push(parseInt(e.substr(o,2),16));return t},fromBytes:function(t){for(var o=[],i=0;i<t.length;i++){var n=t[i];o.push(e[(240&n)>>4]+e[15&n])}return o.join("")}}}(),u={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],C=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],F=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],b=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],P=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],R=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(e){for(var t=[],o=0;o<e.length;o+=4)t.push(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]);return t}var A=function(e){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:r(e,!0)}),this._prepare()};A.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var o,i=4*(e+1),n=this.key.length/4,r=k(this.key);for(t=0;t<n;t++)o=t>>2,this._Ke[o][t%4]=r[t],this._Kd[e-o][t%4]=r[t];for(var a,s=0,c=n;c<i;){if(a=r[n-1],r[0]^=d[a>>16&255]<<24^d[a>>8&255]<<16^d[255&a]<<8^d[a>>24&255]^p[s]<<24,s+=1,8!=n)for(t=1;t<n;t++)r[t]^=r[t-1];else{for(t=1;t<n/2;t++)r[t]^=r[t-1];a=r[n/2-1],r[n/2]^=d[255&a]^d[a>>8&255]<<8^d[a>>16&255]<<16^d[a>>24&255]<<24;for(t=n/2+1;t<n;t++)r[t]^=r[t-1]}for(t=0;t<n&&c<i;)l=c>>2,h=c%4,this._Ke[l][h]=r[t],this._Kd[e-l][h]=r[t++],c++}for(var l=1;l<e;l++)for(var h=0;h<4;h++)a=this._Kd[l][h],this._Kd[l][h]=F[a>>24&255]^b[a>>16&255]^P[a>>8&255]^R[255&a]},A.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,o=[0,0,0,0],i=k(e),n=0;n<4;n++)i[n]^=this._Ke[0][n];for(var r=1;r<t;r++){for(n=0;n<4;n++)o[n]=f[i[n]>>24&255]^y[i[(n+1)%4]>>16&255]^g[i[(n+2)%4]>>8&255]^v[255&i[(n+3)%4]]^this._Ke[r][n];i=o.slice()}var s,c=a(16);for(n=0;n<4;n++)s=this._Ke[t][n],c[4*n]=255&(d[i[n]>>24&255]^s>>24),c[4*n+1]=255&(d[i[(n+1)%4]>>16&255]^s>>16),c[4*n+2]=255&(d[i[(n+2)%4]>>8&255]^s>>8),c[4*n+3]=255&(d[255&i[(n+3)%4]]^s);return c},A.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,o=[0,0,0,0],i=k(e),n=0;n<4;n++)i[n]^=this._Kd[0][n];for(var r=1;r<t;r++){for(n=0;n<4;n++)o[n]=m[i[n]>>24&255]^S[i[(n+3)%4]>>16&255]^C[i[(n+2)%4]>>8&255]^_[255&i[(n+1)%4]]^this._Kd[r][n];i=o.slice()}var s,c=a(16);for(n=0;n<4;n++)s=this._Kd[t][n],c[4*n]=255&(h[i[n]>>24&255]^s>>24),c[4*n+1]=255&(h[i[(n+3)%4]>>16&255]^s>>16),c[4*n+2]=255&(h[i[(n+2)%4]>>8&255]^s>>8),c[4*n+3]=255&(h[255&i[(n+1)%4]]^s);return c};var N=function(e){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new A(e)};N.prototype.encrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),o=a(16),i=0;i<e.length;i+=16)s(e,o,0,i,i+16),s(o=this._aes.encrypt(o),t,i);return t},N.prototype.decrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),o=a(16),i=0;i<e.length;i+=16)s(e,o,0,i,i+16),s(o=this._aes.decrypt(o),t,i);return t};var D=function(e,t){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=r(t,!0),this._aes=new A(e)};D.prototype.encrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),o=a(16),i=0;i<e.length;i+=16){s(e,o,0,i,i+16);for(var n=0;n<16;n++)o[n]^=this._lastCipherblock[n];this._lastCipherblock=this._aes.encrypt(o),s(this._lastCipherblock,t,i)}return t},D.prototype.decrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),o=a(16),i=0;i<e.length;i+=16){s(e,o,0,i,i+16),o=this._aes.decrypt(o);for(var n=0;n<16;n++)t[i+n]=o[n]^this._lastCipherblock[n];s(e,this._lastCipherblock,0,i,i+16)}return t};var w=function(e,t,o){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=a(16);o||(o=1),this.segmentSize=o,this._shiftRegister=r(t,!0),this._aes=new A(e)};w.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,o=r(e,!0),i=0;i<o.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var n=0;n<this.segmentSize;n++)o[i+n]^=t[n];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(o,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return o},w.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,o=r(e,!0),i=0;i<o.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var n=0;n<this.segmentSize;n++)o[i+n]^=t[n];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return o};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=r(t,!0),this._lastPrecipherIndex=16,this._aes=new A(e)};I.prototype.encrypt=function(e){for(var t=r(e,!0),o=0;o<t.length;o++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[o]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var O=function(e){if(!(this instanceof O))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};O.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},O.prototype.setBytes=function(e){if(16!=(e=r(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},O.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var T=function(e,t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof O||(t=new O(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new A(e)};T.prototype.encrypt=function(e){for(var t=r(e,!0),o=0;o<t.length;o++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[o]^=this._remainingCounter[this._remainingCounterIndex++];return t},T.prototype.decrypt=T.prototype.encrypt;var E={AES:A,Counter:O,ModeOfOperation:{ecb:N,cbc:D,cfb:w,ofb:I,ctr:T},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:function(e){var t=16-(e=r(e,!0)).length%16,o=a(e.length+t);s(e,o);for(var i=e.length;i<o.length;i++)o[i]=t;return o},strip:function(e){if((e=r(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var o=e.length-t,i=0;i<t;i++)if(e[o+i]!==t)throw new Error("PKCS#7 invalid padding byte");var n=a(o);return s(e,n,0,0,o),n}}},_arrayTest:{coerceArray:r,createArray:a,copyArray:s}};void 0!==o?t.exports=E:"function"==typeof define&&define.amd?define(E):(e.aesjs&&(E._aesjs=e.aesjs),e.aesjs=E)})(this)},{}],AESEncrypt:[function(e,t,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}cc._RF.push(t,"57517v2zf1M9K8McRgCZxO3","AESEncrypt");var a=e("aes-js"),s=function(){function e(t){i(this,e),this.token=t;var o=a.utils.hex.toBytes(this.token);this.client=new a.ModeOfOperation.ecb(o)}return r(e,[{key:"encrypt",value:function(e){var t=a.utils.utf8.toBytes(e),o=a.padding.pkcs7.pad(t),i=this.client.encrypt(o);return a.utils.hex.fromBytes(i)}},{key:"decrypt",value:function(e){var t=a.utils.hex.toBytes(e),o=this.client.decrypt(t),i=a.padding.pkcs7.strip(o);return a.utils.utf8.fromBytes(i)}}]),e}();t.exports=s,cc._RF.pop()},{"aes-js":1}],AnimationHelper:[function(e,t,o){"use strict";cc._RF.push(t,"a6540JTf6VD+KcFveIeshNs","AnimationHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.animation=this.getComponent(cc.Animation)},t.prototype.PlayAnimation=function(e){var t=JSON.parse(e);this.animation.play(t.key)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],ApplierTestHelper:[function(e,t,o){"use strict";cc._RF.push(t,"d48d7U7lqxDub1M2faMmIb/","ApplierTestHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Applier/BaseRouteApplier"),n=e("./RouteData/RouteData"),r=e("./RouteManager"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pathId=0,t}return __extends(t,e),t.prototype.start=function(){r.RouteManager.Instance.ExecuteApplier(new n.ApplierExecuteData(this.getComponent(i.default),new n.RouteMethodExecuteData(n.RouteMethod.Linear,0,this.pathId)))},__decorate([c],t.prototype,"pathId",void 0),t=__decorate([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Applier/BaseRouteApplier":"BaseRouteApplier","./RouteData/RouteData":"RouteData","./RouteManager":"RouteManager"}],AudioController:[function(e,t,o){"use strict";cc._RF.push(t,"0250fgf/1ZDR57y0VVSAWIs","AudioController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Utils/CommonDataHelper"),n=e("../Core/FishLogManager"),r=e("./AudioSource"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(){function e(){this.key="",this.clip=null}return Object.defineProperty(e.prototype,"Key",{get:function(){return this.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Clip",{get:function(){return this.clip},enumerable:!0,configurable:!0}),__decorate([c()],e.prototype,"key",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"clip",void 0),e=__decorate([s("AudioClipKeyReference")],e)}();o.AudioClipKeyReference=l;var u=function(){function e(e,t){this.source=null,this.timeOutTracker=-1,this.source=e,this.timeOutTracker=t}return Object.defineProperty(e.prototype,"Source",{get:function(){return this.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TimeOutTracker",{get:function(){return this.timeOutTracker},enumerable:!0,configurable:!0}),e}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.muteFlag=!1,t.clipReferences=[],t.playingSources=[],t.audioSourcePool=void 0,t}var o;return __extends(t,e),o=t,t.prototype.Setup=function(){void 0===o.Instance?(o.Instance=this,this.SetupPooling()):n.default.Instance.Error(this,"Trying to init audio controller twice!")},t.prototype.SetMute=function(e){this.muteFlag=e,this.HandleMuteUpdatedForSpawnedSources()},t.prototype.PlayAudioWithClip=function(e,t){this.PlayNewSource(e,t)},t.prototype.PlayAudioWithKey=function(e,t){var o=this.GetClip(e);null!=e&&this.PlayAudioWithClip(o,t)},t.prototype.PlayAudioWithEvent=function(e,t){var o=JSON.parse(t);this.PlayAudioWithKey(o.key,o.loop)},t.prototype.StopAudioWithKey=function(e){var t=this.GetClip(e);null!=e&&this.ForceStopPlayingSource(t)},t.prototype.StopAudioWithClip=function(e){this.ForceStopPlayingSource(e)},t.prototype.GetClip=function(e){for(var t=0;t<this.clipReferences.length;t++)if(this.clipReferences[t].Key==e)return this.clipReferences[t].Clip;return null},t.prototype.PlayNewSource=function(e,t){var o=this,i=this.audioSourcePool.AcquireNode().getComponent(r.default);i.node.setParent(this.node),i.clip=e,i.play(),i.volume=this.muteFlag?0:1,i.loop=t;var n=-1;t||(n=setTimeout(function(){o.PostPlayFinishRemoveSpawnedSource(i)},1e3*i.getDuration())),this.playingSources.push(new u(i,n))},t.prototype.PostPlayFinishRemoveSpawnedSource=function(e){for(var t=0;t<this.playingSources.length;t++)if(this.playingSources[t].Source===e){this.audioSourcePool.DisposeNode(this.playingSources[t].Source.node),this.playingSources.splice(t,1);break}},t.prototype.ForceStopPlayingSource=function(e){for(var t=this.playingSources.length-1;t>=0;t--)this.playingSources[t].Source.clip===e&&(this.playingSources[t].Source.stop(),clearTimeout(this.playingSources[t].TimeOutTracker),this.audioSourcePool.DisposeNode(this.playingSources[t].Source.node),this.playingSources.splice(t,1))},t.prototype.HandleMuteUpdatedForSpawnedSources=function(){for(var e=0;e<this.playingSources.length;e++)this.playingSources[e].Source.volume=this.muteFlag?0:1},t.prototype.SetupPooling=function(){void 0!=this.audioSourcePool?(this.audioSourcePool.Setup(),null!=this.audioSourcePool.Nodesample.getComponent(r.default)||n.default.Instance.Error(this,"sample in pool missing AudioSource!")):n.default.Instance.Error(this,"audioSourcePool is missing!")},__decorate([c(l)],t.prototype,"clipReferences",void 0),__decorate([c(i.CommonNodePoolHandler)],t.prototype,"audioSourcePool",void 0),t=o=__decorate([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","../Utils/CommonDataHelper":"CommonDataHelper","./AudioSource":"AudioSource"}],AudioSource:[function(e,t,o){"use strict";cc._RF.push(t,"4fc2c+88oRPdYc0DzjHGg+a","AudioSource"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([n],t)}(cc.AudioSource));o.default=r,cc._RF.pop()},{}],BaseBackgroundController:[function(e,t,o){"use strict";cc._RF.push(t,"7b45cXYqo1GQZMRDAId9e5K","BaseBackgroundController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Setup=function(){this.OnSetup()},t.prototype.OnSetup=function(){},t.prototype.HandlePreChangeRound=function(){console.warn("pre change round!"),this.OnPreChangeRound()},t.prototype.HandleChangeRound=function(e){console.warn("change map !"+e),this.OnChangeRound(e)},t=__decorate([n],t)}(cc.Component));o.BaseBackgroundController=r,cc._RF.pop()},{}],BaseBullet:[function(e,t,o){"use strict";cc._RF.push(t,"59f0bjHP5FFJ5seiTdAUnI7","BaseBullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../../Network/NetworkGameDataController"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shootInfo=void 0,t.disposeOnHitted=!0,t.hitCalled=!1,t.hittedCallback=void 0,t.bulletDisposeAction=void 0,t.targetFishId=-1,t}return __extends(t,e),t.prototype.HandleSetup=function(){},t.prototype.HandleFire=function(e,t,o){},t.prototype.Setup=function(){},t.prototype.Fire=function(e,t,o,i,n){void 0===n&&(n=-1),this.hittedCallback=i,this.shootInfo=o,this.targetFishId=n,this.HandleFire(e,t,o),this.hitCalled=!1},t.prototype.RegisterDisposeAction=function(e){this.bulletDisposeAction=e},t.prototype.NotifyHitted=function(e){if(!this.hitCalled){this.hitCalled=!0;for(var t=[],o=0;o<e.length;o++)t.push(e[o].FishId),e[o].TriggerCustomEvent("BulletHit");this.TriggerHittedCallback(new i.NetworkHitRequestData(this.shootInfo.ShootId,t)),this.disposeOnHitted&&this.DisposeBullet()}},t.prototype.TriggerHittedCallback=function(e){void 0!==this.hittedCallback&&this.hittedCallback(e,this.node)},t.prototype.DisposeBullet=function(){void 0!==this.bulletDisposeAction&&this.bulletDisposeAction(this.node)},Object.defineProperty(t.prototype,"TargetFishId",{get:function(){return this.targetFishId},enumerable:!0,configurable:!0}),t.prototype.ResetTargetFishId=function(){this.targetFishId=-1},__decorate([a()],t.prototype,"disposeOnHitted",void 0),t=__decorate([r],t)}(cc.Component);o.BaseBullet=s,cc._RF.pop()},{"../../../../../Network/NetworkGameDataController":"NetworkGameDataController"}],BaseCollectCoinObject:[function(e,t,o){"use strict";cc._RF.push(t,"8dab9nk835NzJXg/ns1Zgkq","BaseCollectCoinObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinType=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"CoinType",{get:function(){return this.coinType},enumerable:!0,configurable:!0}),__decorate([r()],t.prototype,"coinType",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BaseCollectCoinSpawner:[function(e,t,o){"use strict";cc._RF.push(t,"252bexAPnlHbpPi8YxsTgBE","BaseCollectCoinSpawner"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposeSelfAction=void 0,t.acquireCoinAction=void 0,t.disposeCoinAction=void 0,t}return __extends(t,e),t.prototype.HandleSpawnCoins=function(e,t,o,i,n){this.disposeSelfAction=o,this.acquireCoinAction=i,this.disposeCoinAction=n,this.OnSpawnCoins(e,t)},t.prototype.DisposeSelf=function(){this.disposeSelfAction&&this.disposeSelfAction(this)},t.prototype.AcquireCoin=function(e){if(this.acquireCoinAction)return this.acquireCoinAction(e)},t.prototype.DisposeCoin=function(e){this.disposeCoinAction&&this.disposeCoinAction(e)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseExplosion:[function(e,t,o){"use strict";cc._RF.push(t,"c9c57EVBBpInZm0bgPYCipy","BaseExplosion"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposeAction=void 0,t}return __extends(t,e),t.prototype.Setup=function(e){this.disposeAction=e,this.OnSetup()},t.prototype.HandleSpawned=function(){this.OnSpawned()},t.prototype.OnSetup=function(){},t.prototype.OnSpawned=function(){},t.prototype.DisposeExplosion=function(){void 0!==this.disposeAction&&this.disposeAction(this.node)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseFish:[function(e,t,o){"use strict";cc._RF.push(t,"9d977vVwblIRb/6+udxWjbG","BaseFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishCollider"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fishType=0,t.fishId=0,t.fishInfo=void 0,t.isAlive=!1,t.preDisposeDuration=3,t.fishDisposalTimeoutTracker=-1,t.disposeAction=void 0,t.colliders=void 0,t.OnFishCollided=function(e){"Bullet"===e.node.group&&t.OnFishHitted(e)},t.HandleOnFishColliderClicked=function(e){t.colliderClickedCallback&&t.colliderClickedCallback(e)},t}return __extends(t,e),Object.defineProperty(t.prototype,"FishType",{get:function(){return this.fishType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FishId",{get:function(){return this.fishId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FishInfo",{get:function(){return this.fishInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsAlive",{get:function(){return this.isAlive},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){this.SetupColliders()},t.prototype.HandleOnSpawned=function(e){-1!=this.fishDisposalTimeoutTracker&&clearTimeout(this.fishDisposalTimeoutTracker),this.fishId=e.FishId,this.fishInfo=e,this.isAlive=!0,this.SetColliderActivate(!0),this.OnFishSpawned()},t.prototype.HandleOnDeath=function(e){this.isAlive=!1,this.SetColliderActivate(!1),this.OnFishDeath(),this.RequestDisposeFish()},t.prototype.HandleOnTimeOut=function(){this.isAlive=!1,this.SetColliderActivate(!1)},t.prototype.TriggerCustomEvent=function(e){this.OnTriggerCustomEvent(e)},t.prototype.RegisterDisposeAction=function(e){this.disposeAction=e},t.prototype.RequestDisposeFish=function(){var e=this;-1!=this.fishDisposalTimeoutTracker&&clearTimeout(this.fishDisposalTimeoutTracker),this.fishDisposalTimeoutTracker=setTimeout(function(){e.ExecuteDisposeFish(),e.fishDisposalTimeoutTracker=-1},1e3*this.preDisposeDuration)},t.prototype.ExecuteDisposeFish=function(){void 0!=this.disposeAction&&this.disposeAction(this),this.OnFishCleanUp()},t.prototype.RegisterColliderClickedCallback=function(e){this.colliderClickedCallback=e},t.prototype.SetupColliders=function(){this.colliders=this.getComponentsInChildren(i.default);for(var e=0;e<this.colliders.length;e++)this.colliders[e].Setup(this,this.OnFishCollided,this.HandleOnFishColliderClicked)},t.prototype.SetColliderActivate=function(e){for(var t=0;t<this.colliders.length;t++)this.colliders[t].SetColliderActivation(e)},t.prototype.OnFishSpawned=function(){},t.prototype.OnFishHitted=function(e){},t.prototype.OnFishDeath=function(){},t.prototype.OnFishCleanUp=function(){},t.prototype.OnTriggerCustomEvent=function(e){},__decorate([a],t.prototype,"fishType",void 0),__decorate([a],t.prototype,"preDisposeDuration",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FishCollider":"FishCollider"}],BaseMenuController:[function(e,t,o){"use strict";cc._RF.push(t,"2817dEqKitHVp9WvmMYwHri","BaseMenuController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Audio/AudioController"),n=e("../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioController=void 0,t.audioMuteFlag=!1,t}return __extends(t,e),t.prototype.OnSetup=function(){},t.prototype.Setup=function(){void 0!==this.audioController&&null!==this.audioController?(this.OnSetup(),this.audioMuteFlag=!1,this.audioController.SetMute(this.audioMuteFlag)):n.default.Instance.Error(this,"audioController is missing!")},Object.defineProperty(t.prototype,"AudioController",{get:function(){return this.audioController},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioMuteFlag",{get:function(){return this.audioMuteFlag},enumerable:!0,configurable:!0}),t.prototype.SetMute=function(e){this.audioMuteFlag=e,this.audioController.SetMute(e)},__decorate([s(i.default)],t.prototype,"audioController",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../Audio/AudioController":"AudioController","../Core/FishLogManager":"FishLogManager"}],BaseMuzzle:[function(e,t,o){"use strict";cc._RF.push(t,"8c2ceF81cBCzaW5A5XM/fCm","BaseMuzzle"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposeAction=void 0,t}return __extends(t,e),t.prototype.Setup=function(e){this.disposeAction=e,this.OnSetup()},t.prototype.HandleSpawned=function(){this.OnSpawned()},t.prototype.OnSetup=function(){},t.prototype.OnSpawned=function(){},t.prototype.DisposeMuzzle=function(){void 0!==this.disposeAction&&this.disposeAction(this.node)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BasePayoutObject:[function(e,t,o){"use strict";cc._RF.push(t,"9fdc2pj839Axaf7waQsQ4Ft","BasePayoutObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Execute=function(e){this.OnExecute(e)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseRouteApplier:[function(e,t,o){"use strict";cc._RF.push(t,"dfb69IxiYxMRpASez6M6ErY","BaseRouteApplier"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentRouteData=null,t.routing=!1,t.routedDuration=0,t.speed=1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.update=function(e){if(this.routing&&null!=this.currentRouteData&&null!=this.currentRouteData.bindedLogic)if(this.routedDuration>=this.currentRouteData.GetTotalDuration())this.routing=!1;else{var t=this.currentRouteData.GetApplyData(this.routedDuration/this.currentRouteData.GetTotalDuration());this.node.position=t.Position,this.routedDuration+=e*this.speed}},t.prototype.HandleInit=function(){},t.prototype.ExecutePath=function(e){this.currentRouteData=e,this.routing=!0,this.routedDuration=0},t.prototype.StopExecution=function(){this.routing=!1},t.prototype.SetExecutionSpeed=function(e){this.speed=e},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseSeatWinIndicatorNode:[function(e,t,o){"use strict";cc._RF.push(t,"ac9a8ko4IBHk6cuUswDdfbv","BaseSeatWinIndicatorNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleSpawnIndicator=function(e,t){this.OnSpawnIndicator(e,t)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],BaseSpecialFishPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"4f61f/p9b9AjbqAg8OZHwfc","BaseSpecialFishPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetFishTypes=[101,102],t}return __extends(t,e),Object.defineProperty(t.prototype,"TargetFishTypes",{get:function(){return this.targetFishTypes},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){this.OnSetup()},t.prototype.OnSetup=function(){},t.prototype.OnSpawn=function(e){},t.prototype.OnDeath=function(e){},t.prototype.HandleOnSpawn=function(e){this.OnSpawn(e)},t.prototype.HandleOnDeath=function(e){this.OnDeath(e)},__decorate([r(Number)],t.prototype,"targetFishTypes",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BaseSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"50a2cnME+pK8Yqmw2zo1WjA","BaseSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/Event"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spawnedFishes=[],t.activateFishAction=void 0,t.HandleOnFishDeath=function(e){if(null!=t.spawnedFishes){for(var o=e.detail.TargetFish,i=null,n=t.spawnedFishes.length-1;n>=0;n--)if(t.spawnedFishes[n].FishId==o.FishId){i=o;break}null!==i&&t.OnGeneratedFishDeath(i)}},t.HandleOnFishDisposed=function(e){for(var o=e.detail,n=null,r=t.spawnedFishes.length-1;r>=0;r--)if(t.spawnedFishes[r].FishId==o.FishId){n=o,t.spawnedFishes.splice(r,1);break}null!==n&&(t.OnGeneratedFishDisposed(n),0===t.spawnedFishes.length&&(removeEventListener(i.FishEvent.Fish_Disposed,t.HandleOnFishDisposed),t.disposedCallback&&t.disposedCallback(),t.node.destroy()))},t}return __extends(t,e),t.prototype.OnSetup=function(){},t.prototype.OnGeneratedFishDisposed=function(e){},t.prototype.OnGeneratedFishDeath=function(e){},t.prototype.Setup=function(e){this.disposedCallback=e,this.OnSetup()},t.prototype.HandleGeneratedFishes=function(e,t,o,n){this.spawnedFishes=e,this.activateFishAction=n,addEventListener(i.FishEvent.Fish_Death,this.HandleOnFishDeath),addEventListener(i.FishEvent.Fish_Disposed,this.HandleOnFishDisposed),this.OnHandleGeneratedFishes(e,t)},t.prototype.HandleTimeOut=function(){this.OnTimeOut()},t.prototype.AcivateFish=function(e){return this.activateFishAction(e)},t=__decorate([r],t)}(cc.Component));o.default=a,cc._RF.pop()},{"../../Core/Event":"Event"}],BaseWeapon:[function(e,t,o){"use strict";cc._RF.push(t,"91dc0Q8Bc1FGZ3pOaVDPzkr","BaseWeapon"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Core/FishLogManager"),n=e("../../../Core/Event"),r=cc._decorator,a=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponType=0,t.isSelected=!1,t.isLocalPlayer=!1,t.fireWeaponRequestAction=void 0,t.hitRequestAction=void 0,t.SendHitRequest=function(e){void 0!==t.hitRequestAction&&t.hitRequestAction(e)},t.directionNode=void 0,t}return __extends(t,e),Object.defineProperty(t.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSelected",{get:function(){return this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsLocalPlayer",{get:function(){return this.isLocalPlayer},enumerable:!0,configurable:!0}),t.prototype.OnBetAmountUpdated=function(e,t){},t.prototype.OnCleanUpWeapon=function(){},t.prototype.Setup=function(e){this.weaponType=e,this.OnSetup()},t.prototype.SetIsLocalPlayer=function(e){this.isLocalPlayer=e},t.prototype.RegisterFireWeaponRequestAction=function(e){this.fireWeaponRequestAction=e},t.prototype.RegisterSendHitRequestAction=function(e){this.hitRequestAction=e},t.prototype.HandleFireWeaponRequest=function(e){this.OnExecuteFireWeapon(e),dispatchEvent(new CustomEvent(n.FishEvent.Weapon_Fired,new n.FishEventInit(e)))},t.prototype.SendFireWeaponRequest=function(e){void 0!==this.fireWeaponRequestAction&&this.fireWeaponRequestAction(this.weaponType,e)},t.prototype.RegisterDirectionNode=function(e){this.directionNode=e},t.prototype.GetDirection=function(){return void 0==this.directionNode?(i.default.Instance.Error(this,"Trying to get direction withoput direction node assign!"),0):this.directionNode.angle},t.prototype.GetDirectionNode=function(){return void 0==this.directionNode?(i.default.Instance.Error(this,"Trying to get direction node withoput direction node assign!"),null):this.directionNode},t.prototype.SetDirection=function(e){if(void 0==this.directionNode)return i.default.Instance.Error(this,"Trying to set direction withoput direction node assign!"),null;this.directionNode.angle=e},t.prototype.HandleBetAmountUpdated=function(e,t){this.OnBetAmountUpdated(e,t)},t.prototype.SetSelected=function(){this.OnSelected()},t.prototype.SetUnSelected=function(){this.OnUnSelected()},t.prototype.StartFireWeapon=function(e){this.OnStartFireWeapon(e)},t.prototype.FiringWeapon=function(e){this.OnFiringWeapon(e)},t.prototype.StopFireWeapon=function(){this.OnStopFireWeapon()},t.prototype.CleanUpWeapon=function(){this.OnCleanUpWeapon()},t=__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../../../Core/Event":"Event","../../../Core/FishLogManager":"FishLogManager"}],BezierCurveDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"c90cf4Gb/JBNZ02vmyDL/Rr","BezierCurveDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(){function e(){this.totalDuration=1,this.pointHolder=void 0}return __decorate([a(Number)],e.prototype,"totalDuration",void 0),__decorate([a(cc.Node)],e.prototype,"pointHolder",void 0),e=__decorate([r("BezierCruveSceneRouteData")],e)}();o.BezierCruveSceneRouteData=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneRouteData=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.sceneRouteData.length;t++)e.push(new i.CapturedRouteData(t,this.sceneRouteData[t].totalDuration,this.sceneRouteData[t].pointHolder.children));return e},__decorate([a(s)],t.prototype,"sceneRouteData",void 0),t=__decorate([r],t)}(i.default);o.default=c,cc._RF.pop()},{"./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],BulletWallCollider:[function(e,t,o){"use strict";cc._RF.push(t,"c6c630XcU1NQqfOC0+6oLm7","BulletWallCollider"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass,a=n.property;(function(e){e[e.None=0]="None",e[e.Box_TopBtm=1]="Box_TopBtm",e[e.Box_LeftRight=2]="Box_LeftRight"})(i=o.BulletWallColliderType||(o.BulletWallColliderType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colliderType=i.None,t}return __extends(t,e),Object.defineProperty(t.prototype,"ColliderType",{get:function(){return this.colliderType},enumerable:!0,configurable:!0}),__decorate([a({type:cc.Enum(i)})],t.prototype,"colliderType",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ChildNodeAnimationSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"f542c6oXItPcpQYA6CEulnT","ChildNodeAnimationSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseSpecialGroupExecutor"),n=e("../../Core/FishLogManager"),r=e("../../Misc/PositionDrivenDirectionUpdater"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.clipName="",t.fishHoldersHolder=void 0,t.disableDirectionUpdater=!1,t}return __extends(t,e),t.prototype.OnSetup=function(){void 0==this.fishHoldersHolder&&n.default.Instance.Error(this,"fishHoldersHolder is missing!");for(var e=0;e<this.fishHoldersHolder.childrenCount;e++)this.fishHoldersHolder.children[e].active=!1;void 0==this.animation&&n.default.Instance.Error(this,"animation is missing!")},t.prototype.OnHandleGeneratedFishes=function(e,t){if(e.length>this.fishHoldersHolder.children.length)n.default.Instance.Error(this,"fishHolders not enought! expected to have: "+e.length+", only have: "+this.fishHoldersHolder.children.length);else{for(var o=0;o<e.length;o++){var i=this.AcivateFish(e[o].FishId);if(i.node.setParent(this.fishHoldersHolder.children[o]),i.node.position=cc.Vec3.ZERO,i.node.angle=0,this.disableDirectionUpdater){var a=i.getComponent(r.default);null!=a&&(a.enabled=!1)}}""!=this.clipName?this.animation.play(this.clipName):this.animation.play()}},t.prototype.OnGeneratedFishDisposed=function(e){if(this.disableDirectionUpdater){var t=e.getComponent(r.default);null!=t&&(t.enabled=!0)}},t.prototype.OnTimeOut=function(){},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(cc.Animation)],t.prototype,"animation",void 0),__decorate([c()],t.prototype,"clipName",void 0),__decorate([c(cc.Node)],t.prototype,"fishHoldersHolder",void 0),__decorate([c()],t.prototype,"disableDirectionUpdater",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","./BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],ChildNodeFormationRouteSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"32588g2dqRMIK/SWuQH1PiC","ChildNodeFormationRouteSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseSpecialGroupExecutor"),n=e("../../Core/FishLogManager"),r=e("../../Route/RouteManager"),a=e("../../Route/RouteData/RouteData"),s=e("../../Route/Applier/BaseRouteApplier"),c=e("../FishManager"),l=e("../../Misc/PositionDrivenDirectionUpdater"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unparentFishOnDeath=!0,t.routeApplier=void 0,t.fishHolders=[],t.disableDirectionUpdater=!1,t}return __extends(t,e),t.prototype.OnHandleGeneratedFishes=function(e,t){if(this.routeApplier.node.setPosition(new cc.Vec2(0,2e3)),e.length>this.fishHolders.length)n.default.Instance.Error(this,"fishHolders not enought! expected to have: "+e.length+", only have: "+this.fishHolders.length);else{for(var o=0;o<e.length;o++){var i=this.AcivateFish(e[o].FishId);if(i.node.setParent(this.fishHolders[o]),i.node.position=cc.Vec3.ZERO,i.node.angle=0,this.disableDirectionUpdater){var a=i.getComponent(l.default);null!=a&&(a.enabled=!1)}}r.RouteManager.Instance.ExecuteApplier(this.ConvertToRouteExecuteData(this.routeApplier,new c.FishActivateRouteData(t.PathData,t.AliveDuration)))}},t.prototype.OnGeneratedFishDeath=function(e){if(this.unparentFishOnDeath){var t=e.node.parent.convertToWorldSpaceAR(e.node.position),o=this.routeApplier.node.angle;e.node.setParent(this.routeApplier.node.parent),e.node.angle=o,e.node.position=this.routeApplier.node.parent.convertToNodeSpaceAR(t)}},t.prototype.OnGeneratedFishDisposed=function(e){if(this.disableDirectionUpdater){var t=e.getComponent(l.default);null!=t&&(t.enabled=!0)}},t.prototype.OnTimeOut=function(){},t.prototype.ConvertToRouteExecuteData=function(e,t){var o=t.RawData[0],i=a.RouteMethod.None;if("L"===o?i=a.RouteMethod.Linear:"C"===o?i=a.RouteMethod.BezierCurve:"P"===o&&(i=a.RouteMethod.FixPoint),i!==a.RouteMethod.None){if(i===a.RouteMethod.FixPoint||i===a.RouteMethod.BezierCurve){var r=t.RawData.split("_"),s=[];if(r.length>2)for(var c=2;c<r.length;c++)s.push(r[c]);return new a.ApplierExecuteData(e,new a.RouteMethodExecuteData(i,parseInt(r[1]),t.OverrideDuration,s))}if(i===a.RouteMethod.Linear){var l=t.RawData.substr(1,t.RawData.length-1);return new a.ApplierExecuteData(e,new a.RouteMethodExecuteData(i,parseInt(l),t.OverrideDuration))}return null}n.default.Instance.Error(this,"failed to get route method from rawString!")},__decorate([d()],t.prototype,"unparentFishOnDeath",void 0),__decorate([d(s.default)],t.prototype,"routeApplier",void 0),__decorate([d(cc.Node)],t.prototype,"fishHolders",void 0),__decorate([d()],t.prototype,"disableDirectionUpdater",void 0),t=__decorate([p],t)}(i.default);o.default=h,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","../../Route/Applier/BaseRouteApplier":"BaseRouteApplier","../../Route/RouteData/RouteData":"RouteData","../../Route/RouteManager":"RouteManager","../FishManager":"FishManager","./BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],ChildNodeRoutineActiveSpecialGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"8bf267f+MBFPaDTjQq3cixF","ChildNodeRoutineActiveSpecialGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseSpecialGroupExecutor"),n=e("../../Core/FishLogManager"),r=e("../../Misc/PositionDrivenDirectionUpdater"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.intervalsList=[],t.activateCountList=[],t.fishHoldersHolder=void 0,t.disableDirectionUpdater=!1,t.timeOutFlag=!1,t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.fishHoldersHolder.childrenCount;e++)this.fishHoldersHolder.children[e].active=!1},t.prototype.OnHandleGeneratedFishes=function(e,t){if(e.length>this.fishHoldersHolder.children.length)n.default.Instance.Error(this,"fishHolders not enought! expected to have: "+e.length+", only have: "+this.fishHoldersHolder.children.length);else{for(var o=0;o<e.length;o++){var i=this.AcivateFish(e[o].FishId);if(i.node.setParent(this.fishHoldersHolder.children[o]),i.node.position=cc.Vec3.ZERO,i.node.angle=0,this.disableDirectionUpdater){var a=i.getComponent(r.default);null!=a&&(a.enabled=!1)}}this.FireGenerateFishEvent(e)}},t.prototype.OnGeneratedFishDisposed=function(e){if(this.disableDirectionUpdater){var t=e.getComponent(r.default);null!=t&&(t.enabled=!0)}},t.prototype.OnGeneratedFishDeath=function(e){var t=e.node.parent.convertToWorldSpaceAR(e.node.position),o=e.node.parent.angle;e.node.setParent(this.node),e.node.angle=o,e.node.position=this.node.convertToNodeSpaceAR(t)},t.prototype.OnTimeOut=function(){this.timeOutFlag=!0},t.prototype.FireGenerateFishEvent=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n;return __generator(this,function(r){switch(r.label){case 0:t=0,o=0,i=0,r.label=1;case 1:if(!(t<e.length))return[3,3];for(n=0;n<this.activateCountList[i];n++)this.fishHoldersHolder.children[t].active=!0,t++;return[4,this.WaitForSecs(this.intervalsList[o])];case 2:return r.sent(),this.timeOutFlag?[2]:(++o>=this.intervalsList.length&&(o=0),++i>=this.activateCountList.length&&(i=0),[3,1]);case 3:return[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(Number)],t.prototype,"intervalsList",void 0),__decorate([c(Number)],t.prototype,"activateCountList",void 0),__decorate([c(cc.Node)],t.prototype,"fishHoldersHolder",void 0),__decorate([c()],t.prototype,"disableDirectionUpdater",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","./BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],ClickField:[function(e,t,o){"use strict";cc._RF.push(t,"f35f4ZmIbpGyIy/ZCUC5YS0","ClickField"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=e("../Core/GameStageController"),r=cc._decorator,a=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPressedCallback=void 0,t.onPressingCallback=void 0,t.onReleaseCallback=void 0,t.worldOffset=cc.Vec2.ZERO,t.isDownHolding=!1,t}return __extends(t,e),t.prototype.Setup=function(){i.default.Instance.Log(this,"Setup Started"),this.node.on(cc.Node.EventType.MOUSE_DOWN,this.OnPressed,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMoving,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.OnRelease,this),this.worldOffset=n.default.Instance.StageData.GameWorldOffset,i.default.Instance.Log(this,"Setting world offset to "+this.worldOffset)},t.prototype.RegisterOnPressed=function(e){this.onPressedCallback=e},t.prototype.RegisterOnClickPressing=function(e){this.onPressingCallback=e},t.prototype.RegisterOnRelease=function(e){this.onReleaseCallback=e},t.prototype.OnPressed=function(e){this.isDownHolding=!0,this.FirePressedCallback(this.CalculateGameWorldLocation(e.getLocation()))},t.prototype.OnMouseMoving=function(e){this.isDownHolding&&this.FirePressingCallback(this.CalculateGameWorldLocation(e.getLocation()))},t.prototype.OnRelease=function(e){this.isDownHolding=!1,this.FireReleaseCallback()},t.prototype.CalculateGameWorldLocation=function(e){return e.sub(this.worldOffset)},t.prototype.FirePressedCallback=function(e){void 0!==this.onPressedCallback&&this.onPressedCallback(e)},t.prototype.FirePressingCallback=function(e){void 0!==this.onPressingCallback&&this.onPressingCallback(e)},t.prototype.FireReleaseCallback=function(){void 0!==this.onReleaseCallback&&this.onReleaseCallback()},t=__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","../Core/GameStageController":"GameStageController"}],CollectCoinController:[function(e,t,o){"use strict";cc._RF.push(t,"89d78FvNjhAybb9ja7P9xcb","CollectCoinController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Utils/CommonDataHelper"),n=e("../../Core/Event"),r=e("./BaseCollectCoinSpawner"),a=e("./BaseCollectCoinObject"),s=e("../../Core/FishLogManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinPools=[],t.spawnerPool=void 0,t.involvedFishTypes=[1,2,3,4,5,6,7,8,9,10],t.localPlayerId=-1,t.coinPoolDictionary=void 0,t.HandleOnFishDeath=function(e){if(void 0!==t.seatNodeAcquireAction){var o=e.detail;if(t.IsInvolvedFishType(o.TargetFish.FishType)){var i=t.seatNodeAcquireAction(o.StatusInfo.PlayerId);if(null!==i&&void 0!==i){var n=t.spawnerPool.AcquireNode().getComponent(r.default);n.node.setParent(t.node);var a=o.TargetFish,s=a.node.parent.convertToWorldSpaceAR(a.node.position);n.node.setPosition(t.node.convertToNodeSpaceAR(s)),n.HandleSpawnCoins(o,i,t.DisposeSpawner,t.AcquireCoinObject,t.DisposeCoinObject)}}}},t.DisposeSpawner=function(e){t.spawnerPool.DisposeNode(e.node)},t.AcquireCoinObject=function(e){var o=t.coinPoolDictionary[e];if(void 0!==o)return o.AcquireNode().getComponent(a.default)},t.DisposeCoinObject=function(e){t.coinPoolDictionary[e.CoinType].DisposeNode(e.node)},t}return __extends(t,e),t.prototype.Setup=function(){this.coinPoolDictionary={};for(var e=0;e<this.coinPools.length;e++){if(null===this.coinPools[e].Nodesample.getComponent(a.default))return void s.default.Instance.Error(this,"coinPools are exepected to have object of BaseCollectCoinObject!");this.coinPools[e].Setup(),this.coinPoolDictionary[this.coinPools[e].Nodesample.getComponent(a.default).CoinType]=this.coinPools[e]}null!==this.spawnerPool.Nodesample.getComponent(r.default)?(this.spawnerPool.Setup(),addEventListener(n.FishEvent.Fish_Death,this.HandleOnFishDeath)):s.default.Instance.Error(this,"spawner pool are exepected to have object of BaseCollectCoinSpawner!")},t.prototype.RegisterSeatNodeAcquireAction=function(e){this.seatNodeAcquireAction=e},t.prototype.SetLocalPlayerId=function(e){this.localPlayerId=e},t.prototype.IsInvolvedFishType=function(e){for(var t=0;t<this.involvedFishTypes.length;t++)if(this.involvedFishTypes[t]===e)return!0;return!1},__decorate([u(i.CommonNodePoolHandler)],t.prototype,"coinPools",void 0),__decorate([u(i.CommonNodePoolHandler)],t.prototype,"spawnerPool",void 0),__decorate([u(Number)],t.prototype,"involvedFishTypes",void 0),t=__decorate([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Core/Event":"Event","../../Core/FishLogManager":"FishLogManager","../../Utils/CommonDataHelper":"CommonDataHelper","./BaseCollectCoinObject":"BaseCollectCoinObject","./BaseCollectCoinSpawner":"BaseCollectCoinSpawner"}],CommonDataHelper:[function(e,t,o){"use strict";cc._RF.push(t,"d69ebFcM85MYbiBQAu6lm6j","CommonDataHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property;function a(e,t,o){if(e.length>=t)return e;for(var i=t-e.length,n="",r=0;r<i;r++)n+="0";return o?e+n:n+e}o.ConstructLocalShootId=function(){var e=new Date;return e.getFullYear().toString()+a((e.getMonth()+1).toString(),2)+a(e.getDate().toString(),2)+a(e.getHours().toString(),2)+a(e.getMinutes().toString(),2)+a(e.getSeconds().toString(),2)+a(e.getMilliseconds().toString(),5,!0)},o.EnforceMinimumZeroFormat=a,o.CalculateRelativePos=function(e,t){return t.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position))};var s=function(){function e(){this.key="",this.spriteFrame=null}return Object.defineProperty(e.prototype,"Key",{get:function(){return this.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpriteFrame",{get:function(){return this.spriteFrame},enumerable:!0,configurable:!0}),__decorate([r()],e.prototype,"key",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),e=__decorate([n("SpriteFrameReference")],e)}();o.SpriteFrameReference=s;var c=function(){function e(){this.nodeSample=void 0,this.baseCount=5,this.autoDisposeDuration=0,this.pool=void 0}return Object.defineProperty(e.prototype,"Nodesample",{get:function(){return this.nodeSample},enumerable:!0,configurable:!0}),e.prototype.Setup=function(){void 0===this.nodeSample&&console.error("Missing node sample!"),this.pool=new cc.NodePool,this.PopulatePool(this.baseCount),this.nodeSample.active=!1},e.prototype.AcquireNode=function(){var e=this;this.pool.size()<=0&&this.pool.put(this.InstantiateNode());var t=this.pool.get();return 0!==this.autoDisposeDuration&&setTimeout(function(){e.DisposeNode(t)},1e3*this.autoDisposeDuration),0==t.active&&(t.active=!0),t},e.prototype.DisposeNode=function(e){this.pool.put(e)},e.prototype.PopulatePool=function(e){for(var t=0;t<e;t++){var o=this.InstantiateNode();this.pool.put(o)}},e.prototype.InstantiateNode=function(){return cc.instantiate(this.nodeSample)},__decorate([r(cc.Node)],e.prototype,"nodeSample",void 0),__decorate([r()],e.prototype,"baseCount",void 0),__decorate([r()],e.prototype,"autoDisposeDuration",void 0),e=__decorate([n("CommonNodePoolHandler")],e)}();o.CommonNodePoolHandler=c,cc._RF.pop()},{}],CommonExplosion:[function(e,t,o){"use strict";cc._RF.push(t,"8bab5n3xPBBXqMhyVZuoAEI","CommonExplosion"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseExplosion"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.spawnAnimationKey="Explode",t.aliveTime=2,t}return __extends(t,e),t.prototype.OnSpawned=function(){var e=this;this.animation.play(this.spawnAnimationKey),setTimeout(function(){e.DisposeExplosion()},1e3*this.aliveTime)},__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a],t.prototype,"spawnAnimationKey",void 0),__decorate([a],t.prototype,"aliveTime",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./BaseExplosion":"BaseExplosion"}],CommonFish:[function(e,t,o){"use strict";cc._RF.push(t,"8acb9spmSJP/qw28xd8rmZm","CommonFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseFish"),n=e("../Misc/PositionDrivenDirectionUpdater"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(){function e(){this.onSpawned=[]}return e.prototype.TriggerOnSpawned=function(){this.EmitEvent(this.onSpawned)},e.prototype.EmitEvent=function(e){for(var t=0;t<e.length;t++)e[t].emit([e[t].customEventData])},__decorate([s(cc.Component.EventHandler)],e.prototype,"onSpawned",void 0),e=__decorate([a("CommonFishEventTriggerHandler")],e)}();o.CommonFishEventTriggerHandler=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eventTriggerHandler=new c,t.animation=null,t.idleAnimationKey="Idle",t.deathAnimationKey="Death",t.skeleton=null,t.idleSkeletonKey="Idle",t.deathSkeletonKey="Death",t}return __extends(t,e),t.prototype.PlayAnimation=function(e){this.animation&&""!=e&&this.animation.play(e)},t.prototype.PlaySkeleton=function(e,t){this.skeleton&&""!=e&&this.skeleton.setAnimation(0,e,t)},t.prototype.OnFishSpawned=function(){null!=this.getComponent(n.default)&&(this.getComponent(n.default).enabled=!0),this.PlayAnimation(this.idleAnimationKey),this.PlaySkeleton(this.idleSkeletonKey,!0),this.eventTriggerHandler.TriggerOnSpawned()},t.prototype.OnFishDeath=function(){null!=this.getComponent(n.default)&&(this.getComponent(n.default).enabled=!1),this.PlayAnimation(this.deathAnimationKey),this.PlaySkeleton(this.deathSkeletonKey,!1)},__decorate([s(c)],t.prototype,"eventTriggerHandler",void 0),__decorate([s(cc.Animation)],t.prototype,"animation",void 0),__decorate([s({visible:function(){return null!==this.animation}})],t.prototype,"idleAnimationKey",void 0),__decorate([s({visible:function(){return null!==this.animation}})],t.prototype,"deathAnimationKey",void 0),__decorate([s(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([s({visible:function(){return null!==this.skeleton}})],t.prototype,"idleSkeletonKey",void 0),__decorate([s({visible:function(){return null!==this.skeleton}})],t.prototype,"deathSkeletonKey",void 0),t=__decorate([a],t)}(i.default);o.default=l,cc._RF.pop()},{"../Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater","./BaseFish":"BaseFish"}],CommonGroupSpawnHandler:[function(e,t,o){"use strict";cc._RF.push(t,"c1458a9BKhOEbamFtZU6su3","CommonGroupSpawnHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishGroupSpawnHandler"),n=e("./FishManager"),r=e("../Core/FishLogManager"),a=e("./SpecialGroup/BaseSpecialGroupExecutor"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(){function e(){this.groupId=0,this.executorSample=void 0}return Object.defineProperty(e.prototype,"GroupId",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExecutorSample",{get:function(){return this.executorSample},enumerable:!0,configurable:!0}),__decorate([l()],e.prototype,"groupId",void 0),__decorate([l(a.default)],e.prototype,"executorSample",void 0),e=__decorate([c("CommonGroupSpawnSpecialGroupProperties")],e)}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeoutFlag=!1,t.specialGroupExecutorSamples=[],t.specialGroupHolder=void 0,t.spawnedSpecialGroupExecutors=[],t}return __extends(t,e),t.prototype.OnSetup=function(){this.SetupSpecialGroup()},t.prototype.ExecuteHandleSpawnedFish=function(e,t,o){if(o.SpawnExecuteData.isSpecialGroup)this.HandleSpecialGroupSpawn(e,t,o);else{var i=o.SpawnExecuteData.spawnMethod;"OneOff"===i?this.SpawnOneOff(e,t,o):"OneByOne"===i&&this.SpawnOneByOne(e,t,o)}},t.prototype.OnTimeOutSetted=function(e){this.timeoutFlag=e,e&&this.NotifyAllSpawnedSpecialGroupTimeOut()},t.prototype.SpawnOneOff=function(t,o,i){for(var n=0;n<t.length;n++)e.prototype.ActivateFish.call(this,t[n].FishId,this.ConstructRouteData(o,i))},t.prototype.SpawnOneByOne=function(t,o,i){return __awaiter(this,void 0,Promise,function(){var n;return __generator(this,function(r){switch(r.label){case 0:n=0,r.label=1;case 1:return n<t.length?(e.prototype.ActivateFish.call(this,t[n].FishId,this.ConstructRouteData(o,i)),[4,this.WaitForSecs(i.SpawnExecuteData.spawnInterval)]):[3,4];case 2:if(r.sent(),this.timeoutFlag)return[2];r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},t.prototype.ConstructRouteData=function(e,t){return new n.FishActivateRouteData(e.PathData,t.SpawnExecuteData.userServerAliveTime?e.AliveDuration:0)},t.prototype.SetupSpecialGroup=function(){void 0===this.specialGroupHolder&&r.default.Instance.Error(this,"specialGroupHolder is missing!");for(var e=0;e<this.specialGroupExecutorSamples.length;e++)this.specialGroupExecutorSamples[e].ExecutorSample.node.active=!1;this.spawnedSpecialGroupExecutors=[]},t.prototype.HandleSpecialGroupSpawn=function(t,o,i){var n=this;this.GenerateSpecialGroupExecutor(o.GroupId).HandleGeneratedFishes(t,o,i,function(t,o){return e.prototype.ActivateFish.call(n,t,o)})},t.prototype.GenerateSpecialGroupExecutor=function(e){var t=this,o=this.GetSpecialGroupSample(e);if(null===o)return r.default.Instance.Error(this,"failed to get special group sample for id: "+e),null;var i=cc.instantiate(o).getComponent(a.default);return i.node.setParent(this.specialGroupHolder),i.node.active||(i.node.active=!0),this.spawnedSpecialGroupExecutors.push(i),i.Setup(function(){t.RemoveSpawnedSpecialGroupExecutor(i)}),i},t.prototype.NotifyAllSpawnedSpecialGroupTimeOut=function(){for(var e=0;e<this.spawnedSpecialGroupExecutors.length;e++)this.spawnedSpecialGroupExecutors[e].HandleTimeOut()},t.prototype.GetSpecialGroupSample=function(e){for(var t=0;t<this.specialGroupExecutorSamples.length;t++)if(this.specialGroupExecutorSamples[t].GroupId==e)return this.specialGroupExecutorSamples[t].ExecutorSample.node;return null},t.prototype.RemoveSpawnedSpecialGroupExecutor=function(e){for(var t=0;t<this.spawnedSpecialGroupExecutors.length;t++)if(this.spawnedSpecialGroupExecutors[t]===e){this.spawnedSpecialGroupExecutors.splice(t,1);break}},__decorate([l(u)],t.prototype,"specialGroupExecutorSamples",void 0),__decorate([l(cc.Node)],t.prototype,"specialGroupHolder",void 0),t=__decorate([c],t)}(i.default);o.default=p,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","./FishGroupSpawnHandler":"FishGroupSpawnHandler","./FishManager":"FishManager","./SpecialGroup/BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],CommonGun:[function(e,t,o){"use strict";cc._RF.push(t,"9c3e1RSydpLT4VhefLmX8ox","CommonGun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../BaseWeapon"),n=e("./Bullet/BaseBullet"),r=e("../../../../Core/GameStageController"),a=e("./Muzzle/BaseMuzzle"),s=e("./Explosion/BaseExplosion"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(){function e(){this.onFire=[],this.onSelected=[],this.onUnSelected=[]}return e.prototype.TriggerFire=function(){this.EmitEvent(this.onFire)},e.prototype.TriggerSelected=function(){this.EmitEvent(this.onSelected)},e.prototype.TriggerUnSelected=function(){this.EmitEvent(this.onUnSelected)},e.prototype.EmitEvent=function(e){for(var t=0;t<e.length;t++)e[t].emit([e[t].customEventData])},__decorate([u(cc.Component.EventHandler)],e.prototype,"onFire",void 0),__decorate([u(cc.Component.EventHandler)],e.prototype,"onSelected",void 0),__decorate([u(cc.Component.EventHandler)],e.prototype,"onUnSelected",void 0),e=__decorate([l("CommonGunEventTrigger")],e)}(),d=function(){function e(){var e=this;this.bulletSample=void 0,this.basePoolCount=20,this.bulletHolder=void 0,this.pool=void 0,this.DisposeBullet=function(t){e.pool.put(t);var o=e.spawnedBullets.indexOf(t.getComponent(n.BaseBullet));o>=0&&e.spawnedBullets.splice(o,1)}}return Object.defineProperty(e.prototype,"SpawnedBullets",{get:function(){return this.spawnedBullets},enumerable:!0,configurable:!0}),e.prototype.Setup=function(e){this.launcherNodes=e,this.pool=new cc.NodePool;for(var t=0;t<this.basePoolCount;t++)this.pool.put(this.InstantiateBullet().node);this.bulletSample.node.active=!1,this.spawnedBullets=[]},e.prototype.FireBullet=function(e,t,o,i,a){var s;void 0===i&&(i=-1),void 0===a&&(a=0),this.pool.size()>0?s=this.pool.get().getComponent(n.BaseBullet):(s=this.InstantiateBullet().getComponent(n.BaseBullet),this.pool.put(s.node),s=this.pool.get().getComponent(n.BaseBullet)),s.node.parent=this.bulletHolder,s.node.active||(s.node.active=!0),s.Fire(r.default.Instance.CalculatePositionInGameStage(this.launcherNodes[a]),e,t,o,i),this.spawnedBullets.push(s)},e.prototype.DisposeAllBullets=function(){if(void 0!=this.spawnedBullets){for(var e=0;e<this.spawnedBullets.length;e++)this.pool.put(this.spawnedBullets[e].node);this.spawnedBullets=[]}},e.prototype.InstantiateBullet=function(){var e=cc.instantiate(this.bulletSample.node).getComponent(n.BaseBullet);return e.Setup(),e.RegisterDisposeAction(this.DisposeBullet),e},__decorate([u(n.BaseBullet)],e.prototype,"bulletSample",void 0),__decorate([u()],e.prototype,"basePoolCount",void 0),__decorate([u(cc.Node)],e.prototype,"bulletHolder",void 0),e=__decorate([l("CommonGunBulletHandler")],e)}();o.CommonGunBulletHandler=d;var h=function(){function e(){var e=this;this.muzzleSample=void 0,this.basePoolCount=20,this.originNode=void 0,this.muzzleHolder=void 0,this.pool=void 0,this.DisposeMuzzle=function(t){e.pool.put(t)}}return e.prototype.Setup=function(){this.pool=new cc.NodePool;for(var e=0;e<this.basePoolCount;e++)this.pool.put(this.InstantiateMuzzle().node);this.muzzleSample.node.active=!1},e.prototype.SpawnMuzzle=function(e){var t;this.pool.size()>0?t=this.pool.get().getComponent(a.default):(t=this.InstantiateMuzzle().getComponent(a.default),this.pool.put(t.node),t=this.pool.get().getComponent(a.default));var o=this.originNode.parent.convertToWorldSpaceAR(this.originNode.position);t.node.parent=this.muzzleHolder,void 0!==this.muzzleHolder?t.node.setPosition(this.muzzleHolder.convertToNodeSpaceAR(o)):t.node.setPosition(o),t.node.active||(t.node.active=!0),t.HandleSpawned()},e.prototype.InstantiateMuzzle=function(){var e=cc.instantiate(this.muzzleSample.node).getComponent(a.default);return e.Setup(this.DisposeMuzzle),e},__decorate([u(a.default)],e.prototype,"muzzleSample",void 0),__decorate([u()],e.prototype,"basePoolCount",void 0),__decorate([u(cc.Node)],e.prototype,"originNode",void 0),__decorate([u(cc.Node)],e.prototype,"muzzleHolder",void 0),e=__decorate([l("CommonGunMuzzleHandler")],e)}(),f=function(){function e(){var e=this;this.explosionSample=void 0,this.basePoolCount=20,this.explosionHolder=void 0,this.pool=void 0,this.DisposeExplosion=function(t){e.pool.put(t)}}return e.prototype.Setup=function(){this.pool=new cc.NodePool;for(var e=0;e<this.basePoolCount;e++)this.pool.put(this.InstantiateExplosion().node);this.explosionSample.node.active=!1},e.prototype.SpawnExplosion=function(e){var t;this.pool.size()>0?t=this.pool.get().getComponent(s.default):(t=this.InstantiateExplosion().getComponent(s.default),this.pool.put(t.node),t=this.pool.get().getComponent(s.default));var o=e.parent.convertToWorldSpaceAR(e.position);t.node.parent=this.explosionHolder,void 0!==this.explosionHolder?t.node.setPosition(this.explosionHolder.convertToNodeSpaceAR(o)):t.node.setPosition(o),t.node.active||(t.node.active=!0),t.HandleSpawned()},e.prototype.InstantiateExplosion=function(){var e=cc.instantiate(this.explosionSample.node).getComponent(s.default);return e.Setup(this.DisposeExplosion),e},__decorate([u(s.default)],e.prototype,"explosionSample",void 0),__decorate([u()],e.prototype,"basePoolCount",void 0),__decorate([u(cc.Node)],e.prototype,"explosionHolder",void 0),e=__decorate([l("CommonGunBulletExplosionHandler")],e)}();o.CommonGunBulletExplosionHandler=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eventTrigger=void 0,t.launcherNodes=[],t.fireInterval=.3,t.isFiring=!1,t.gunPostShootedDuration=0,t.spawnBullet=!1,t.bulletHandler=void 0,t.spawnMuzzle=!1,t.muzzlehandler=void 0,t.spawnExplosion=!1,t.gunExplosionHandler=void 0,t.lockedFishCollider=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"LauncherNodes",{get:function(){return this.launcherNodes},enumerable:!0,configurable:!0}),t.prototype.OnSetup=function(){this.SetupBullet(),this.SetupMuzzle(),this.SetupGunExplosion()},t.prototype.OnSelected=function(){this.eventTrigger.TriggerSelected()},t.prototype.OnUnSelected=function(){this.isFiring=!1,this.eventTrigger.TriggerUnSelected()},t.prototype.OnStartFireWeapon=function(e){this.isFiring=!0},t.prototype.OnFiringWeapon=function(e){},t.prototype.OnStopFireWeapon=function(){this.isFiring=!1},t.prototype.OnExecuteFireWeapon=function(e){this.SpawnBullet(e),this.eventTrigger.TriggerFire(),this.HandleSpawnMuzzle(e.WeaponAngle)},t.prototype.OnCleanUpWeapon=function(){this.bulletHandler.DisposeAllBullets()},t.prototype.SetupBullet=function(){this.spawnBullet&&this.bulletHandler.Setup(this.launcherNodes)},t.prototype.GetAllSpawnedBullets=function(){return this.bulletHandler.SpawnedBullets},t.prototype.SpawnBullet=function(e){var t=this;this.spawnBullet&&this.bulletHandler.FireBullet(this.GetDirection(),e,function(e,o){t.SendHitRequest(e),t.HandleSpawnExplosion(o)},void 0!=e.ExtraParameter&&void 0!=e.ExtraParameter.targetFishId?e.ExtraParameter.targetFishId:-1)},t.prototype.SetupMuzzle=function(){this.spawnMuzzle&&this.muzzlehandler.Setup()},t.prototype.HandleSpawnMuzzle=function(e){this.spawnMuzzle&&this.muzzlehandler.SpawnMuzzle(e)},t.prototype.SetupGunExplosion=function(){this.spawnExplosion&&this.gunExplosionHandler.Setup()},t.prototype.HandleSpawnExplosion=function(e){this.spawnExplosion&&this.gunExplosionHandler.SpawnExplosion(e)},t.prototype.update=function(e){this.gunPostShootedDuration+=e,null!=this.lockedFishCollider?this.gunPostShootedDuration>=this.fireInterval&&(this.FaceLockedFish(),this.AttemptShootRequest(this.lockedFishCollider.BindedFish.FishId)):this.isFiring&&this.gunPostShootedDuration>=this.fireInterval&&this.AttemptShootRequest()},t.prototype.AttemptShootRequest=function(e){this.SendGunFireWeaponRequest(e),this.gunPostShootedDuration=0},t.prototype.SendGunFireWeaponRequest=function(e,t){if(void 0!=e||void 0!=t){var o={};void 0!=e&&(o=__assign({targetFishId:e})),void 0!=t&&(o=__assign({},t)),this.SendFireWeaponRequest(o)}else this.SendFireWeaponRequest()},t.prototype.LockFish=function(e){this.lockedFishCollider=e},t.prototype.CancelLockFish=function(){this.lockedFishCollider=null},t.prototype.FaceLockedFish=function(){if(null!=this.lockedFishCollider){var e=this.GetDirectionNode(),t=this.lockedFishCollider.node.parent.convertToWorldSpaceAR(this.lockedFishCollider.node.position),o=e.parent.convertToNodeSpaceAR(t).sub(e.position).normalize(),i=180*Math.atan2(o.y,o.x)/Math.PI-90;this.SetDirection(i)}},__decorate([u(p)],t.prototype,"eventTrigger",void 0),__decorate([u(cc.Node)],t.prototype,"launcherNodes",void 0),__decorate([u()],t.prototype,"fireInterval",void 0),__decorate([u],t.prototype,"spawnBullet",void 0),__decorate([u({type:d,visible:function(){return this.spawnBullet}})],t.prototype,"bulletHandler",void 0),__decorate([u],t.prototype,"spawnMuzzle",void 0),__decorate([u({type:h,visible:function(){return this.spawnMuzzle}})],t.prototype,"muzzlehandler",void 0),__decorate([u],t.prototype,"spawnExplosion",void 0),__decorate([u({type:f,visible:function(){return this.spawnExplosion}})],t.prototype,"gunExplosionHandler",void 0),t=__decorate([l],t)}(i.default);o.CommonGun=y,cc._RF.pop()},{"../../../../Core/GameStageController":"GameStageController","../BaseWeapon":"BaseWeapon","./Bullet/BaseBullet":"BaseBullet","./Explosion/BaseExplosion":"BaseExplosion","./Muzzle/BaseMuzzle":"BaseMuzzle"}],CommonMuzzle:[function(e,t,o){"use strict";cc._RF.push(t,"3d0c5scLgZJf6keRvRtpVTO","CommonMuzzle"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseMuzzle"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.aliveTime=2,t}return __extends(t,e),__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a],t.prototype,"aliveTime",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./BaseMuzzle":"BaseMuzzle"}],CommonPayoutObject:[function(e,t,o){"use strict";cc._RF.push(t,"f6d6dI/dPdOa5cq4baUrruo","CommonPayoutObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BasePayoutObject"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winAmountLabel=void 0,t.animation=void 0,t.executeAnimationKey="Payout",t}return __extends(t,e),t.prototype.OnExecute=function(e){this.SetWinAmountText(e.PayoutAmount.toString()),this.animation&&this.animation.play(this.executeAnimationKey)},t.prototype.SetWinAmountText=function(e){this.winAmountLabel&&(this.winAmountLabel.string=e)},__decorate([a(cc.Label)],t.prototype,"winAmountLabel",void 0),__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a],t.prototype,"executeAnimationKey",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"./BasePayoutObject":"BasePayoutObject"}],Configuration:[function(e,t,o){"use strict";cc._RF.push(t,"6b9aav8gtJBrLKxD9qygrk1","Configuration"),window.gameConfiguration={fishGroupConfig:[{groupId:1,spawnExecuteData:{spawnMethod:"OneOff",userServerAliveTime:!0}},{groupId:2,spawnExecuteData:{isSpecialGroup:!0}},{groupId:3,spawnExecuteData:{isSpecialGroup:!0}},{groupId:4,spawnExecuteData:{isSpecialGroup:!0}},{groupId:5,spawnExecuteData:{spawnMethod:"OneByOne",spawnInterval:.7}},{groupId:6,spawnExecuteData:{spawnMethod:"OneByOne",spawnInterval:1}},{groupId:7,spawnExecuteData:{isSpecialGroup:!0}},{groupId:8,spawnExecuteData:{isSpecialGroup:!0}},{groupId:9,spawnExecuteData:{isSpecialGroup:!0}}]},cc._RF.pop()},{}],CustomLogicDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"84e91Z4ftFFRalUx53PqGyh","CustomLogicDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../RouteData/RouteLogic/RouteBaseCustomExecuteLogic"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.customLogics=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.customLogics.length;t++)e.push(new i.CapturedRouteData(t,this.customLogics[t].customDuration,this.customLogics[t]));return e},__decorate([s(n.default)],t.prototype,"customLogics",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../RouteData/RouteLogic/RouteBaseCustomExecuteLogic":"RouteBaseCustomExecuteLogic","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],DataManager:[function(e,t,o){(function(i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}cc._RF.push(t,"0f183q0p3JHdYwt1pVWFgpE","DataManager");var s=e("Socket"),c=function(){function e(){n(this,e),this.listener=null,this.loginUrl="",this.reconnecting=!1}return a(e,[{key:"registerListener",value:function(e){this.listener=e}},{key:"onCheckVersionSuccess",value:function(e,t,o,i,n,r){this.listener.onCheckVersionSuccess(e,t,o,i,n,r)}},{key:"onLoginSuccess",value:function(){this.listener.onLoginSuccess()}},{key:"onConnectWsSuccess",value:function(){}},{key:"onVerifySuccess",value:function(){}},{key:"onCheckVersionFail",value:function(){}},{key:"onLoginFail",value:function(e){}},{key:"onConnectWsFail",value:function(){}},{key:"onVerifyFail",value:function(){}},{key:"onDisconnect",value:function(e,t){}},{key:"onReceiveMsg",value:function(e){this.listener.onReceiveMsg(e)}},{key:"receiveVersionData",value:function(e){console.log("receiveVersionData "+e);var t=JSON.parse(e);"0"==t[0]?(this.loginUrl=t[2],this.onCheckVersionSuccess(t[0],t[1],t[2],null,null,t[3])):"1"==t[0]&&this.onCheckVersionSuccess(t[0],null,null,t[1],t[2],null)}},{key:"tryReconnect",value:function(e,t){this.reconnecting||e!=this.Socket.WsError.TIME_OUT?(this.reconnecting=!1,this.onDisconnect(e,t)):(this.reconnecting=!0,s.initToken())}},{key:"sendSocketData",value:function(e,t,o,i,n){var r=new l;r.id=e,r.actionId=t,r.param1=o,r.param2=i,r.param3=n;var a=JSON.stringify(r);s.sendData(a)}},{key:"sendSocketData2",value:function(e,t,o,i,n,r){var a=new l;a.id=e,a.actionId=t,a.param1=o,a.param2=i,a.param3=n,a.param4=r;var c=JSON.stringify(a);s.sendData(c)}},{key:"sendSocketRequestData",value:function(e,t,o,i,n){var r=new l;r.id=e,r.actionId=t;var a="";if(null!=o&&o.length>0){a+="[";for(var c=0;c<o.length;c++)a=a+o[c]+",";a=a.substring(0,a.length-1),a+="]"}r.param1=a;var u="";if(null!=i&&i.length>0){u+="[";for(var p=0;p<i.length;p++)u=u+i[p]+",";u=u.substring(0,u.length-1),u+="]"}r.param2=u;var d="";if(null!=n&&n.length>0){d+="[";for(var h=0;h<n.length;h++)d=d+n[h]+",";d=d.substring(0,d.length-1),d+="]"}r.param3=d;var f=JSON.stringify(r);s.sendData(f)}},{key:"checkVersion",value:function(e){console.log("checkVersion"),s.checkVersion(e,this)}},{key:"requestLogin",value:function(e,t,o,i,n,r){s.loginToServer(e,t,i,o,n,r)}},{key:"requestLogout",value:function(){s.manualResetWs()}},{key:"loginToToken",value:function(e,t,o){s.loginToToken(e,t,o,this)}},{key:"onReceivePing",value:function(){}}]),e}(),l=function e(){n(this,e),this.param1="",this.param2="",this.param3="",this.id="",this.actionId=""},u=function(){};u.client=function(){return void 0===this.instance&&(this.instance=new c),this.instance},void 0!==o&&(o.DataManager=u.client()),"undefined"!=typeof window?window.DataManager=u.client():void 0!==i&&(i.DataManager=u.client()),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{Socket:"Socket"}],Event:[function(e,t,o){"use strict";cc._RF.push(t,"72a26BdrWFFdZWn3kJWPphE","Event"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e.Fish_Activated="Fish-Activated",e.Fish_Death="Fish-Death",e.Fish_Disposed="Fish-Disposed",e.Fish_Clicked="Fish-Clicked",e.Fish_Collider_EnterGameStage="Fish-Collider-EnterGameStage",e.Fish_Collider_ExitGameStage="Fish-Collider-ExitGameStage",e.Weapon_Fired="Weapon-Fired"}(o.FishEvent||(o.FishEvent={}));var i=function(){return function(e){this.detail=e}}();o.FishEventInit=i;var n=function(){function e(e,t,o){this.targetFish=void 0,this.fishStatus=void 0,this.statusInfo=void 0,this.targetFish=e,this.fishStatus=t,this.statusInfo=o}return Object.defineProperty(e.prototype,"TargetFish",{get:function(){return this.targetFish},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishStatus",{get:function(){return this.fishStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StatusInfo",{get:function(){return this.statusInfo},enumerable:!0,configurable:!0}),e}();o.FishDeathEventData=n,cc._RF.pop()},{}],FishCollider:[function(e,t,o){"use strict";cc._RF.push(t,"066f7iakhlImpkzt3sA/oBu","FishCollider"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=(n.property,n.requireComponent),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collider=void 0,t.bindedFish=void 0,t.onCollisionEnterCallback=void 0,t.onClickedCallback=void 0,t.OnColliderClicked=function(){t.onClickedCallback&&t.onClickedCallback(t)},t}return __extends(t,e),Object.defineProperty(t.prototype,"Collider",{get:function(){return this.collider},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BindedFish",{get:function(){return this.bindedFish},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e,t,o){this.bindedFish=e,this.onCollisionEnterCallback=t,this.onClickedCallback=o,this.collider=this.node.getComponent(cc.Collider),null==this.collider&&i.default.Instance.Error(this,"collider is missing!")},t.prototype.onCollisionEnter=function(e,t){this.onCollisionEnterCallback&&this.onCollisionEnterCallback(e)},t.prototype.update=function(e){},t.prototype.SetColliderActivation=function(e){this.collider.enabled=e,e?this.node.on(cc.Node.EventType.MOUSE_DOWN,this.OnColliderClicked):this.node.off(cc.Node.EventType.MOUSE_DOWN,this.OnColliderClicked)},t=__decorate([r,a(cc.Collider)],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager"}],FishGroupSpawnHandler:[function(e,t,o){"use strict";cc._RF.push(t,"579a8Xr85hBaqExv/CvHOSY","FishGroupSpawnHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activateFishAction=void 0,t}return __extends(t,e),t.prototype.Setup=function(){this.OnSetup()},t.prototype.SetupActions=function(e){this.activateFishAction=e},t.prototype.OnSetup=function(){},t.prototype.HandleSpawnedFish=function(e,t,o){this.ExecuteHandleSpawnedFish(e,t,o)},t.prototype.HandleTimeOutSetted=function(e){this.OnTimeOutSetted(e)},t.prototype.ActivateFish=function(e,t){return void 0===this.activateFishAction?(i.default.Instance.Error(this,"called spawn fish when activateFishAction havent setup!"),null):this.activateFishAction(e,t)},t=__decorate([r],t)}(cc.Component));o.default=a,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager"}],FishLogManager:[function(e,t,o){"use strict";cc._RF.push(t,"cda45TVdHNAr4IVrKOxKyfE","FishLogManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.Setup=function(){if(void 0===e.Instance){var t=new e;e.Instance=t}else console.error("Trying to init log twice!")},e.prototype.Log=function(e,t){console.log(this.ConstructLogString(e,t))},e.prototype.Warn=function(e,t){console.warn(this.ConstructLogString(e,t))},e.prototype.Error=function(e,t){console.error(this.ConstructLogString(e,t))},e.prototype.ConstructLogString=function(e,t){return"Component: "+e.name+" | Message: "+t},e}();o.default=i,cc._RF.pop()},{}],FishManager:[function(e,t,o){"use strict";cc._RF.push(t,"e7989hvHZlIu5ydV1eXG9+M","FishManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Core/FishLogManager"),n=e("./FishGroupSpawnHandler"),r=e("./BaseFish"),a=e("../Route/RouteData/RouteData"),s=e("../Route/Applier/BaseRouteApplier"),c=e("../Route/RouteManager"),l=e("../Core/Event"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentGameTime=0,t.groupConfig=void 0,t.pendingGenerateFishGroupDatas=[],t.groupSpawnHandler=void 0,t.inactiveFishHodler=void 0,t.activatedFishHolder=void 0,t.inactiveFishes=void 0,t.activatedFishes=void 0,t.ActivateFish=function(e,o){for(var n=void 0,r=t.inactiveFishes.length-1;r>=0;r--)if(t.inactiveFishes[r].FishId===e){n=t.inactiveFishes[r],t.inactiveFishes.splice(r,1);break}if(void 0===n)return i.default.Instance.Error(t,"trying to activate fish but unable to find in inActiveList!"),null;n.node.setParent(t.activatedFishHolder),n.node.setPosition(new cc.Vec3(9999,9999,0)),t.activatedFishes.push(n);var a=!1;if(o){var u=t.ConvertToMethodExecuteData(o);if(null!=u){null==n.node.getComponent(s.default)&&n.node.addComponent(s.default);var p=n.node.getComponent(s.default);c.RouteManager.Instance.ExecuteApplier(t.ConvertToRouteExecuteData(p,u)),a=!0}}return a||(null!=n.node.getComponent(s.default)&&n.node.removeComponent(s.default),n.node.setPosition(new cc.Vec3(0,0,0))),dispatchEvent(new CustomEvent(l.FishEvent.Fish_Activated,new l.FishEventInit(n))),n},t.timeoutFastFowardSpeed=5,t.fishSampleHolder=void 0,t.fishBasePoolingCount=30,t.fishPools=void 0,t}return __extends(t,e),t.prototype.Setup=function(){this.ReadConfig(),this.SetupFishPooling(),this.SetupGroupSpawnHandler()},t.prototype.update=function(e){this.HandleFishGroupDataSpawnChecking(this.currentGameTime),this.currentGameTime+=e},t.prototype.ReadConfig=function(){this.groupConfig=[];for(var e=window.gameConfiguration.fishGroupConfig,t=0;t<e.length;t++)this.groupConfig.push(new f(e[t]))},t.prototype.GetConfigData=function(e){for(var t=0;t<this.groupConfig.length;t++)if(this.groupConfig[t].GroupId==e)return this.groupConfig[t];return i.default.Instance.Error(this,"Trying to get unexisted GroupConfigData with id "+e),null},t.prototype.SetupTime=function(e,t){this.currentGameTime=t-e},t.prototype.ApplyFishGroupDataToPending=function(e){this.pendingGenerateFishGroupDatas=this.pendingGenerateFishGroupDatas.concat(e)},t.prototype.ResetAndApplyFishGroupData=function(e,t){this.pendingGenerateFishGroupDatas=t,this.HandleFishGroupDataSpawnChecking(e)},t.prototype.HandleFishGroupDataSpawnChecking=function(e){for(var t=this.pendingGenerateFishGroupDatas.length-1;t>=0;t--)e>=this.pendingGenerateFishGroupDatas[t].SpawnTime&&(this.HandleSpawnFishGroup(this.pendingGenerateFishGroupDatas[t]),this.pendingGenerateFishGroupDatas.splice(t,1))},t.prototype.SetupGroupSpawnHandler=function(){void 0!==this.groupSpawnHandler?void 0!==this.inactiveFishHodler&&void 0!==this.activatedFishHolder?(this.inactiveFishes=[],this.activatedFishes=[],this.groupSpawnHandler.Setup(),this.groupSpawnHandler.SetupActions(this.ActivateFish)):i.default.Instance.Error(this,"inactiveFishHodler is missing!"):i.default.Instance.Error(this,"groupSpawnHandler is missing!")},t.prototype.HandleSpawnFishGroup=function(e){var t=this.GetConfigData(e.GroupId);if(null!==t){for(var o=[],n=0;n<e.FishInfos.length;n++){var r=e.FishInfos[n],a=this.SpawnFish(r.FishType);null!==a?(a.HandleOnSpawned(r),a.node.setParent(this.inactiveFishHodler),a.node.position=cc.Vec3.ZERO,o.push(a),this.inactiveFishes.push(a)):i.default.Instance.Error(this,"Getting null from SpawnFish!")}this.groupSpawnHandler.HandleSpawnedFish(o,e,t)}else i.default.Instance.Error(this,"gotted null for fishGroupConfig")},t.prototype.GetAcivatedFish=function(e){for(var t=0;t<this.activatedFishes.length;t++)if(this.activatedFishes[t].FishId===e)return this.activatedFishes[t];return null},t.prototype.RemoveActivatedFish=function(e){for(var t=this.activatedFishes.length-1;t>=0;t--)this.activatedFishes[t].FishId===e&&this.activatedFishes.splice(t,1)},t.prototype.GetInactiveFish=function(e){for(var t=0;t<this.inactiveFishes.length;t++)if(this.inactiveFishes[t].FishId===e)return this.inactiveFishes[t];return null},t.prototype.RemoveInactiveFish=function(e){for(var t=this.inactiveFishes.length-1;t>=0;t--)this.inactiveFishes[t].FishId===e&&this.inactiveFishes.splice(t,1)},t.prototype.UpdateFishStatus=function(e){for(var t=e.FishStatusInfo,o=0;o<t.length;o++)t[o].IsAlive||this.HandleFishDeath(t[o],e)},t.prototype.SetTimeOutStarted=function(){c.RouteManager.Instance.SetExecutionSpeed(this.timeoutFastFowardSpeed),this.groupSpawnHandler.HandleTimeOutSetted(!0);for(var e=0;e<this.activatedFishes.length;e++)this.activatedFishes[e].HandleOnTimeOut();for(e=0;e<this.inactiveFishes.length;e++)this.GetFishPool(this.inactiveFishes[e].FishType).DisposeFish(this.inactiveFishes[e]);this.inactiveFishes=[],this.pendingGenerateFishGroupDatas=[]},t.prototype.SetTimeOutCompleted=function(){c.RouteManager.Instance.SetExecutionSpeed(1),this.groupSpawnHandler.HandleTimeOutSetted(!1);for(var e=0;e<this.activatedFishes.length;e++)this.GetFishPool(this.activatedFishes[e].FishType).DisposeFish(this.activatedFishes[e]);this.activatedFishes=[]},t.prototype.HandleFishDeath=function(e,t){var o=null;null!==(o=this.GetAcivatedFish(e.FishId))?this.RemoveActivatedFish(e.FishId):null!==(o=this.GetInactiveFish(e.FishId))&&this.RemoveInactiveFish(e.FishId),null!==o&&(null!=o.node.getComponent(s.default)&&c.RouteManager.Instance.StopApplierExecution(o.node.getComponent(s.default)),o.HandleOnDeath(e),dispatchEvent(new CustomEvent(l.FishEvent.Fish_Death,new l.FishEventInit(new l.FishDeathEventData(o,e,t)))))},t.prototype.SetupFishPooling=function(){if(void 0!==this.fishSampleHolder){var e=this.fishSampleHolder.getComponentsInChildren(r.default);this.fishPools=[];for(var t=0;t<e.length;t++)this.fishPools.push(new y(e[t],this.fishBasePoolingCount)),e[t].node.active=!1}else i.default.Instance.Error(this,"fishSampleHolder is missing!")},t.prototype.GetFishPool=function(e){for(var t=0;t<this.fishPools.length;t++)if(this.fishPools[t].FishType==e)return this.fishPools[t];return i.default.Instance.Error(this,"trying to get fish pool that not exisisted! type: "+e),null},t.prototype.SpawnFish=function(e){var t=this.GetFishPool(e);if(null===t)return i.default.Instance.Error(this,"unable to get fish pool!"),null;var o=t.GetFishNode();return o.active||(o.active=!0),o.getComponent(r.default)},t.prototype.ConvertToMethodExecuteData=function(e){var t=e.RawData[0],o=a.RouteMethod.None;if((o="L"===t?a.RouteMethod.Linear:"C"===t?a.RouteMethod.BezierCurve:"P"===t?a.RouteMethod.FixPoint:"G"===t?a.RouteMethod.Generic:"K"===t?a.RouteMethod.Custom:a.RouteMethod.None)===a.RouteMethod.FixPoint||o===a.RouteMethod.BezierCurve||o===a.RouteMethod.Generic){var i=e.RawData.split("_"),n=[];if(i.length>2)for(var r=2;r<i.length;r++)n.push(i[r]);return new a.RouteMethodExecuteData(o,parseInt(i[1])-1,e.OverrideDuration,n)}if(o===a.RouteMethod.Linear){var s=e.RawData.substr(1,e.RawData.length-1);return new a.RouteMethodExecuteData(o,parseInt(s),e.OverrideDuration)}return null},t.prototype.ConvertToRouteExecuteData=function(e,t){return new a.ApplierExecuteData(e,t)},__decorate([d(n.default)],t.prototype,"groupSpawnHandler",void 0),__decorate([d(cc.Node)],t.prototype,"inactiveFishHodler",void 0),__decorate([d(cc.Node)],t.prototype,"activatedFishHolder",void 0),__decorate([d()],t.prototype,"timeoutFastFowardSpeed",void 0),__decorate([d(cc.Node)],t.prototype,"fishSampleHolder",void 0),__decorate([d],t.prototype,"fishBasePoolingCount",void 0),t=__decorate([p],t)}(cc.Component);o.default=h;var f=function(){function e(e){this.groupId=0,this.spawnExecuteData=void 0,this.groupId=e.groupId,this.spawnExecuteData=e.spawnExecuteData}return Object.defineProperty(e.prototype,"GroupId",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpawnExecuteData",{get:function(){return this.spawnExecuteData},enumerable:!0,configurable:!0}),e}();o.FishGroupConfigData=f;var y=function(){function e(e,t){var o=this;this.fishRef=void 0,this.pool=void 0,this.DisposeFish=function(e){e.node.active=!1,o.pool.put(e.node),dispatchEvent(new CustomEvent(l.FishEvent.Fish_Disposed,new l.FishEventInit(e)))},this.FireFishColliderClickEvent=function(e){dispatchEvent(new CustomEvent(l.FishEvent.Fish_Clicked,new l.FishEventInit(e)))},this.fishRef=e,this.pool=new cc.NodePool;for(var i=0;i<t;i++)this.GenerateNewNode()}return Object.defineProperty(e.prototype,"FishType",{get:function(){return this.fishRef.FishType},enumerable:!0,configurable:!0}),e.prototype.GetFishNode=function(){return this.pool.size()<=0&&this.GenerateNewNode(),this.pool.get()},e.prototype.GenerateNewNode=function(){var e=cc.instantiate(this.fishRef.node),t=e.getComponent(r.default);t.Setup(),t.RegisterDisposeAction(this.DisposeFish),t.RegisterColliderClickedCallback(this.FireFishColliderClickEvent),this.pool.put(e)},e}(),g=function(){function e(e,t){this.rawData=void 0,this.overrideDuration=0,this.rawData=e,this.overrideDuration=t}return Object.defineProperty(e.prototype,"RawData",{get:function(){return this.rawData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OverrideDuration",{get:function(){return this.overrideDuration},enumerable:!0,configurable:!0}),e}();o.FishActivateRouteData=g,cc._RF.pop()},{"../Core/Event":"Event","../Core/FishLogManager":"FishLogManager","../Route/Applier/BaseRouteApplier":"BaseRouteApplier","../Route/RouteData/RouteData":"RouteData","../Route/RouteManager":"RouteManager","./BaseFish":"BaseFish","./FishGroupSpawnHandler":"FishGroupSpawnHandler"}],FishWarAwakeningDragonFish:[function(e,t,o){"use strict";cc._RF.push(t,"aabacFJTpxJX6pCUfGGDhnj","FishWarAwakeningDragonFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.animationTracker=0,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.node.opacity=255,this.animationTracker=0,this.OnAnimationPlayFinished()},t.prototype.OnFishDeath=function(){var e=this;this.animation.pause(),setTimeout(function(){cc.tween(e.node).to(1,{opacity:0}).start()},1e3)},t.prototype.OnFishCleanUp=function(){},t.prototype.OnAnimationPlayFinished=function(){0==this.animationTracker?(this.node.scaleX=1,this.node.scaleY=-1,this.animation.play("Swim_UpDown")):1==this.animationTracker?(this.node.scaleX=1,this.node.scaleY=1,this.animation.play("Swim_LeftRight")):2==this.animationTracker?(this.node.scaleX=-1,this.node.scaleY=1,this.animation.play("Swim_LeftRight")):3==this.animationTracker&&(this.node.scaleX=1,this.node.scaleY=1,this.animation.play("Swim_UpDown")),this.animationTracker++,this.animationTracker>=4&&(this.animationTracker=0)},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarAwakeningDragonPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"a1987eZhsZG7aBWqX2evBWl","FishWarAwakeningDragonPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.bgNode=void 0,t.dragonNodes=[],t.hitCountNode=void 0,t.explosionNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleCoverSkeleton=void 0,t.titleLabel=void 0,t.bgSkeleton=void 0,t.dragonNodeAnimations=[],t.hitCountAnimation=void 0,t.hitCountLabel=void 0,t.hitCountLabelEffect=void 0,t.hitCountCoverSkeleton=void 0,t.explosionSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleCoverSkeleton=cc.find("Title/Cover",this.titleNode).getComponent(sp.Skeleton),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.bgSkeleton=this.bgNode.getComponent(sp.Skeleton);for(var e=0;e<this.dragonNodes.length;e++)this.dragonNodeAnimations.push(this.dragonNodes[e].getComponent(cc.Animation));this.hitCountAnimation=this.hitCountNode.getComponent(cc.Animation),this.hitCountLabel=cc.find("Label",this.hitCountNode).getComponent(cc.Label),this.hitCountLabelEffect=cc.find("Label/FadeEffect",this.hitCountNode).getComponent(cc.Label),this.hitCountCoverSkeleton=cc.find("CoverEffect",this.hitCountNode).getComponent(sp.Skeleton),this.explosionSkeleton=this.explosionNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleLabel.node.active=!1,this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.bgNode.active=!1;for(var e=0;e<this.dragonNodes.length;e++)this.dragonNodes[e].active=!1;this.hitCountNode.active=!1,this.explosionNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation()},t.prototype.OnDeath=function(e){console.warn(e.FishStatus),101!=e.TargetFish.FishType&&this.DeathPresentation(e)},t.prototype.EnterPresentation=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"dragon_wait",!1),[4,this.WaitForSecs(.5)];case 1:return e.sent(),this.titleSkeleton.setAnimation(0,"dragon_enter",!1),this.bgNode.active=!0,[4,this.WaitForSecs(1)];case 2:return e.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 3:return e.sent(),this.titleNode.active=!1,[2,!0]}})})},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r,a,s;return __generator(this,function(c){switch(c.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,o=3,i=0,t&&(this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"AwakeningDragon"),this.cameraShaker.StartShake(1)),[4,this.WaitForSecs(2)];case 1:return c.sent(),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"dragon_enter2",!1),this.titleCoverSkeleton.setAnimation(0,"dragon_enter2",!1),this.bgSkeleton.setAnimation(0,"enter",!1),[4,this.WaitForSecs(1.5)];case 2:return c.sent(),n=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),r=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/AwakeningDragon",n.node),a=this.node.convertToNodeSpaceAR(r.parent.convertToWorldSpaceAR(r.position)),cc.tween(this.titleNode).to(.5,{scale:.5}).start(),cc.tween(this.titleNode).to(.5,{position:a}).start(),[4,this.WaitForSecs(.5)];case 3:c.sent(),this.titleSkeleton.setSkin("dragon_2"),this.titleLabel.node.active=!0,this.hitCountNode.active=!0,this.explosionNode.active=!0,i++,this.hitCountLabel.string=i.toString(),this.hitCountLabelEffect.string=i.toString(),this.ExecuteSingleExplosion(t),s=1,c.label=4;case 4:return s<o?[4,this.WaitForSecs(4)]:[3,7];case 5:c.sent(),i++,this.hitCountLabel.string=i.toString(),this.hitCountLabelEffect.string=i.toString(),this.ExecuteSingleExplosion(t),c.label=6;case 6:return s++,[3,4];case 7:return[4,this.WaitForSecs(4)];case 8:return c.sent(),this.hitCountAnimation.play("Presentation_HitCount_Out"),this.hitCountCoverSkeleton.setAnimation(0,"nunmber_wait",!1),[4,this.WaitForSecs(.5)];case 9:return c.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO}).start()),this.titleSkeleton.setAnimation(0,"dragon_enter2",!1),this.titleCoverSkeleton.setAnimation(0,"dragon_enter2",!1),[4,this.WaitForSecs(2)];case 10:return c.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 11:return c.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"AwakeningDragon"),this.Reset(),[2,!0]}})})},t.prototype.ExecuteSingleExplosion=function(e){for(var t=this,o=0;o<this.dragonNodes.length;o++)this.dragonNodes[o].active=!0,this.dragonNodeAnimations[o].play();this.hitCountAnimation.play("Presentation_HitCount_Increase"),setTimeout(function(){t.explosionSkeleton.setAnimation(0,"wait",!1),e&&t.cameraShaker.StartShake(1)},300)},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([c(n.default)],t.prototype,"seatController",void 0),__decorate([c(cc.Node)],t.prototype,"titleNode",void 0),__decorate([c(cc.Node)],t.prototype,"bgNode",void 0),__decorate([c(cc.Node)],t.prototype,"dragonNodes",void 0),__decorate([c(cc.Node)],t.prototype,"hitCountNode",void 0),__decorate([c(cc.Node)],t.prototype,"explosionNode",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],"FishWarAzureStonePresenter ":[function(e,t,o){"use strict";cc._RF.push(t,"a34c9X+xKRJV4Rp1N+EwSet","FishWarAzureStonePresenter "),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.bgNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.bgSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.bgSkeleton=this.bgNode.getComponentInChildren(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.titleLabelNode.active=!1},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i;return __generator(this,function(n){switch(n.label){case 0:return[4,this.WaitForSecs(1)];case 1:return n.sent(),this.cameraShaker.StartShake(.6),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setAnimation(0,"ice_enter",!1),this.bgNode.active=!0,this.bgSkeleton.setAnimation(0,"enter",!1),this.bgSkeleton.addAnimation(0,"wait",!1),[4,this.WaitForSecs(2)];case 2:return n.sent(),t=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),o=cc.find("PlayerInfoPanel/SpecialFish/TitleTravelDestination/AzureStone",t.node),i=this.node.convertToNodeSpaceAR(o.parent.convertToWorldSpaceAR(o.position)),cc.tween(this.titleNode).to(.5,{scale:0},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:i},{easing:"sineIn"}).start(),[4,this.WaitForSecs(8)];case 3:return n.sent(),this.bgSkeleton.setAnimation(0,"leave",!1),[4,this.WaitForSecs(3)];case 4:return n.sent(),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([c(n.default)],t.prototype,"seatController",void 0),__decorate([c(cc.Node)],t.prototype,"titleNode",void 0),__decorate([c(cc.Node)],t.prototype,"bgNode",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarBackgroundController:[function(e,t,o){"use strict";cc._RF.push(t,"48c55tCmGNPaL/AaMSD93sp","FishWarBackgroundController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Background/BaseBackgroundController"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map1Node=void 0,t.map1Sprite=void 0,t.map2Node=void 0,t.map2Sprite=void 0,t.map3Node=void 0,t.map3Skeleton=void 0,t.map4Node=void 0,t.map4Skeleton=void 0,t.map5Node=void 0,t.map5Skeleton=void 0,t.map6Node=void 0,t.map6Sprite=void 0,t.transitionWaveSkeleton=void 0,t.audioController=void 0,t.bgmClips=[],t.transitionWaveAudioClip=void 0,t.doTransition=!1,t.currentMapId=-1,t}return __extends(t,e),t.prototype.OnSetup=function(){this.HideAll()},t.prototype.OnPreChangeRound=function(){this.doTransition=!0},t.prototype.OnChangeRound=function(e){var t=this;this.HideAll(),this.doTransition?1==e?(this.map6Node.active=!0,this.map6Node.opacity=255,this.map6Sprite.fillRange=0,this.map6Sprite.fillRange=1,this.map1Node.active=!0,this.map1Node.opacity=255,this.map1Sprite.fillStart=1,this.map1Sprite.fillRange=1,this.transitionWaveSkeleton.node.active=!0,this.transitionWaveSkeleton.setAnimation(0,"enter",!1),this.audioController.PlayAudioWithClip(this.transitionWaveAudioClip,!1),setTimeout(function(){cc.tween(t.map6Sprite).to(1.25,{fillRange:0}).start(),cc.tween(t.map1Sprite).to(1.25,{fillStart:0}).start()},400),setTimeout(function(){t.map6Node.active=!1},2e3)):2==e?(this.map1Node.active=!0,this.map1Node.opacity=255,this.map1Sprite.fillRange=0,this.map1Sprite.fillRange=1,this.map2Node.active=!0,this.map2Node.opacity=255,this.map2Sprite.fillStart=1,this.map2Sprite.fillRange=1,this.transitionWaveSkeleton.node.active=!0,this.transitionWaveSkeleton.setAnimation(0,"enter",!1),this.audioController.PlayAudioWithClip(this.transitionWaveAudioClip,!1),setTimeout(function(){cc.tween(t.map1Sprite).to(1.25,{fillRange:0}).start(),cc.tween(t.map2Sprite).to(1.25,{fillStart:0}).start()},400),setTimeout(function(){t.map1Node.active=!1},2e3)):3==e?(this.map2Node.active=!0,this.map2Node.opacity=255,this.map2Sprite.fillRange=0,this.map2Sprite.fillRange=1,this.map3Node.active=!0,this.map3Node.opacity=255,this.map3Skeleton.setAnimation(0,"wait",!0),this.transitionWaveSkeleton.node.active=!0,this.transitionWaveSkeleton.setAnimation(0,"enter",!1),this.audioController.PlayAudioWithClip(this.transitionWaveAudioClip,!1),setTimeout(function(){cc.tween(t.map2Sprite).to(1.25,{fillRange:0}).start()},400),setTimeout(function(){t.map2Node.active=!1},2e3)):4==e?(this.map3Node.active=!0,this.map3Node.opacity=255,this.map4Node.active=!0,this.map4Node.opacity=0,this.map4Skeleton.setAnimation(0,"wait",!0),this.map3Skeleton.setAnimation(0,"leave",!1),cc.tween(this.map4Node).to(.8,{opacity:255}).start(),setTimeout(function(){t.map3Node.active=!1},2e3)):5==e?(this.map4Node.active=!0,this.map4Node.opacity=255,this.map5Node.active=!0,this.map5Node.opacity=255,this.map5Skeleton.setAnimation(0,"enter",!1),this.map5Skeleton.setAnimation(1,"wait",!0),setTimeout(function(){t.map4Node.active=!1},2e3)):6==e&&(this.map5Node.active=!0,this.map5Node.opacity=255,this.map5Skeleton.setAnimation(0,"leave",!1),this.map6Node.active=!0,this.map6Node.opacity=255,this.map6Sprite.fillStart=0,this.map6Sprite.fillRange=1,setTimeout(function(){t.map5Node.active=!1},2e3)):1==e?(this.map1Node.active=!0,this.map1Node.opacity=255,this.map1Sprite.fillStart=0,this.map1Sprite.fillRange=1):2==e?(this.map2Node.active=!0,this.map2Node.opacity=255,this.map2Sprite.fillStart=0,this.map2Sprite.fillRange=1):3==e?(this.map3Node.active=!0,this.map3Node.opacity=255,this.map3Skeleton.setAnimation(0,"wait",!0)):4==e?(this.map4Node.active=!0,this.map4Node.opacity=255,this.map4Skeleton.setAnimation(0,"wait",!0)):5==e?(this.map5Node.active=!0,this.map5Node.opacity=255,this.map5Skeleton.setAnimation(0,"wait",!0)):6==e&&(this.map6Node.active=!0,this.map6Node.opacity=255,this.map6Sprite.fillStart=0,this.map6Sprite.fillRange=1),-1!=this.currentMapId&&this.audioController.StopAudioWithClip(this.bgmClips[this.currentMapId-1]),this.audioController.PlayAudioWithClip(this.bgmClips[e-1],!0),this.currentMapId=e,this.doTransition=!1},t.prototype.HideAll=function(){this.map1Node.active=!1,this.map2Node.active=!1,this.map3Node.active=!1,this.map4Node.active=!1,this.map5Node.active=!1,this.map6Node.active=!1,this.transitionWaveSkeleton.node.active=!1},__decorate([s(cc.Node)],t.prototype,"map1Node",void 0),__decorate([s(cc.Sprite)],t.prototype,"map1Sprite",void 0),__decorate([s(cc.Node)],t.prototype,"map2Node",void 0),__decorate([s(cc.Sprite)],t.prototype,"map2Sprite",void 0),__decorate([s(cc.Node)],t.prototype,"map3Node",void 0),__decorate([s(sp.Skeleton)],t.prototype,"map3Skeleton",void 0),__decorate([s(cc.Node)],t.prototype,"map4Node",void 0),__decorate([s(sp.Skeleton)],t.prototype,"map4Skeleton",void 0),__decorate([s(cc.Node)],t.prototype,"map5Node",void 0),__decorate([s(sp.Skeleton)],t.prototype,"map5Skeleton",void 0),__decorate([s(cc.Node)],t.prototype,"map6Node",void 0),__decorate([s(cc.Sprite)],t.prototype,"map6Sprite",void 0),__decorate([s(sp.Skeleton)],t.prototype,"transitionWaveSkeleton",void 0),__decorate([s(n.default)],t.prototype,"audioController",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"bgmClips",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"transitionWaveAudioClip",void 0),t=__decorate([a],t)}(i.BaseBackgroundController);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Background/BaseBackgroundController":"BaseBackgroundController"}],FishWarClickField:[function(e,t,o){"use strict";cc._RF.push(t,"4c453eEVuhPk7GOTBbXKyw1","FishWarClickField"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("../../../FishCore/Scripts/Player/ClickField"),r=e("../../../FishCore/Scripts/Core/Event"),a=e("../../../FishCore/Scripts/Player/Seat/SeatController"),s=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun"),c=e("../../../FishCore/Scripts/Core/GameStageController"),l=cc._decorator,u=l.ccclass,p=l.property;(function(e){e[e.Normal=0]="Normal",e[e.Aim=1]="Aim",e[e.Auto=2]="Auto",e[e.Lightning=3]="Lightning"})(i=o.FishWarClickFieldMode||(o.FishWarClickFieldMode={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.gameStageController=void 0,t.lockFishIndicator=void 0,t.ligthningIndicator=void 0,t.currentMode=i.Normal,t.lockedFishCollider=null,t.targetFishTypes=[],t.HandleOnFishClicked=function(e){t.currentMode==i.Aim&&(t.ExecuteLockFish(e.detail),t.lockFishStartedCallback(e.detail.BindedFish.FishType))},t.HandleOnFishDeath=function(e){t.DismissLockedFishBullet(e.detail.TargetFish.FishId,!1),t.currentMode!=i.Normal&&null!=t.lockedFishCollider&&t.lockedFishCollider.BindedFish.FishId==e.detail.TargetFish.FishId&&(t.currentMode==i.Aim?t.SeekNextLockFish(t.lockedFishCollider.BindedFish.FishType):t.currentMode==i.Auto&&t.SeekNextLockFishInTargetList())},t.HandleOnFishColliderEnter=function(e){if(t.currentMode==i.Auto&&null==t.lockedFishCollider){for(var o=!1,n=0;n<t.targetFishTypes.length;n++)if(t.targetFishTypes[n]==e.detail.BindedFish.FishType){o=!0;break}if(!o)return;t.SeekNextLockFishInTargetList()}},t.HandleOnFishColliderExit=function(e){if(t.currentMode!=i.Normal&&null!=t.lockedFishCollider){var o=t.lockedFishCollider.BindedFish.FishId;e.detail===t.lockedFishCollider&&(t.currentMode==i.Aim?t.SeekNextLockFish(t.lockedFishCollider.BindedFish.FishType):t.currentMode==i.Auto&&t.SeekNextLockFishInTargetList()),null!=t.lockedFishCollider&&t.lockedFishCollider.BindedFish.FishId==o||t.DismissLockedFishBullet(o,!0)}},t}return __extends(t,e),t.prototype.Setup=function(){e.prototype.Setup.call(this),addEventListener(r.FishEvent.Fish_Clicked,this.HandleOnFishClicked),addEventListener(r.FishEvent.Fish_Death,this.HandleOnFishDeath),addEventListener(r.FishEvent.Fish_Collider_EnterGameStage,this.HandleOnFishColliderEnter),addEventListener(r.FishEvent.Fish_Collider_ExitGameStage,this.HandleOnFishColliderExit),this.lockFishIndicator.active=!1,this.ligthningIndicator.active=!1},t.prototype.update=function(e){this.currentMode!=i.Normal&&null!=this.lockedFishCollider&&this.lockFishIndicator.setPosition(this.lockFishIndicator.parent.convertToNodeSpaceAR(this.lockedFishCollider.node.parent.convertToWorldSpaceAR(this.lockedFishCollider.node.position)))},t.prototype.RegisterCallbacks=function(e,t){this.lockFishStartedCallback=e,this.lockFishFinishedCallback=t},t.prototype.SetMode=function(e,t){this.currentMode==i.Aim&&e!=i.Aim?this.CancelLockFish():this.currentMode==i.Auto&&e!=i.Auto&&this.CancelLockFish(),e==i.Auto&&this.currentMode!=i.Auto&&(this.targetFishTypes=t,this.SeekNextLockFishInTargetList()),this.currentMode=e},t.prototype.OnPressed=function(t){this.currentMode==i.Normal?e.prototype.OnPressed.call(this,t):this.currentMode==i.Lightning&&(this.ligthningIndicator.active=!0)},t.prototype.OnMouseMoving=function(t){this.currentMode==i.Normal?e.prototype.OnMouseMoving.call(this,t):this.currentMode==i.Lightning&&this.ligthningIndicator.active&&this.ligthningIndicator.setPosition(this.CalculateGameWorldLocation(t.getLocation()))},t.prototype.OnRelease=function(t){this.currentMode==i.Normal?e.prototype.OnRelease.call(this,t):this.currentMode==i.Lightning&&(this.ligthningIndicator.active=!1)},t.prototype.SeekNextLockFishInTargetList=function(){for(var e=null,t=0;t<this.targetFishTypes.length;t++){var o=this.gameStageController.GetOnStageFishCollider(this.targetFishTypes[t]);if(null!=o){e=o;break}}null!=e?(this.lockedFishCollider=e,this.ExecuteLockFish(this.lockedFishCollider)):this.CancelLockFish()},t.prototype.SeekNextLockFish=function(e){var t=this.gameStageController.GetOnStageFishCollider(e);this.lockedFishCollider=t,null!=this.lockedFishCollider?this.ExecuteLockFish(this.lockedFishCollider):this.CancelLockFish()},t.prototype.ExecuteLockFish=function(e){var t=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetCurrentWeapon().getComponent(s.CommonGun);null!=t&&(this.lockedFishCollider=e,t.LockFish(this.lockedFishCollider),this.lockFishIndicator.active=!0)},t.prototype.CancelLockFish=function(){var e=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetCurrentWeapon().getComponent(s.CommonGun);if(null!=e){if(e.CancelLockFish(),null!=this.lockedFishCollider){var t=this.lockedFishCollider.BindedFish.FishId;this.DismissLockedFishBullet(t,!0)}this.lockedFishCollider=null,this.currentMode==i.Aim&&this.lockFishFinishedCallback&&this.lockFishFinishedCallback(),this.lockFishIndicator.active=!1}},t.prototype.DismissLockedFishBullet=function(e,t){var o=[];if(t)o=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetAllSpawnedBullets();else for(var i=this.seatController.GetAllSeatedSeatNodes(),n=0;n<i.length;n++)o=o.concat(i[n].WeaponHolder.GetAllSpawnedBullets());for(n=0;n<o.length;n++)o[n].TargetFishId==e&&o[n].ResetTargetFishId()},__decorate([p(a.default)],t.prototype,"seatController",void 0),__decorate([p(c.default)],t.prototype,"gameStageController",void 0),__decorate([p(cc.Node)],t.prototype,"lockFishIndicator",void 0),__decorate([p(cc.Node)],t.prototype,"ligthningIndicator",void 0),t=__decorate([u],t)}(n.default);o.default=d,cc._RF.pop()},{"../../../FishCore/Scripts/Core/Event":"Event","../../../FishCore/Scripts/Core/GameStageController":"GameStageController","../../../FishCore/Scripts/Player/ClickField":"ClickField","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun":"CommonGun"}],FishWarCoinSpawner:[function(e,t,o){"use strict";cc._RF.push(t,"6f867t/stdFTrSvrVPH9xys","FishWarCoinSpawner"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/CollectCoin/BaseCollectCoinSpawner"),n=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),r=e("./FishWarPlayerBalanceBarWinAmountJumper"),a=e("../../../FishCore/Scripts/Audio/AudioController"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spawnableRadius=10,t.coinsCountToSpawn=7,t.coinsExpandDuration=.2,t.coinsPreFlyDelay=.5,t.coinsFlyInterval=.1,t.coinsFlyDuration=.4,t}return __extends(t,e),t.prototype.OnSpawnCoins=function(e,t){var o=this,i=t.IsLocalPlayer?1:2,s=cc.find("PlayerInfoPanel/CoinFlyMarker",t.node),c=n.CalculateRelativePos(s,this.node);cc.find("PlayerInfoPanel/WinAmountJump",t.node).getComponent(r.default).ManualTrigger(e.FishStatus.PayoutAmount);for(var l=function(e){var t=u.AcquireCoin(i);t.node.setParent(u.node),t.node.setPosition(cc.Vec2.ZERO),cc.tween(t.node).to(u.coinsExpandDuration,{position:u.RandomWithinCircle()}).to(u.coinsPreFlyDelay+e*u.coinsFlyInterval,{}).to(u.coinsFlyDuration,{position:c}).start(),setTimeout(function(){o.DisposeCoin(t)},1e3*(u.coinsExpandDuration+u.coinsPreFlyDelay+e*u.coinsFlyInterval+u.coinsFlyDuration+.2))},u=this,p=0;p<this.coinsCountToSpawn;p++)l(p);a.default.Instance.PlayAudioWithKey("CoinSpawn",!1)},t.prototype.RandomWithinCircle=function(){var e=Math.random()*Math.PI*2,t=Math.random()*this.spawnableRadius,o=t*Math.cos(e),i=t*Math.sin(e);return new cc.Vec2(o,i)},__decorate([l()],t.prototype,"spawnableRadius",void 0),__decorate([l()],t.prototype,"coinsCountToSpawn",void 0),__decorate([l()],t.prototype,"coinsExpandDuration",void 0),__decorate([l()],t.prototype,"coinsPreFlyDelay",void 0),__decorate([l()],t.prototype,"coinsFlyInterval",void 0),__decorate([l()],t.prototype,"coinsFlyDuration",void 0),t=__decorate([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/CollectCoin/BaseCollectCoinSpawner":"BaseCollectCoinSpawner","../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper","./FishWarPlayerBalanceBarWinAmountJumper":"FishWarPlayerBalanceBarWinAmountJumper"}],FishWarCommonFish:[function(e,t,o){"use strict";cc._RF.push(t,"40fd5ekuLpHG4VM6qq3Arnv","FishWarCommonFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/CommonFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.lightningNode=void 0,t.lightningDisableTracker=-1,t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){e.prototype.OnFishSpawned.call(this),this.node.scale=1,this.SetLightningNodeActive(!1)},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningNode&&(this.lightningNode.opacity=e?255:0)},__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),__decorate([a(cc.Node)],t.prototype,"lightningNode",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/CommonFish":"CommonFish"}],FishWarCommonGun:[function(e,t,o){"use strict";cc._RF.push(t,"766f1feH7NGKbfsgE7P1gLK","FishWarCommonGun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gunSkeleton=void 0,t.doubleMode=!1,t.doubleLauncherFlag=!1,t.gunMode=-1,t.bulletHandlers=[],t.bulletExplosionHandlers=[],t.audioController=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){e.prototype.OnSetup.call(this),this.SetupBulletHandlers(),this.SetupBulletExplosionHandlers()},t.prototype.OnCleanUpWeapon=function(){e.prototype.OnCleanUpWeapon.call(this);for(var t=0;t<this.bulletHandlers.length;t++)this.bulletHandlers[t].DisposeAllBullets()},t.prototype.SetDoubleMode=function(e){this.doubleMode=e,e?(this.doubleLauncherFlag=!1,this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_change_2",!1)):this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_ease_out_3",!1)},t.prototype.OnBetAmountUpdated=function(e,t){var o=this.GetBelongedGunModeIndex(t);o!=this.gunMode&&this.SwitchGunMode(o)},t.prototype.AttemptShootRequest=function(t){e.prototype.AttemptShootRequest.call(this,t),this.doubleMode&&this.SendGunFireWeaponRequest(t)},t.prototype.OnExecuteFireWeapon=function(t){e.prototype.OnExecuteFireWeapon.call(this,t),this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_shot"+(this.doubleMode?"_2":""),!1),this.FireBullet(t),this.PlayGunShootAudio()},t.prototype.SwitchGunMode=function(e){this.gunMode=e,this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_open"+(this.doubleMode?"_2":""),!1),this.PlayChangeGunAudio()},t.prototype.GetBelongedGunModeIndex=function(e){return 0===e||1===e?0:2===e||3===e?1:4===e||5===e?2:6===e||7===e?3:8===e||9===e?4:10===e||11===e?5:0},t.prototype.OnSelected=function(){e.prototype.OnSelected.call(this),this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_ease_in",!1)},t.prototype.OnUnSelected=function(){e.prototype.OnUnSelected.call(this),this.gunSkeleton.setAnimation(0,"gun_"+(this.gunMode+1)+"_ease_out",!1)},t.prototype.GetAllSpawnedBullets=function(){for(var e=[],t=0;t<this.bulletHandlers.length;t++)e=e.concat(this.bulletHandlers[t].SpawnedBullets);return e},t.prototype.SetupBulletHandlers=function(){for(var e=0;e<this.bulletHandlers.length;e++)this.bulletHandlers[e].Setup(this.LauncherNodes)},t.prototype.FireBullet=function(e){var t=this,o=this.gunMode,i=0;this.doubleMode&&(i=this.doubleLauncherFlag?2:1,this.doubleLauncherFlag=!this.doubleLauncherFlag),this.bulletHandlers[this.gunMode].FireBullet(this.GetDirection(),e,function(e,i){t.SendHitRequest(e),t.SpawnExplosion(o,i)},void 0!=e.ExtraParameter&&void 0!=e.ExtraParameter.targetFishId?e.ExtraParameter.targetFishId:-1,i)},t.prototype.SetupBulletExplosionHandlers=function(){for(var e=0;e<this.bulletExplosionHandlers.length;e++)this.bulletExplosionHandlers[e].Setup()},t.prototype.SpawnExplosion=function(e,t){this.bulletExplosionHandlers[e].SpawnExplosion(t)},t.prototype.PlayGunShootAudio=function(){this.IsLocalPlayer&&this.audioController.PlayAudioWithKey("Gun_Shoot_0"+(this.gunMode+1),!1)},t.prototype.PlayChangeGunAudio=function(){this.IsLocalPlayer&&this.audioController.PlayAudioWithKey("Gun_Change",!1)},__decorate([s(sp.Skeleton)],t.prototype,"gunSkeleton",void 0),__decorate([s(i.CommonGunBulletHandler)],t.prototype,"bulletHandlers",void 0),__decorate([s(i.CommonGunBulletExplosionHandler)],t.prototype,"bulletExplosionHandlers",void 0),__decorate([s(n.default)],t.prototype,"audioController",void 0),t=__decorate([a],t)}(i.CommonGun);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun":"CommonGun"}],FishWarCrabFish:[function(e,t,o){"use strict";cc._RF.push(t,"c8bd00MIK9Kmookm0n2TYjp","FishWarCrabFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t,this.skeleton.setAnimation(0,"die",!1)},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarCrabGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"fd98fZJEEVJjZsC5iiZt+XV","FishWarCrabGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialGroup/BaseSpecialGroupExecutor"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.fishHoldersHolder=void 0,t.audioController=void 0,t.onSpawnAudioClip=void 0,t.playState=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){},t.prototype.OnHandleGeneratedFishes=function(e,t){for(var o=0;o<e.length;o++){var i=this.AcivateFish(e[o].FishId);i.node.setParent(this.fishHoldersHolder.children[o]),i.node.position=cc.Vec3.ZERO,i.node.angle=0}t.PathData,this.playState=this.animation.play("Horizontal"),this.audioController.PlayAudioWithClip(this.onSpawnAudioClip,!1)},t.prototype.OnGeneratedFishDisposed=function(e){},t.prototype.OnTimeOut=function(){this.playState.speed=5},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([s(cc.Animation)],t.prototype,"animation",void 0),__decorate([s(cc.Node)],t.prototype,"fishHoldersHolder",void 0),__decorate([s(n.default)],t.prototype,"audioController",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"onSpawnAudioClip",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Fish/SpecialGroup/BaseSpecialGroupExecutor":"BaseSpecialGroupExecutor"}],FishWarDragonWheelFish:[function(e,t,o){"use strict";cc._RF.push(t,"360d9KbTA9IlLZ6OWgmZATi","FishWarDragonWheelFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this,t=this.node.parent.position,o=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(t),this.node.angle=o,setTimeout(function(){cc.tween(e.node).to(1,{scaleX:0}).start(),cc.tween(e.node).to(1,{scaleY:0}).start()},1e3)},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarDragonWheelPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"38c748/nelOh51IEYQrxfFp","FishWarDragonWheelPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(){function e(){this.winRatio=0,this.angle=0}return __decorate([c()],e.prototype,"winRatio",void 0),__decorate([c()],e.prototype,"angle",void 0),e=__decorate([s("FishWarDragonWheelPresenterAngleProperties")],e)}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.wheelNode=void 0,t.wheelSpinning=!1,t.bigWheelNode=void 0,t.bigShineNode=void 0,t.bigShineSkeleton=void 0,t.bigDimmerNode=void 0,t.mediumWheelNode=void 0,t.mediumShineNode=void 0,t.mediumShineSkeleton=void 0,t.mediumDimmerNode=void 0,t.smallWheelNode=void 0,t.smallShineNode=void 0,t.smallShineSkeleton=void 0,t.lightFlowSkeleton=void 0,t.cursorSkeleton=void 0,t.bigWheelWinRatioAngles=[],t.mediumWheelWinRatioAngles=[],t.smallWheelWinRatioAngles=[],t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.SetupWheel(),this.Reset()},t.prototype.update=function(e){this.UpdateWheel(e)},t.prototype.Reset=function(){this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleLabelNode.active=!1,this.ResetWheel()},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r=this;return __generator(this,function(a){switch(a.label){case 0:return(t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId)&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"DragonWheel"),[4,this.WaitForSecs(.5)];case 1:return a.sent(),this.titleNode.active=!0,this.titleSkeleton.node.opacity=255,this.titleSkeleton.setAnimation(0,"enter",!1),t&&this.cameraShaker.StartShake(.6),[4,this.WaitForSecs(1.5)];case 2:return a.sent(),this.titleSkeleton.setAnimation(0,"leave",!1),o=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),i=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/DragonWheel",o.node),n=this.node.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),this.wheelNode.active=!0,cc.tween(this.wheelNode).to(.5,{position:n}).start(),[4,this.WaitForSecs(.5)];case 3:return a.sent(),[4,this.StartWheelPresentation(e.FishStatus.PayoutAmount/o.GetBetAmount())];case 4:return a.sent(),t?cc.tween(this.wheelNode).to(1,{position:cc.Vec3.ZERO}).start():this.titleNode.position=n,[4,this.WaitForSecs(1)];case 5:return a.sent(),this.titleLabel.string=e.FishStatus.PayoutAmount.toString(),this.titleSkeleton.setAnimation(0,"enter2",!1),setTimeout(function(){r.titleLabelNode.active=!0},300),[4,this.WaitForSecs(2)];case 6:return a.sent(),this.titleSkeleton.setAnimation(0,"leave2",!1),this.wheelNode.active=!1,setTimeout(function(){r.titleLabelNode.active=!1},300),[4,this.WaitForSecs(.5)];case 7:return a.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"DragonWheel"),this.Reset(),[2,!0]}})})},t.prototype.SetupWheel=function(){this.bigWheelNode=cc.find("Big",this.wheelNode),this.bigShineNode=cc.find("Shine_Big",this.wheelNode),this.bigShineSkeleton=this.bigShineNode.getComponent(sp.Skeleton),this.bigDimmerNode=cc.find("Dimmer",this.bigWheelNode),this.mediumWheelNode=cc.find("Midium",this.wheelNode),this.mediumShineNode=cc.find("Shine_Medium",this.wheelNode),this.mediumShineSkeleton=this.mediumShineNode.getComponent(sp.Skeleton),this.mediumDimmerNode=cc.find("Dimmer",this.mediumWheelNode),this.smallWheelNode=cc.find("Small",this.wheelNode),this.smallShineNode=cc.find("Shine_Small",this.wheelNode),this.smallShineSkeleton=this.smallShineNode.getComponent(sp.Skeleton),this.lightFlowSkeleton=cc.find("LightFlow",this.wheelNode).getComponent(sp.Skeleton),this.cursorSkeleton=cc.find("Cursor",this.wheelNode).getComponent(sp.Skeleton)},t.prototype.ResetWheel=function(){this.wheelNode.active=!1,this.wheelNode.position=cc.Vec3.ZERO,this.bigWheelNode.angle=0,this.bigShineNode.active=!1,this.bigDimmerNode.opacity=0,this.mediumWheelNode.angle=0,this.mediumShineNode.active=!1,this.mediumDimmerNode.opacity=0,this.smallWheelNode.angle=0,this.smallShineNode.active=!1,this.cursorSkeleton.setAnimation(0,"",!1)},t.prototype.UpdateWheel=function(e){this.wheelSpinning},t.prototype.StartWheelPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return e=100,this.lightFlowSkeleton.setAnimation(0,"pan",!1),this.bigShineNode.active=!0,this.bigShineSkeleton.setAnimation(0,"pan",!1),this.mediumShineNode.active=!0,this.mediumShineSkeleton.setAnimation(0,"pan",!1),this.smallShineNode.active=!0,this.smallShineSkeleton.setAnimation(0,"pan",!1),t=this.GetWinRatioAngle(e,this.bigWheelWinRatioAngles),[4,this.WaitForSecs(1.25)];case 1:return o.sent(),cc.tween(this.bigWheelNode).to(2,{angle:t.angle-720},{easing:"sineOut"}).start(),this.cursorSkeleton.setAnimation(0,"da",!0),[4,this.WaitForSecs(2)];case 2:return o.sent(),0==t.winRatio?[3,4]:(this.bigShineSkeleton.setAnimation(0,"pange_"+t.winRatio,!1),[4,this.WaitForSecs(1)]);case 3:return o.sent(),[3,12];case 4:return this.bigShineSkeleton.setAnimation(0,"pange_jian",!1),[4,this.WaitForSecs(.5)];case 5:return o.sent(),this.cursorSkeleton.setAnimation(0,"zhong_enter",!1),this.cursorSkeleton.addAnimation(0,"zhong_wait",!0),t=this.GetWinRatioAngle(e,this.mediumWheelWinRatioAngles),cc.tween(this.bigDimmerNode).to(.2,{opacity:255}).start(),cc.tween(this.mediumWheelNode).to(2,{angle:t.angle-720},{easing:"sineOut"}).start(),[4,this.WaitForSecs(2)];case 6:return o.sent(),0==t.winRatio?[3,8]:(this.mediumShineSkeleton.setAnimation(0,"pange_"+t.winRatio,!1),[4,this.WaitForSecs(1)]);case 7:return o.sent(),[3,12];case 8:return this.mediumShineSkeleton.setAnimation(0,"pange_jian",!1),[4,this.WaitForSecs(.5)];case 9:return o.sent(),this.cursorSkeleton.setAnimation(0,"xiao_enter",!1),this.cursorSkeleton.addAnimation(0,"xiao_wait",!0),t=this.GetWinRatioAngle(e,this.smallWheelWinRatioAngles),cc.tween(this.mediumDimmerNode).to(.2,{opacity:255}).start(),cc.tween(this.smallWheelNode).to(2,{angle:t.angle-720},{easing:"sineOut"}).start(),[4,this.WaitForSecs(2)];case 10:return o.sent(),this.smallShineSkeleton.setAnimation(0,"pange_"+t.winRatio,!1),[4,this.WaitForSecs(1)];case 11:o.sent(),o.label=12;case 12:return[2,!1]}})})},t.prototype.GetWinRatioAngle=function(e,t){for(var o=0;o<t.length;o++)if(t[o].winRatio==e)return t[o];for(o=0;o<t.length;o++)if(0==t[o].winRatio)return t[o];return null},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([c(n.default)],t.prototype,"seatController",void 0),__decorate([c(cc.Node)],t.prototype,"titleNode",void 0),__decorate([c(cc.Node)],t.prototype,"wheelNode",void 0),__decorate([c(l)],t.prototype,"bigWheelWinRatioAngles",void 0),__decorate([c(l)],t.prototype,"mediumWheelWinRatioAngles",void 0),__decorate([c(l)],t.prototype,"smallWheelWinRatioAngles",void 0),t=__decorate([s],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarFireStormFish:[function(e,t,o){"use strict";cc._RF.push(t,"59929n2x3xG/aTi/XLwYq+N","FishWarFireStormFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarFireStormGun:[function(e,t,o){"use strict";cc._RF.push(t,"f5c73UOIM1P/6ciYk7K3bm9","FishWarFireStormGun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun"),n=e("../../../FishCore/Scripts/Player/Seat/Weapon/SeatWeaponHolder"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponHolder=void 0,t.gunSkeleton=void 0,t.bulletCountNode=void 0,t.bulletCount=0,t.bulletCountLabel=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){e.prototype.OnSetup.call(this),this.node.opacity=0,this.bulletCountNode.active=!1,this.bulletCountLabel=this.bulletCountNode.getComponentInChildren(cc.Label)},t.prototype.OnSelected=function(){e.prototype.OnSelected.call(this),this.node.opacity=255,this.gunSkeleton.setAnimation(0,"gun_spe_in",!1),this.bulletCount=20,this.bulletCountNode.active=!0},t.prototype.OnUnSelected=function(){var t=this;e.prototype.OnUnSelected.call(this),this.gunSkeleton.setAnimation(0,"gun_spe_out",!1),setTimeout(function(){t.node.opacity=0},2e3),this.bulletCountNode.active=!1},t.prototype.OnExecuteFireWeapon=function(t){e.prototype.OnExecuteFireWeapon.call(this,t),this.gunSkeleton.setAnimation(0,"gun_spe_shot",!1),this.bulletCount--,this.bulletCountLabel.string=this.bulletCount.toString(),this.bulletCount<=0&&this.weaponHolder.UnSelectCurrentWeapon()},__decorate([s(n.default)],t.prototype,"weaponHolder",void 0),__decorate([s(sp.Skeleton)],t.prototype,"gunSkeleton",void 0),__decorate([s(cc.Node)],t.prototype,"bulletCountNode",void 0),t=__decorate([a],t)}(i.CommonGun);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/Weapon/Gun/CommonGun":"CommonGun","../../../FishCore/Scripts/Player/Seat/Weapon/SeatWeaponHolder":"SeatWeaponHolder"}],FishWarFireStormPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"6211awKFMJJTa+CY9Gmr3OT","FishWarFireStormPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.titleNode=void 0,t.fishNode=void 0,t.weaponNode=void 0,t.titleSkeleton=void 0,t.titleAnimation=void 0,t.titleLabel=void 0,t.titleLabelNode=void 0,t.fishSkeleton=void 0,t.weaponSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.fishSkeleton=this.fishNode.getComponent(sp.Skeleton),this.weaponSkeleton=this.weaponNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleNode.active=!1,this.titleLabelNode.active=!1,this.fishNode.active=!1,this.weaponNode.active=!1},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r;return __generator(this,function(a){switch(a.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,3,t&&(this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"FireStorm"),this.seatController.GetLocalPlayerSeatNode().WeaponHolder.UnSelectCurrentWeapon()),o=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),cc.find("BetAmountPanel/FireStormBalance",o.node).opacity=0,i=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.fishNode.active=!0,this.fishNode.position=i,this.fishSkeleton.setAnimation(0,"leave",!1),cc.tween(this.fishNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineOut"}).start(),[4,this.WaitForSecs(1)];case 1:return a.sent(),this.weaponNode.active=!0,this.weaponSkeleton.setAnimation(0,"gun_spe_enter",!1),this.weaponSkeleton.addAnimation(0,"",!1),n=cc.find("Gun",o.node),r=this.node.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),[4,this.WaitForSecs(1)];case 2:return a.sent(),o.WeaponHolder.node.opacity=0,this.weaponNode.setPosition(r),this.titleLabelNode.active=!0,this.titleLabel.string=80..toString(),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setAnimation(0,"fire_enter",!1),this.titleSkeleton.addAnimation(0,"fire_wait",!0),[4,this.WaitForSecs(2.5)];case 3:return a.sent(),this.titleLabelNode.active=!1,this.titleSkeleton.setAnimation(0,"fire_leave",!1),[4,this.WaitForSecs(.5)];case 4:return a.sent(),o.WeaponHolder.node.opacity=255,cc.find("BetAmountPanel/FireStormBalance",o.node).opacity=255,t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"FireStorm"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([s(n.default)],t.prototype,"seatController",void 0),__decorate([s(cc.Node)],t.prototype,"titleNode",void 0),__decorate([s(cc.Node)],t.prototype,"fishNode",void 0),__decorate([s(cc.Node)],t.prototype,"weaponNode",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController"}],FishWarFishAudioController:[function(e,t,o){"use strict";cc._RF.push(t,"92e06UJuxpAXZV3aFc16l05","FishWarFishAudioController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../FishCore/Scripts/Audio/AudioController"),n=e("../../FishCore/Scripts/Core/Event"),r=e("../../FishCore/Scripts/Player/Seat/SeatController"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(){function e(){this.fishTypes=[],this.clips=[]}return Object.defineProperty(e.prototype,"FishTypes",{get:function(){return this.fishTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Clips",{get:function(){return this.clips},enumerable:!0,configurable:!0}),__decorate([c(Number)],e.prototype,"fishTypes",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"clips",void 0),e=__decorate([s("FishIdAudioClipProperties")],e)}();o.FishTypeAudioClipProperties=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioController=void 0,t.seatController=void 0,t.fishSpawnProps=[],t.fishDeathProps=[],t.HandleOnFishActivated=function(e){var o=t.GetClip(e.detail.FishType,t.fishSpawnProps);null!=o&&t.audioController.PlayAudioWithClip(o,!1)},t.HandleOnFishDeath=function(e){var o=t.seatController.GetLocalPlayerSeatNode();if(null!=o&&e.detail.StatusInfo.PlayerId==o.GetPlayerId()){var i=t.GetClip(e.detail.TargetFish.FishType,t.fishDeathProps);null!=i&&t.audioController.PlayAudioWithClip(i,!1)}},t}return __extends(t,e),t.prototype.onLoad=function(){addEventListener(n.FishEvent.Fish_Activated,this.HandleOnFishActivated),addEventListener(n.FishEvent.Fish_Death,this.HandleOnFishDeath)},t.prototype.GetClip=function(e,t){for(var o=0;o<t.length;o++)for(var i=0;i<t[o].FishTypes.length;i++)if(t[o].FishTypes[i]==e)return t[o].Clips[Math.floor(Math.random()*t[o].Clips.length)];return null},__decorate([c(i.default)],t.prototype,"audioController",void 0),__decorate([c(r.default)],t.prototype,"seatController",void 0),__decorate([c(l)],t.prototype,"fishSpawnProps",void 0),__decorate([c(l)],t.prototype,"fishDeathProps",void 0),t=__decorate([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../FishCore/Scripts/Audio/AudioController":"AudioController","../../FishCore/Scripts/Core/Event":"Event","../../FishCore/Scripts/Player/Seat/SeatController":"SeatController"}],FishWarGhostShipFish:[function(e,t,o){"use strict";cc._RF.push(t,"ba2eecg3gpG/5Z4WA55Ea0F","FishWarGhostShipFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarCommonFish"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.movingAudioClip=void 0,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){e.prototype.OnFishSpawned.call(this),n.default.Instance.PlayAudioWithClip(this.movingAudioClip,!0)},t.prototype.OnFishDeath=function(){e.prototype.OnFishDeath.call(this),n.default.Instance.StopAudioWithClip(this.movingAudioClip)},t.prototype.OnFishCleanUp=function(){e.prototype.OnFishCleanUp.call(this),n.default.Instance.StopAudioWithClip(this.movingAudioClip)},__decorate([s({type:cc.AudioClip})],t.prototype,"movingAudioClip",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","./FishWarCommonFish":"FishWarCommonFish"}],FishWarGhostShipPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"134e5GlN+pMlYCzx9aV2Hnd","FishWarGhostShipPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatController=void 0,t.titleNode=void 0,t.ghostShipNode=void 0,t.boomNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.ghostShipSkeleton=void 0,t.boomSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.ghostShipSkeleton=this.ghostShipNode.getComponent(sp.Skeleton),this.boomSkeleton=this.boomNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleLabelNode.active=!1,this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.ghostShipNode.active=!1,this.boomNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation()},t.prototype.OnDeath=function(e){103!=e.TargetFish.FishType&&this.DeathPresentation(e)},t.prototype.EnterPresentation=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"pirate_enter",!1),[4,this.WaitForSecs(.5)];case 1:return e.sent(),[4,this.WaitForSecs(1)];case 2:return e.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 3:return e.sent(),this.titleNode.active=!1,[2,!0]}})})},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r;return __generator(this,function(a){switch(a.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,3,0,t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"GhostShip"),o=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.ghostShipNode.angle=e.TargetFish.node.angle,this.ghostShipNode.position=o,this.ghostShipNode.active=!0,this.ghostShipSkeleton.setAnimation(0,"wait_0",!0),cc.tween(this.ghostShipNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineOut"}).start(),[4,this.WaitForSecs(.5)];case 1:return a.sent(),[4,this.WaitForSecs(3)];case 2:return a.sent(),this.titleNode.active=!0,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"pirate_enter2",!1),[4,this.WaitForSecs(1.5)];case 3:return a.sent(),i=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),n=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/GhostShip",i.node),r=this.node.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),cc.tween(this.titleNode).to(.5,{scale:.5},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:r},{easing:"sineIn"}).start(),[4,this.WaitForSecs(.5)];case 4:return a.sent(),this.titleSkeleton.setSkin("pirate_1"),this.titleLabelNode.active=!0,[4,this.WaitForSecs(2)];case 5:return a.sent(),this.boomNode.active=!0,this.boomSkeleton.setAnimation(0,"wait",!0),this.ghostShipSkeleton.setAnimation(0,"wait_1",!0),[4,this.WaitForSecs(18)];case 6:return a.sent(),this.boomSkeleton.addAnimation(0,"wait",!1),this.ghostShipSkeleton.setAnimation(0,"leave",!1),[4,this.WaitForSecs(5)];case 7:return a.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineIn"}).start()),[4,this.WaitForSecs(2)];case 8:return a.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(.5)];case 9:return a.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"GhostShip"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([s(n.default)],t.prototype,"seatController",void 0),__decorate([s(cc.Node)],t.prototype,"titleNode",void 0),__decorate([s(cc.Node)],t.prototype,"ghostShipNode",void 0),__decorate([s(cc.Node)],t.prototype,"boomNode",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController"}],FishWarGoldenToadFish:[function(e,t,o){"use strict";cc._RF.push(t,"e6d3fdOEBVKII93UZpiezXb","FishWarGoldenToadFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=e("../../../FishCore/Scripts/Misc/PositionDrivenDirectionUpdater"),r=e("../../../FishCore/Scripts/Audio/AudioController"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.deathEffectSkeleton=void 0,t.lightningNode=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t.movingAudioClip=void 0,t}return __extends(t,e),t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.OnFishSpawned=function(){this.getComponent(n.default).enabled=!0,this.animation.node.opacity=255,this.deathEffectSkeleton.node.active=!1,this.animation.play(),this.SetLightningNodeActive(!1),r.default.Instance.PlayAudioWithClip(this.movingAudioClip,!0)},t.prototype.OnFishDeath=function(){cc.tween(this.animation.node).to(.5,{opacity:0}).start(),this.getComponent(n.default).enabled=!1,this.deathEffectSkeleton.node.active=!0,this.deathEffectSkeleton.setAnimation(0,"",!1),r.default.Instance.StopAudioWithClip(this.movingAudioClip)},t.prototype.OnFishCleanUp=function(){e.prototype.OnFishCleanUp.call(this),r.default.Instance.StopAudioWithClip(this.movingAudioClip)},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningNode&&(this.lightningNode.opacity=e?255:0)},__decorate([c(cc.Animation)],t.prototype,"animation",void 0),__decorate([c(sp.Skeleton)],t.prototype,"deathEffectSkeleton",void 0),__decorate([c(cc.Node)],t.prototype,"lightningNode",void 0),__decorate([c(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([c(cc.Color)],t.prototype,"colorOnHit",void 0),__decorate([c({type:cc.AudioClip})],t.prototype,"movingAudioClip",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Fish/BaseFish":"BaseFish","../../../FishCore/Scripts/Misc/PositionDrivenDirectionUpdater":"PositionDrivenDirectionUpdater"}],FishWarInfoPanelController:[function(e,t,o){"use strict";cc._RF.push(t,"636b7B0BhhOtLdeUWBpor4m","FishWarInfoPanelController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarInfoPanelTab"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabs=[],t.contents=[],t.closeButton=void 0,t.activateTabIndex=0,t.OnTabClicked=function(e){t.activateTabIndex!=e&&(t.tabs[t.activateTabIndex].SetActivation(!1),t.SetContentActive(t.activateTabIndex,!1),t.tabs[e].SetActivation(!0),t.SetContentActive(e,!0),t.activateTabIndex=e)},t.HandleCloseButtonClicked=function(){t.node.active=!1},t}return __extends(t,e),t.prototype.Setup=function(){for(var e=0;e<this.contents.length;e++)this.contents[e].active=0==e;for(e=0;e<this.tabs.length;e++)this.tabs[e].Setup(e,0==e,this.OnTabClicked);this.closeButton.node.on("click",this.HandleCloseButtonClicked),this.node.active=!1},t.prototype.Show=function(){this.node.active=!0},t.prototype.SetContentActive=function(e,t){this.contents[e].active=t},__decorate([a(i.default)],t.prototype,"tabs",void 0),__decorate([a(cc.Node)],t.prototype,"contents",void 0),__decorate([a(cc.Button)],t.prototype,"closeButton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FishWarInfoPanelTab":"FishWarInfoPanelTab"}],FishWarInfoPanelTab:[function(e,t,o){"use strict";cc._RF.push(t,"e34d8X1CuVJSZErpdk2AasM","FishWarInfoPanelTab"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonComponent=void 0,t.normalNode=void 0,t.activateNode=void 0,t.tabIndex=0,t}return __extends(t,e),t.prototype.Setup=function(e,t,o){var i=this;this.tabIndex=e,this.buttonComponent.node.on("click",function(){o(i.tabIndex)}),this.SetActivation(t)},t.prototype.SetActivation=function(e){this.activateNode.opacity=e?255:0,this.buttonComponent.interactable=!e},__decorate([r(cc.Button)],t.prototype,"buttonComponent",void 0),__decorate([r(cc.Node)],t.prototype,"normalNode",void 0),__decorate([r(cc.Node)],t.prototype,"activateNode",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],FishWarLongWangFish:[function(e,t,o){"use strict";cc._RF.push(t,"a6d97JJB8NKf5qKO7K7S4Jq","FishWarLongWangFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){},t.prototype.OnTriggerCustomEvent=function(e){var t=this;"LightningHit"==e&&(-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3))},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},t.prototype.OnFishHitted=function(e){},__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarMenuController:[function(e,t,o){"use strict";cc._RF.push(t,"1119cplnc9BM5vsNsurs4zH","FishWarMenuController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Menu/BaseMenuController"),n=e("./InfoPanel/FishWarInfoPanelController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.menuButton=void 0,t.menuButtonOnNode=void 0,t.menuButtonOffNode=void 0,t.menuBarNode=void 0,t.menuBarSlideDuration=.2,t.infoButton=void 0,t.infoPanelController=void 0,t.audioButton=void 0,t.audioNormalNode=void 0,t.audioMuteNode=void 0,t.exitButton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){var e=this;this.menuButton.node.on("click",function(){e.HandleSettingButtonClicked()}),this.menuButtonOnNode.opacity=0,this.menuButtonOffNode.opacity=255,this.isMenuBarNodeShown=!1,this.infoButton.node.on("click",function(){e.HandleInfoButtonClicked()}),this.infoPanelController.Setup(),this.menuBarNode.setPosition(new cc.Vec2(0,0)),this.audioButton.node.on("click",function(){e.HandleAudioButtonClicked()}),this.SetAudioMuteNodeStatus()},t.prototype.HandleSettingButtonClicked=function(){var e=this;this.menuButton.interactable=!1,this.isMenuBarNodeShown=!this.isMenuBarNodeShown;var t=cc.Vec2.ZERO;t=this.isMenuBarNodeShown?new cc.Vec2(-120,0):new cc.Vec2(0,0),this.menuButtonOnNode.opacity=this.isMenuBarNodeShown?255:0,this.menuButtonOffNode.opacity=this.isMenuBarNodeShown?0:255,cc.tween(this.menuBarNode).to(this.menuBarSlideDuration,{position:t}).start(),setTimeout(function(){e.menuButton.interactable=!0},1e3*this.menuBarSlideDuration)},t.prototype.HandleInfoButtonClicked=function(){this.infoPanelController.Show()},t.prototype.HandleAudioButtonClicked=function(){this.SetMute(!this.AudioMuteFlag),this.SetAudioMuteNodeStatus()},t.prototype.SetAudioMuteNodeStatus=function(){this.audioMuteNode.active=this.AudioMuteFlag,this.audioNormalNode.active=!this.AudioMuteFlag},__decorate([s(cc.Button)],t.prototype,"menuButton",void 0),__decorate([s(cc.Node)],t.prototype,"menuButtonOnNode",void 0),__decorate([s(cc.Node)],t.prototype,"menuButtonOffNode",void 0),__decorate([s(cc.Node)],t.prototype,"menuBarNode",void 0),__decorate([s()],t.prototype,"menuBarSlideDuration",void 0),__decorate([s(cc.Button)],t.prototype,"infoButton",void 0),__decorate([s(n.default)],t.prototype,"infoPanelController",void 0),__decorate([s(cc.Button)],t.prototype,"audioButton",void 0),__decorate([s(cc.Node)],t.prototype,"audioNormalNode",void 0),__decorate([s(cc.Node)],t.prototype,"audioMuteNode",void 0),__decorate([s(cc.Button)],t.prototype,"exitButton",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Menu/BaseMenuController":"BaseMenuController","./InfoPanel/FishWarInfoPanelController":"FishWarInfoPanelController"}],FishWarMonkeyKingFish:[function(e,t,o){"use strict";cc._RF.push(t,"6bffaNwm1pKvaKiw+VU8wsc","FishWarMonkeyKingFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarMonkeyKingPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"d7cb1cqmVdJ8pF6LE9KLHJ5","FishWarMonkeyKingPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.bgNode=void 0,t.titleNode=void 0,t.monkeyNode=void 0,t.hitCountNode=void 0,t.explosionNode=void 0,t.bgSkeleton=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabel=void 0,t.monkeySkeleton=void 0,t.hitCountSkeleton=void 0,t.hitCountLabel=void 0,t.explosionSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.bgSkeleton=this.bgNode.getComponentInChildren(sp.Skeleton),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.titleNode.getComponentInChildren(cc.Label),this.monkeySkeleton=this.monkeyNode.getComponent(sp.Skeleton),this.hitCountSkeleton=this.hitCountNode.getComponentInChildren(sp.Skeleton),this.hitCountLabel=this.hitCountNode.getComponentInChildren(cc.Label),this.explosionSkeleton=this.explosionNode.getComponentInChildren(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.bgNode.active=!1,this.titleLabel.node.active=!1,this.titleNode.active=!1,this.monkeyNode.active=!1,this.hitCountNode.active=!1,this.explosionNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation()},t.prototype.OnDeath=function(e){102!=e.TargetFish.FishType&&this.DeathPresentation(e)},t.prototype.EnterPresentation=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return this.titleNode.active=!0,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.titleSkeleton.node.opacity=255,this.titleAnimation.play("Enter"),this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"monkey_wait",!1),[4,this.WaitForSecs(.5)];case 1:return e.sent(),this.titleSkeleton.setAnimation(0,"monkey_enter",!1),[4,this.WaitForSecs(1)];case 2:return e.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 3:return e.sent(),this.titleNode.active=!1,[2,!0]}})})},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r,a,s;return __generator(this,function(c){switch(c.label){case 0:return t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId,o=3,t&&(this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"MonkeyKing"),this.cameraShaker.StartShake(1)),i=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.monkeyNode.active=!0,this.monkeyNode.position=i,this.monkeySkeleton.setAnimation(0,"change",!1),[4,this.WaitForSecs(3)];case 1:return c.sent(),this.monkeyNode.opacity=0,this.titleNode.active=!0,this.titleSkeleton.node.opacity=255,this.titleLabel.node.active=!1,this.titleSkeleton.setSkin("default"),this.titleSkeleton.setAnimation(0,"monkey_wait2",!1),this.titleAnimation.play("Enter"),[4,this.WaitForSecs(.5)];case 2:return c.sent(),this.titleSkeleton.setAnimation(0,"monkey_enter2",!1),[4,this.WaitForSecs(1.5)];case 3:return c.sent(),n=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),r=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/MonkeyKing",n.node),a=this.node.convertToNodeSpaceAR(r.parent.convertToWorldSpaceAR(r.position)),cc.tween(this.titleNode).to(.5,{scale:.5}).start(),cc.tween(this.titleNode).to(.5,{position:a}).start(),[4,this.WaitForSecs(.5)];case 4:return c.sent(),this.titleSkeleton.setSkin("monkey_2"),this.titleLabel.node.active=!0,this.monkeyNode.opacity=255,this.monkeyNode.position=cc.Vec3.ZERO,this.monkeySkeleton.setAnimation(0,"hit_enter",!1),this.monkeySkeleton.addAnimation(0,"hit_wait",!0),[4,this.WaitForSecs(.333)];case 5:c.sent(),this.bgNode.active=!0,this.bgSkeleton.setAnimation(0,"fire_wait",!0),this.hitCountNode.active=!0,this.hitCountSkeleton.setAnimation(0,"wait",!0),this.hitCountLabel.string=1..toString(),this.hitCountLabel.node.scale=1,this.explosionNode.active=!0,this.explosionSkeleton.setAnimation(0,"wait",!1),t&&this.cameraShaker.StartShake(.6),s=1,c.label=6;case 6:return s<o?[4,this.WaitForSecs(1.4)]:[3,10];case 7:return c.sent(),this.monkeySkeleton.setAnimation(0,"hit_hit",!1),this.monkeySkeleton.addAnimation(0,"hit_wait",!0),[4,this.WaitForSecs(.6)];case 8:c.sent(),this.hitCountLabel.string=(s+1).toString(),this.explosionSkeleton.setAnimation(0,"wait",!1),t&&this.cameraShaker.StartShake(.6),c.label=9;case 9:return s++,[3,6];case 10:return[4,this.WaitForSecs(1.4)];case 11:return c.sent(),this.monkeySkeleton.setAnimation(0,"hit_leave",!1),cc.tween(this.bgNode).to(.5,{opacity:0}).start(),this.hitCountSkeleton.setAnimation(0,"leave",!1),cc.tween(this.hitCountLabel.node).to(.5,{scale:0}).start(),[4,this.WaitForSecs(1)];case 12:return c.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO}).start()),[4,this.WaitForSecs(.5)];case 13:return c.sent(),this.titleSkeleton.setAnimation(0,"monkey_enter2",!1),[4,this.WaitForSecs(1.5)];case 14:return c.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 15:return c.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"MonkeyKing"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([c(n.default)],t.prototype,"seatController",void 0),__decorate([c(cc.Node)],t.prototype,"bgNode",void 0),__decorate([c(cc.Node)],t.prototype,"titleNode",void 0),__decorate([c(cc.Node)],t.prototype,"monkeyNode",void 0),__decorate([c(cc.Node)],t.prototype,"hitCountNode",void 0),__decorate([c(cc.Node)],t.prototype,"explosionNode",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarPayoutObject:[function(e,t,o){"use strict";cc._RF.push(t,"bd7ddBpIrJPna2PBDIIIadW","FishWarPayoutObject"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Payout/CommonPayoutObject"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnExecute=function(t){e.prototype.OnExecute.call(this,t),this.SetWinAmountText("+"+t.PayoutAmount.toString())},t=__decorate([r],t)}(i.default));o.default=a,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Payout/CommonPayoutObject":"CommonPayoutObject"}],FishWarPlayerBalanceBarWinAmountJumper:[function(e,t,o){"use strict";cc._RF.push(t,"c0516bOn6ZIQ75qnI28JUU/","FishWarPlayerBalanceBarWinAmountJumper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),n=e("../../../FishCore/Scripts/Player/Seat/SeatNode"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPlayerPool=void 0,t.othersPlayerPool=void 0,t.preSpawnDelay=2,t.objectAnimationKey="Enter",t.targetPlayerSeatNode=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.targetPlayerSeatNode=this.node.parent.parent.getComponent(n.default),this.localPlayerPool.Setup(),this.othersPlayerPool.Setup()},t.prototype.ManualTrigger=function(e){var t=this;this.targetPlayerSeatNode.IsSeated&&setTimeout(function(){var o=t.targetPlayerSeatNode.IsLocalPlayer?t.localPlayerPool.AcquireNode():t.othersPlayerPool.AcquireNode();o.setParent(t.node),o.setPosition(cc.Vec3.ZERO),o.getComponentInChildren(cc.Label).string="+"+e,o.getComponent(cc.Animation).play(t.objectAnimationKey)},1e3*this.preSpawnDelay)},__decorate([s(i.CommonNodePoolHandler)],t.prototype,"localPlayerPool",void 0),__decorate([s(i.CommonNodePoolHandler)],t.prototype,"othersPlayerPool",void 0),__decorate([s()],t.prototype,"preSpawnDelay",void 0),__decorate([s()],t.prototype,"objectAnimationKey",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/SeatNode":"SeatNode","../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper"}],FishWarSpecialFishEnterancePresenter:[function(e,t,o){"use strict";cc._RF.push(t,"495e1K3TutEOId5+QDwELEW","FishWarSpecialFishEnterancePresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleNode=void 0,t.titleSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.titleSkeleton=this.titleNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.titleNode.active=!1},t.prototype.OnSpawn=function(e){this.EnterPresentation(e.FishType)},t.prototype.EnterPresentation=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){switch(t.label){case 0:return this.titleNode.active=!0,20==e?this.titleSkeleton.setAnimation(0,"crab",!1):21==e&&this.titleSkeleton.setAnimation(0,"toad",!1),[4,this.WaitForSecs(3)];case 1:return t.sent(),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([a(cc.Node)],t.prototype,"titleNode",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter"}],FishWarThunderHammerFish:[function(e,t,o){"use strict";cc._RF.push(t,"b4aedEEI4dG6rsWIDdOZJxK","FishWarThunderHammerFish"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/BaseFish"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=void 0,t.lightningSkeleton=void 0,t.lightningDisableTracker=-1,t.mainRenderNode=void 0,t.colorOnHit=new cc.Color(255,0,0,255),t.hitColorResumeTracker=-1,t}return __extends(t,e),t.prototype.OnFishSpawned=function(){this.skeleton.setAnimation(0,"wait",!0),this.lightningSkeleton.setAnimation(0,"wait_light",!0),this.SetLightningNodeActive(!1)},t.prototype.OnFishDeath=function(){var e=this.node.parent.position,t=this.node.parent.angle;this.node.setParent(this.node.parent.parent),this.node.setPosition(e),this.node.angle=t},t.prototype.OnTriggerCustomEvent=function(e){var t=this;if("LightningHit"==e)-1!=this.lightningDisableTracker&&clearTimeout(this.lightningDisableTracker),this.SetLightningNodeActive(!0),this.lightningDisableTracker=setTimeout(function(){t.SetLightningNodeActive(!1),t.lightningDisableTracker=-1},1e3);else if("BulletHit"==e){if(void 0==this.mainRenderNode)return;-1!=this.hitColorResumeTracker&&(clearTimeout(this.hitColorResumeTracker),this.hitColorResumeTracker=-1),this.mainRenderNode.color=this.colorOnHit,this.hitColorResumeTracker=setTimeout(function(){t.mainRenderNode.color=new cc.Color(255,255,255,255),t.hitColorResumeTracker=-1},300)}},t.prototype.SetLightningNodeActive=function(e){void 0!=this.lightningSkeleton&&(this.lightningSkeleton.node.opacity=e?255:0)},__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(sp.Skeleton)],t.prototype,"lightningSkeleton",void 0),__decorate([a(cc.Node)],t.prototype,"mainRenderNode",void 0),__decorate([a(cc.Color)],t.prototype,"colorOnHit",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/BaseFish":"BaseFish"}],FishWarThunderHammerPresenter:[function(e,t,o){"use strict";cc._RF.push(t,"743a6ZQPEtCNL1gWBEoKxBH","FishWarThunderHammerPresenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../../../FishCore/Scripts/Utils/Shaker"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraNode=void 0,t.seatController=void 0,t.titleNode=void 0,t.thunderHammerNode=void 0,t.crackEffectNode=void 0,t.titleAnimation=void 0,t.titleSkeleton=void 0,t.titleLabelNode=void 0,t.titleLabel=void 0,t.thunderHammerSkeleton=void 0,t.crackEffectSkeleton=void 0,t}return __extends(t,e),t.prototype.OnSetup=function(){this.cameraShaker=this.cameraNode.getComponent(r.default),this.titleAnimation=this.titleNode.getComponentInChildren(cc.Animation),this.titleSkeleton=this.titleNode.getComponentInChildren(sp.Skeleton),this.titleLabel=this.getComponentInChildren(cc.Label),this.titleLabelNode=this.titleLabel.node,this.thunderHammerSkeleton=this.thunderHammerNode.getComponent(sp.Skeleton),this.crackEffectSkeleton=this.crackEffectNode.getComponent(sp.Skeleton),this.Reset()},t.prototype.Reset=function(){this.thunderHammerNode.active=!1,this.thunderHammerNode.opacity=255,this.titleNode.active=!1,this.titleNode.position=cc.Vec3.ZERO,this.titleNode.scale=1,this.titleLabelNode.active=!1,this.crackEffectNode.active=!1,this.crackEffectNode.opacity=255},t.prototype.OnDeath=function(e){this.DeathPresentation(e)},t.prototype.DeathPresentation=function(e){return __awaiter(this,void 0,Promise,function(){var t,o,i,n,r;return __generator(this,function(a){switch(a.label){case 0:return(t=this.seatController.GetLocalPlayerSeatNode().GetPlayerId()==e.StatusInfo.PlayerId)&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!0,"ThunderHammer"),o=this.node.convertToNodeSpaceAR(e.TargetFish.node.parent.convertToWorldSpaceAR(e.TargetFish.node.position)),this.thunderHammerNode.active=!0,this.thunderHammerNode.position=o,this.thunderHammerSkeleton.setAnimation(0,"hit",!1),this.thunderHammerSkeleton.addAnimation(0,"wait",!0),cc.tween(this.thunderHammerNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineOut"}).start(),[4,this.WaitForSecs(.85)];case 1:return a.sent(),i=this.seatController.GetSeatNodeByPlayerId(e.StatusInfo.PlayerId),n=cc.find("BetAmountPanel/SpecialFish/TitleTravelDestination/ThunderHammer",i.node),r=this.node.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),t||(this.titleNode.position=r,this.titleNode.scale=.5),this.titleNode.active=!0,this.titleSkeleton.setAnimation(0,"hammer_enter",!1),this.titleAnimation.play("Enter"),[4,this.WaitForSecs(1.6)];case 2:return a.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:.5},{easing:"sineIn"}).start(),cc.tween(this.titleNode).to(.5,{position:r},{easing:"sineIn"}).start()),this.thunderHammerSkeleton.setAnimation(0,"bomm",!1),[4,this.WaitForSecs(4.5)];case 3:return a.sent(),this.crackEffectNode.active=!0,this.crackEffectSkeleton.setAnimation(0,"wait",!1),t&&this.cameraShaker.StartShake(.6),[4,this.WaitForSecs(2.5)];case 4:return a.sent(),t&&(cc.tween(this.titleNode).to(.5,{scale:1}).start(),cc.tween(this.titleNode).to(.5,{position:cc.Vec3.ZERO},{easing:"sineIn"}).start()),[4,this.WaitForSecs(.5)];case 5:return a.sent(),this.titleSkeleton.setSkin("hammer_1"),this.titleLabelNode.active=!0,cc.tween(this.thunderHammerNode).to(.5,{opacity:0}).start(),cc.tween(this.crackEffectNode).to(.5,{opacity:0}).start(),[4,this.WaitForSecs(1)];case 6:return a.sent(),this.titleSkeleton.setAnimation(0,"hammer_enter",!1),[4,this.WaitForSecs(2)];case 7:return a.sent(),this.titleAnimation.play("Exit"),[4,this.WaitForSecs(1)];case 8:return a.sent(),t&&this.seatController.GetLocalPlayerSeatNode().SetControlLockStatus(!1,"ThunderHammer"),this.Reset(),[2,!0]}})})},t.prototype.WaitForSecs=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,new Promise(function(t){return setTimeout(function(){return t()},1e3*e)})]})})},__decorate([c(cc.Node)],t.prototype,"cameraNode",void 0),__decorate([c(n.default)],t.prototype,"seatController",void 0),__decorate([c(cc.Node)],t.prototype,"titleNode",void 0),__decorate([c(cc.Node)],t.prototype,"thunderHammerNode",void 0),__decorate([c(cc.Node)],t.prototype,"crackEffectNode",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialFishPresenter/BaseSpecialFishPresenter":"BaseSpecialFishPresenter","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../../../FishCore/Scripts/Utils/Shaker":"Shaker"}],FishWarUtilityAimFishIndicator:[function(e,t,o){"use strict";cc._RF.push(t,"84d5av5bzlNCapCHo4VdSQ7","FishWarUtilityAimFishIndicator"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Utils/CommonDataHelper"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteReferences=[],t.targetSprite=null,t}return __extends(t,e),t.prototype.Setup=function(){this.DeActive()},t.prototype.Active=function(e){for(var t=0;t<this.spriteReferences.length;t++)if(this.spriteReferences[t].Key==e.toString()){this.node.active=!0,this.targetSprite.spriteFrame=this.spriteReferences[t].SpriteFrame;break}},t.prototype.DeActive=function(){this.node.active=!1},__decorate([a(i.SpriteFrameReference)],t.prototype,"spriteReferences",void 0),__decorate([a(cc.Sprite)],t.prototype,"targetSprite",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Utils/CommonDataHelper":"CommonDataHelper"}],FishWarUtilityAutoPanelNode:[function(e,t,o){"use strict";cc._RF.push(t,"82f65jETsxDaJoz2I23NERa","FishWarUtilityAutoPanelNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fishTypes=[],t.buttonComponent=void 0,t.tickedNodes=[],t.onClickCallback=null,t.isActive=!1,t.HandleOnButtonClicked=function(){null!=t.onClickCallback&&t.onClickCallback(t)},t}return __extends(t,e),Object.defineProperty(t.prototype,"FishTypes",{get:function(){return this.fishTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsActive",{get:function(){return this.isActive},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.onClickCallback=e,this.buttonComponent.node.on("click",this.HandleOnButtonClicked),this.SetActive(!1)},t.prototype.SetActive=function(e){for(var t=0;t<this.tickedNodes.length;t++)this.tickedNodes[t].active=e;this.isActive=e},__decorate([r(Number)],t.prototype,"fishTypes",void 0),__decorate([r(cc.Button)],t.prototype,"buttonComponent",void 0),__decorate([r(cc.Node)],t.prototype,"tickedNodes",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],FishWarUtilityAutoPanel:[function(e,t,o){"use strict";cc._RF.push(t,"d537crkViRDzpxjBe30W9N8","FishWarUtilityAutoPanel"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarUtilityAutoPanelNode"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.originNode=null,t.baseNode=null,t.blockerNode=null,t.nodes=[],t.closeButton=null,t.startButton=null,t.selectAllButton=null,t.hidingTimeOutTracker=-1,t.fishTypeSelectedCallback=null,t.HandleOnCloseCliked=function(){t.Hide()},t.HandleOnStartClicked=function(){t.Hide();for(var e=[],o=0;o<t.nodes.length;o++)if(t.nodes[o].IsActive)for(var i=t.nodes[o].FishTypes,n=0;n<i.length;n++)e.push(i[n]);null!=t.fishTypeSelectedCallback&&t.fishTypeSelectedCallback(e)},t.HandleOnSelectAllClicked=function(){for(var e=!0,o=0;o<t.nodes.length;o++)t.nodes[o].IsActive||(e=!1,t.nodes[o].SetActive(!0));if(e)for(o=0;o<t.nodes.length;o++)t.nodes[o].SetActive(!1)},t.HandleOnNodeClicked=function(e){e.SetActive(!e.IsActive)},t}return __extends(t,e),t.prototype.Setup=function(e){this.closeButton.node.on("click",this.HandleOnCloseCliked),this.startButton.node.on("click",this.HandleOnStartClicked),this.selectAllButton.node.on("click",this.HandleOnSelectAllClicked),this.baseNode.active=!1,this.fishTypeSelectedCallback=e;for(var t=0;t<this.nodes.length;t++)this.nodes[t].Setup(this.HandleOnNodeClicked);this.node.active=!0},t.prototype.Show=function(){this.baseNode.active=!0,this.blockerNode.active=!0,this.baseNode.scale=0,cc.tween(this.baseNode).to(.35,{scale:1},{easing:"quadOut"}).start(),this.baseNode.position=this.node.convertToNodeSpaceAR(this.originNode.parent.convertToWorldSpaceAR(this.originNode.position)),cc.tween(this.baseNode).to(.35,{position:cc.Vec3.ZERO},{easing:"quadOut"}).start(),-1!=this.hidingTimeOutTracker&&(clearTimeout(this.hidingTimeOutTracker),this.hidingTimeOutTracker=-1);for(var e=0;e<this.nodes.length;e++)this.nodes[e].SetActive(!1)},t.prototype.Hide=function(){var e=this;this.blockerNode.active=!1,cc.tween(this.baseNode).to(.35,{scale:0},{easing:"quadIn"}).start(),cc.tween(this.baseNode).to(.35,{position:this.node.convertToNodeSpaceAR(this.originNode.parent.convertToWorldSpaceAR(this.originNode.position))},{easing:"quadIn"}).start(),-1!=this.hidingTimeOutTracker&&clearTimeout(this.hidingTimeOutTracker),this.hidingTimeOutTracker=setTimeout(function(){e.baseNode.active=!1,e.hidingTimeOutTracker=-1},500)},__decorate([a(cc.Node)],t.prototype,"originNode",void 0),__decorate([a(cc.Node)],t.prototype,"baseNode",void 0),__decorate([a(cc.Node)],t.prototype,"blockerNode",void 0),__decorate([a(i.default)],t.prototype,"nodes",void 0),__decorate([a(cc.Button)],t.prototype,"closeButton",void 0),__decorate([a(cc.Button)],t.prototype,"startButton",void 0),__decorate([a(cc.Button)],t.prototype,"selectAllButton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./FishWarUtilityAutoPanelNode":"FishWarUtilityAutoPanelNode"}],FishWarUtilityController:[function(e,t,o){"use strict";cc._RF.push(t,"de81bZjvCdOyKQQLx/Pt0hL","FishWarUtilityController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishWarUtilityNode"),n=e("../../../FishCore/Scripts/Player/Seat/SeatController"),r=e("../Weapon/FishWarCommonGun"),a=e("../Player/FishWarClickField"),s=e("./FishWarUtilityAimFishIndicator"),c=e("./FishWarUtilityAutoPanel"),l=e("../../../FishCore/Scripts/Audio/AudioController"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodes=[],t.seatController=void 0,t.clickField=void 0,t.HandleOnNodeClicked=function(e){var o=!t.GetNode(e).IsActivate;switch(l.default.Instance.PlayAudioWithKey("ButtonClick"),e){case i.FishWarUtilityNodeType.Double:t.GetNode(i.FishWarUtilityNodeType.Lightning).IsActivate&&t.HandleLightningActivation(!1),t.HandleDoubleGunActivation(o);break;case i.FishWarUtilityNodeType.Aim:t.GetNode(i.FishWarUtilityNodeType.Auto).IsActivate&&t.HandleAutoActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Lightning).IsActivate&&t.HandleLightningActivation(!1),t.HandleAimActivation(o);break;case i.FishWarUtilityNodeType.Auto:t.GetNode(i.FishWarUtilityNodeType.Aim).IsActivate&&t.HandleAimActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Lightning).IsActivate&&t.HandleLightningActivation(!1),o?t.TriggerAutoPanel():t.HandleAutoActivation(!1);break;case i.FishWarUtilityNodeType.Lightning:t.GetNode(i.FishWarUtilityNodeType.Auto).IsActivate&&t.HandleAutoActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Aim).IsActivate&&t.HandleAimActivation(!1),t.GetNode(i.FishWarUtilityNodeType.Double).IsActivate&&t.HandleDoubleGunActivation(!1),t.HandleLightningActivation(o)}},t.aimFishIndicator=void 0,t.HandleOnClickFieldLockFishStarted=function(e){t.aimFishIndicator.Active(e)},t.HandleOnClickFieldLockFishFinished=function(){t.aimFishIndicator.DeActive()},t.autoPanel=void 0,t.HandleAutoShootFishesSelected=function(e){t.HandleAutoActivation(!0,e)},t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].Setup(this.HandleOnNodeClicked),this.nodes[e].SetActivation(!1);this.clickField.RegisterCallbacks(this.HandleOnClickFieldLockFishStarted,this.HandleOnClickFieldLockFishFinished),this.SetupAim(),this.SetupAuto()},t.prototype.HandleDoubleGunActivation=function(e){var t=this.seatController.GetLocalPlayerSeatNode().WeaponHolder.GetCurrentWeapon().getComponent(r.default);null!=t&&(t.SetDoubleMode(e),this.GetNode(i.FishWarUtilityNodeType.Double).SetActivation(e))},t.prototype.SetupAim=function(){this.aimFishIndicator.Setup()},t.prototype.HandleAimActivation=function(e){e?this.clickField.SetMode(a.FishWarClickFieldMode.Aim):this.clickField.SetMode(a.FishWarClickFieldMode.Normal),this.GetNode(i.FishWarUtilityNodeType.Aim).SetActivation(e)},t.prototype.SetupAuto=function(){this.autoPanel.Setup(this.HandleAutoShootFishesSelected)},t.prototype.TriggerAutoPanel=function(){this.autoPanel.Show()},t.prototype.HandleAutoActivation=function(e,t){e?this.clickField.SetMode(a.FishWarClickFieldMode.Auto,t):this.clickField.SetMode(a.FishWarClickFieldMode.Normal),this.GetNode(i.FishWarUtilityNodeType.Auto).SetActivation(e)},t.prototype.HandleLightningActivation=function(e){this.GetNode(i.FishWarUtilityNodeType.Lightning).SetActivation(e),e?this.clickField.SetMode(a.FishWarClickFieldMode.Lightning):this.clickField.SetMode(a.FishWarClickFieldMode.Normal)},t.prototype.GetNode=function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].NodeType==e)return this.nodes[t];return null},__decorate([d(i.default)],t.prototype,"nodes",void 0),__decorate([d(n.default)],t.prototype,"seatController",void 0),__decorate([d(a.default)],t.prototype,"clickField",void 0),__decorate([d(s.default)],t.prototype,"aimFishIndicator",void 0),__decorate([d(c.default)],t.prototype,"autoPanel",void 0),t=__decorate([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/Seat/SeatController":"SeatController","../Player/FishWarClickField":"FishWarClickField","../Weapon/FishWarCommonGun":"FishWarCommonGun","./FishWarUtilityAimFishIndicator":"FishWarUtilityAimFishIndicator","./FishWarUtilityAutoPanel":"FishWarUtilityAutoPanel","./FishWarUtilityNode":"FishWarUtilityNode"}],FishWarUtilityLightningCollider:[function(e,t,o){"use strict";cc._RF.push(t,"9bd7d48nSxOiK3biLeWQvBN","FishWarUtilityLightningCollider"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/FishCollider"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hitInterval=.2,t.collider=void 0,t.ableToCommitHit=!0,t.hittingFishCollider=null,t}return __extends(t,e),t.prototype.onCollisionEnter=function(e,t){if("Fish"==e.node.group){var o=e.node.getComponent(i.default);null!=o&&o.BindedFish.IsAlive&&o!=this.hittingFishCollider&&(this.hittingFishCollider=o,this.ExecuteHit())}},t.prototype.onCollisionExit=function(e,t){(this.hittingFishCollider=null)||e==this.hittingFishCollider.Collider&&(this.hittingFishCollider=null)},t.prototype.update=function(e){this.ableToCommitHit&&null!=this.hittingFishCollider&&this.ExecuteHit()},t.prototype.ExecuteHit=function(){var e=this;this.ableToCommitHit&&(this.hittingFishCollider.BindedFish.TriggerCustomEvent("LightningHit"),this.ableToCommitHit=!1,setTimeout(function(){e.ableToCommitHit=!0},1e3*this.hitInterval))},__decorate([a],t.prototype,"hitInterval",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/FishCollider":"FishCollider"}],FishWarUtilityNode:[function(e,t,o){"use strict";cc._RF.push(t,"a05c8lWOZ1M16GcySohWWCH","FishWarUtilityNode"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass,a=n.property;(function(e){e[e.Aim=0]="Aim",e[e.Auto=1]="Auto",e[e.Double=2]="Double",e[e.Lightning=3]="Lightning"})(i=o.FishWarUtilityNodeType||(o.FishWarUtilityNodeType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeType=i.Aim,t.buttonComponent=void 0,t.baseNode=void 0,t.activatedNode=void 0,t.activateFlag=!1,t.onNodeClickedCallback=void 0,t.HandleOnButtonClicked=function(){t.onNodeClickedCallback(t.nodeType)},t}return __extends(t,e),Object.defineProperty(t.prototype,"NodeType",{get:function(){return this.nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsActivate",{get:function(){return this.activateFlag},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.buttonComponent.node.on("click",this.HandleOnButtonClicked),this.onNodeClickedCallback=e},t.prototype.SetActivation=function(e){this.baseNode.opacity=e?0:255,this.activatedNode.opacity=e?255:0,this.activateFlag=e},__decorate([a({type:cc.Enum(i)})],t.prototype,"nodeType",void 0),__decorate([a(cc.Button)],t.prototype,"buttonComponent",void 0),__decorate([a(cc.Node)],t.prototype,"baseNode",void 0),__decorate([a(cc.Node)],t.prototype,"activatedNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],FishWarWinIndicatorGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"6919cnq7qBEUJ9NLMFXGnQ5","FishWarWinIndicatorGenerator"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/WinIndicator/SeatWinIndicatorGenerator"),n=e("../../../FishCore/Scripts/Audio/AudioController"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioController=void 0,t.onSpawnAudioClip=void 0,t.duplicateGap=50,t}return __extends(t,e),t.prototype.OnIndiactorSpawned=function(e,t,o){for(var i=0,n=0;n<this.node.childrenCount;n++)!0===this.node.children[n].active&&i++;var r=0;for(n=this.node.childrenCount-1;n>=0;n--)!0===this.node.children[n].active&&(r<i-1&&cc.tween(this.node.children[n]).to(.2,{position:new cc.Vec2(0,r*this.duplicateGap)}).start(),r++);o&&this.audioController.PlayAudioWithClip(this.onSpawnAudioClip,!1)},__decorate([s(n.default)],t.prototype,"audioController",void 0),__decorate([s({type:cc.AudioClip})],t.prototype,"onSpawnAudioClip",void 0),__decorate([s],t.prototype,"duplicateGap",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../../FishCore/Scripts/Audio/AudioController":"AudioController","../../../FishCore/Scripts/Player/Seat/WinIndicator/SeatWinIndicatorGenerator":"SeatWinIndicatorGenerator"}],FishWarWinIndicatorNode:[function(e,t,o){"use strict";cc._RF.push(t,"3fb49WGAaJKvKNdUi6DjAoh","FishWarWinIndicatorNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Player/Seat/WinIndicator/BaseSeatWinIndicatorNode"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=void 0,t.skeleton=void 0,t.amountLabels=[],t}return __extends(t,e),t.prototype.OnSpawnIndicator=function(e,t){for(var o=0;o<this.amountLabels.length;o++)this.amountLabels[o].string=e.FishStatus.PayoutAmount.toString();this.animation.play("Enter"),this.skeleton.setAnimation(0,"catch_effect_"+(e.TargetFish.FishType-1),!1)},__decorate([a(cc.Animation)],t.prototype,"animation",void 0),__decorate([a(sp.Skeleton)],t.prototype,"skeleton",void 0),__decorate([a(cc.Label)],t.prototype,"amountLabels",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Player/Seat/WinIndicator/BaseSeatWinIndicatorNode":"BaseSeatWinIndicatorNode"}],FixPointDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"ec3662ojbNOy5UfhzMBvb2S","FixPointDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(){function e(){this.totalDuration=1,this.pointHolder=void 0}return __decorate([a(Number)],e.prototype,"totalDuration",void 0),__decorate([a(cc.Node)],e.prototype,"pointHolder",void 0),e=__decorate([r("FixPointSceneRouteData")],e)}();o.FixPointSceneRouteData=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneRouteData=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.sceneRouteData.length;t++)e.push(new i.CapturedRouteData(t,this.sceneRouteData[t].totalDuration,this.sceneRouteData[t].pointHolder.children));return e},__decorate([a(s)],t.prototype,"sceneRouteData",void 0),t=__decorate([r],t)}(i.default);o.default=c,cc._RF.pop()},{"./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],GameController:[function(e,t,o){"use strict";cc._RF.push(t,"881eakuUTtB5qErmpUlFENx","GameController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Network/NetworkGameDataController"),n=e("./FishLogManager"),r=e("../Loading/LoadingController"),a=e("../Player/PlayerManager"),s=e("./GameStageController"),c=e("../Fish/FishManager"),l=e("../Utils/CommonDataHelper"),u=e("../Background/BaseBackgroundController"),p=e("../Menu/BaseMenuController"),d=e("../Audio/AudioController"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameStageController=void 0,t.networkDataController=void 0,t.startGameData=null,t.OnConnectedReceived=function(e){e.Credit<10&&console.warn("less than minimum buy in credit!")},t.OnTableListReceived=function(e){null==t.startGameData?t.networkDataController.SendJoinGameRequest():t.networkDataController.SendJoinGameRequest(t.startGameData.TableData.TableId)},t.OnStartGameReceived=function(e){t.startGameData=e,t.playerManager.HandleExistedPlayers(e.ExistSeatInfo),t.backgroundController.HandleChangeRound(e.GameData.MapId),t.HandlePostGameStartFishSetup(e),t.networkDataController.SendSeatInRequest()},t.OnSeatInReceived=function(e){t.playerManager.HandleSeatInSuccess(e),t.HideLoading()},t.OnRoundUpdateReceived=function(e){2==e.RoundNumber&&(t.fishManager.SetTimeOutStarted(),t.backgroundController.HandlePreChangeRound())},t.OnFireWeaponReceived=function(e){t.playerManager.HandleFireRequest(e,!1)},t.OnFishStatusReceived=function(e){t.playerManager.HandleFishStatusInfoUpdate(e),t.fishManager.UpdateFishStatus(e)},t.OnFishListDataReceived=function(e){0==e.GameData.GameStatus?(t.fishManager.SetTimeOutCompleted(),t.backgroundController.HandleChangeRound(e.GameData.MapId),t.fishManager.ResetAndApplyFishGroupData(e.GameData.MaxGameTime-e.GameData.RemainingGametime,e.FishGroupInfos)):1==e.GameData.GameStatus&&t.fishManager.ApplyFishGroupDataToPending(e.FishGroupInfos)},t.OnWeaponUpdatedReceived=function(e){t.playerManager.HandleWeaponUpdated(e)},t.RequestFireWeapon=function(e){var o=l.ConstructLocalShootId();e.AssignShootId(o),t.networkDataController.SendFireRequest(e),t.playerManager.HandleFireRequest(new i.NetworkFireWeaponInfo(e.PlayerId,e.WeaponType,e.WeaponAngle,e.BetValue,o,-1,e.ExtraParameter),!0)},t.RequestHit=function(e){t.networkDataController.SendHitRequest(e)},t.loadingController=void 0,t.playerManager=void 0,t.OnReceivePlayerLeave=function(e){t.playerManager.HandlePlayerLeave(e)},t.fishManager=void 0,t.backgroundController=void 0,t.menuController=void 0,t.audioController=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.CocosRelatedSetup(),this.SetupLogging(),this.SetupAudio(),this.SetupMenu(),this.SetupBackground(),this.SetupGameStage(),this.SetupPlayer(),this.SetupFish(),this.SetupNetworkData(),this.SetupLoading()},t.prototype.CocosRelatedSetup=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.SetupGameStage=function(){void 0!=this.gameStageController&&null!=this.gameStageController?this.gameStageController.Setup():n.default.Instance.Error(this,"gameStageController is missing")},t.prototype.SetupNetworkData=function(){void 0!=this.networkDataController&&null!=this.networkDataController?(this.networkDataController.Setup(),this.networkDataController.RegisterConnectedCallback(this.OnConnectedReceived),this.networkDataController.RegisterTableListCallback(this.OnTableListReceived),this.networkDataController.RegisterStartGameCallback(this.OnStartGameReceived),this.networkDataController.RegisterSeatInRequestCallback(this.OnSeatInReceived),this.networkDataController.RegisterRoundUpdateRequestCallback(this.OnRoundUpdateReceived),this.networkDataController.RegisterWeaponFireRequestCallback(this.OnFireWeaponReceived),this.networkDataController.RegisterFishStatusCallback(this.OnFishStatusReceived),this.networkDataController.RegisterPlayerLeaveCallback(this.OnReceivePlayerLeave),this.networkDataController.RegisterFishListCallback(this.OnFishListDataReceived),this.networkDataController.RegisterWeaponUpdatedCallback(this.OnWeaponUpdatedReceived)):n.default.Instance.Error(this,"networkDataController is missing")},t.prototype.SetupLogging=function(){n.default.Setup()},t.prototype.SetupLoading=function(){void 0!=this.loadingController&&null!=this.loadingController?this.loadingController.ShowLoading():n.default.Instance.Error(this,"loadingController is missing")},t.prototype.HideLoading=function(){this.loadingController.HideLoading()},t.prototype.SetupPlayer=function(){void 0!=this.playerManager&&null!=this.playerManager?(this.playerManager.Setup(),this.playerManager.RegisterRequestFireAction(this.RequestFireWeapon),this.playerManager.RegisterRequestHitAction(this.RequestHit)):n.default.Instance.Error(this,"playerManager is missing")},t.prototype.SetupFish=function(){void 0!=this.fishManager&&null!=this.fishManager||n.default.Instance.Error(this,"fishManager is missing"),this.fishManager.Setup()},t.prototype.HandlePostGameStartFishSetup=function(e){this.fishManager.SetupTime(e.GameData.RemainingGametime,e.GameData.MaxGameTime),this.fishManager.ApplyFishGroupDataToPending(e.ExistFishGroupInfo)},t.prototype.SetupBackground=function(){void 0!=this.backgroundController&&null!=this.backgroundController?this.backgroundController.Setup():n.default.Instance.Error(this,"backgroundController is missing")},t.prototype.SetupMenu=function(){void 0!=this.menuController&&null!=this.menuController?this.menuController.Setup():n.default.Instance.Error(this,"menuController is missing")},t.prototype.SetupAudio=function(){void 0!=this.audioController&&null!=this.audioController?this.audioController.Setup():n.default.Instance.Error(this,"audioController is missing")},__decorate([y(s.default)],t.prototype,"gameStageController",void 0),__decorate([y(i.default)],t.prototype,"networkDataController",void 0),__decorate([y(r.default)],t.prototype,"loadingController",void 0),__decorate([y(a.default)],t.prototype,"playerManager",void 0),__decorate([y(c.default)],t.prototype,"fishManager",void 0),__decorate([y(u.BaseBackgroundController)],t.prototype,"backgroundController",void 0),__decorate([y(p.default)],t.prototype,"menuController",void 0),__decorate([y(d.default)],t.prototype,"audioController",void 0),t=__decorate([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../Audio/AudioController":"AudioController","../Background/BaseBackgroundController":"BaseBackgroundController","../Fish/FishManager":"FishManager","../Loading/LoadingController":"LoadingController","../Menu/BaseMenuController":"BaseMenuController","../Network/NetworkGameDataController":"NetworkGameDataController","../Player/PlayerManager":"PlayerManager","../Utils/CommonDataHelper":"CommonDataHelper","./FishLogManager":"FishLogManager","./GameStageController":"GameStageController"}],GameStageController:[function(e,t,o){"use strict";cc._RF.push(t,"1be4e17rN1G25KUSBrS9c/z","GameStageController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishLogManager"),n=e("../Fish/FishCollider"),r=e("./Event"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(){function e(e){this.isGameWorldReverse=!1,this.gameWorldOffset=cc.Vec2.ZERO,this.gameWorldOffset=e}return Object.defineProperty(e.prototype,"IsGameWorldReverse",{get:function(){return this.isGameWorldReverse},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GameWorldOffset",{get:function(){return this.gameWorldOffset},enumerable:!0,configurable:!0}),e}();o.GameStageData=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameWorldCanvas=void 0,t.stageData=void 0,t.collider=void 0,t.onStageFishColliders=[],t}var o;return __extends(t,e),o=t,Object.defineProperty(t.prototype,"StageData",{get:function(){return this.stageData},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){void 0===o.Instance?(o.Instance=this,void 0===this.gameWorldCanvas&&i.default.Instance.Error(this,"gameWorldCanvas is missing!"),this.stageData=new l(new cc.Vec2(this.gameWorldCanvas.node.position.x,this.gameWorldCanvas.node.position.y)),this.collider=this.getComponent(cc.BoxCollider),null!=this.collider?(this.collider.size.width=this.node.width,this.collider.size.height=this.node.height,this.SetupFishColliderTracking()):i.default.Instance.Error(this,"collider is missing!")):i.default.Instance.Error(this,"Trying to setup twice!")},t.prototype.CalculatePositionInGameStage=function(e){return e.convertToWorldSpaceAR(cc.Vec3.ZERO).sub(this.gameWorldCanvas.node.position)},t.prototype.SetupFishColliderTracking=function(){this.onStageFishColliders=[]},t.prototype.onCollisionEnter=function(e,t){if("Fish"==e.node.group){var o=e.node.getComponent(n.default);null!=o&&this.HandleOnFishColliderEnterStage(o)}},t.prototype.onCollisionExit=function(e,t){if("Fish"==e.node.group){var o=e.node.getComponent(n.default);null!=o&&this.HandleOnFishColliderExitStage(o)}},t.prototype.GetOnStageFishCollider=function(e){for(var t=0;t<this.onStageFishColliders.length;t++)if(this.onStageFishColliders[t].BindedFish.FishType==e)return this.onStageFishColliders[t];return null},t.prototype.HandleOnFishColliderEnterStage=function(e){this.onStageFishColliders.indexOf(e)>=0||(this.onStageFishColliders.push(e),dispatchEvent(new CustomEvent(r.FishEvent.Fish_Collider_EnterGameStage,new r.FishEventInit(e))))},t.prototype.HandleOnFishColliderExitStage=function(e){for(var t=0;t<this.onStageFishColliders.length;t++)if(this.onStageFishColliders[t]==e){this.onStageFishColliders.splice(t,1),dispatchEvent(new CustomEvent(r.FishEvent.Fish_Collider_ExitGameStage,new r.FishEventInit(e)));break}},__decorate([c(cc.Canvas)],t.prototype,"gameWorldCanvas",void 0),t=o=__decorate([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Fish/FishCollider":"FishCollider","./Event":"Event","./FishLogManager":"FishLogManager"}],GenericDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"8c0b3P4MJNPupszhFzlwm9S","GenericDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../RouteData/RouteLogic/RouteGenericLogic"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.routeDatas=[],t}return __extends(t,e),t.prototype.CaptureRouteData=function(){for(var e=[],t=0;t<this.routeDatas.length;t++){for(var o=0,n=this.routeDatas[t].ActionDatas,r=0;r<n.length;r++)o+=n[r].Duration;e.push(new i.CapturedRouteData(t,o,this.routeDatas[t]))}return e},__decorate([s(n.GenericRouteData)],t.prototype,"routeDatas",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../RouteData/RouteLogic/RouteGenericLogic":"RouteGenericLogic","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],Hiter:[function(e,t,o){"use strict";cc._RF.push(t,"943b8cHC0FEM6sgX1Ucu/6c","Hiter"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=(i.ccclass,i.property,function(){return function(){}}());o.default=n,cc._RF.pop()},{}],LeftRightPositionDrivenDirectionUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"cca87HKfg9PbrLy6RUNgvhX","LeftRightPositionDrivenDirectionUpdater"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastPosition=void 0,t}return __extends(t,e),t.prototype.update=function(e){if(void 0!==this.lastPosition){var t=this.node.position.x-this.lastPosition.x;t<0?this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX):t>0&&this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX)}this.lastPosition=this.node.position},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],LinearDataCapturer:[function(e,t,o){"use strict";cc._RF.push(t,"38febd1pOlLmYrLRRwE3g5v","LinearDataCapturer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftPoint=void 0,t.rightPoint=void 0,t.topPoint=void 0,t.btmPoint=void 0,t.verticalSegmentCount=3,t.horizontalSegmentCount=5,t.pointSpacing=2,t.cornerCount=2,t}return __extends(t,e),t.prototype.CaptureRouteData=function(){if(void 0!==this.leftPoint)if(void 0!==this.rightPoint)if(void 0!==this.topPoint){if(void 0!==this.btmPoint){var e=[];e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.rightPoint.position])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.leftPoint.position])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.btmPoint.position])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.topPoint.position]));for(var t=0;t<=this.verticalSegmentCount;t++){var o=new cc.Vec3(0,t*this.pointSpacing,0);if(0==t){for(var r=0;r<=this.horizontalSegmentCount;r++){var a=new cc.Vec3(r*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.topPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.btmPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.topPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.btmPoint.position.sub(a)]))}for(var s=1;s<=this.verticalSegmentCount;s++){var c=new cc.Vec3(0,s*this.pointSpacing,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.rightPoint.position.add(c)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position,this.rightPoint.position.sub(c)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.leftPoint.position.add(c)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position,this.leftPoint.position.sub(c)]))}}else{for(r=0;r<=this.horizontalSegmentCount;r++){a=new cc.Vec3(r*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.add(o),this.btmPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.sub(o),this.topPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.add(o),this.btmPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.sub(o),this.topPoint.position.sub(a)]))}for(s=-this.verticalSegmentCount;s<=this.verticalSegmentCount;s++)if(t<=this.verticalSegmentCount-this.cornerCount||s>=this.cornerCount-this.verticalSegmentCount){c=new cc.Vec3(0,s*this.pointSpacing,0);e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.add(o),this.rightPoint.position.add(c)])),e.push(new i.CapturedRouteData(e.length,0,[this.leftPoint.position.sub(o),this.rightPoint.position.add(c)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.add(o),this.leftPoint.position.add(c)])),e.push(new i.CapturedRouteData(e.length,0,[this.rightPoint.position.sub(o),this.leftPoint.position.add(c)]))}}}for(r=0;r<=this.horizontalSegmentCount;r++){a=new cc.Vec3(r*this.pointSpacing,0,0);if(0==r){for(t=0;t<=this.verticalSegmentCount;t++)e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.leftPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.rightPoint.position.sub(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.leftPoint.position.add(a)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.rightPoint.position.add(a)]));for(var l=1;l<=this.horizontalSegmentCount;l++){var u=new cc.Vec3(l*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.btmPoint.position.add(u)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position,this.btmPoint.position.sub(u)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.topPoint.position.add(u)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position,this.topPoint.position.sub(u)]))}}else{for(t=0;t<=this.verticalSegmentCount;t++){o=new cc.Vec3(0,t*this.pointSpacing,0);e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.add(a),this.leftPoint.position.sub(o)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.sub(a),this.rightPoint.position.sub(o)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.add(a),this.leftPoint.position.add(o)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.sub(a),this.rightPoint.position.add(o)]))}for(l=-this.horizontalSegmentCount;l<=this.horizontalSegmentCount;l++)if(r<=this.horizontalSegmentCount-this.cornerCount||l>=this.cornerCount-this.horizontalSegmentCount){u=new cc.Vec3(l*this.pointSpacing,0,0);e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.add(a),this.btmPoint.position.add(u)])),e.push(new i.CapturedRouteData(e.length,0,[this.topPoint.position.sub(a),this.btmPoint.position.add(u)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.add(a),this.topPoint.position.add(u)])),e.push(new i.CapturedRouteData(e.length,0,[this.btmPoint.position.sub(a),this.topPoint.position.add(u)]))}}}return e}n.default.Instance.Error(this,"btmPoint is missing!")}else n.default.Instance.Error(this,"topPoint is missing!");else n.default.Instance.Error(this,"rightPoint is missing!");else n.default.Instance.Error(this,"leftPoint is missing!")},__decorate([s(cc.Node)],t.prototype,"leftPoint",void 0),__decorate([s(cc.Node)],t.prototype,"rightPoint",void 0),__decorate([s(cc.Node)],t.prototype,"topPoint",void 0),__decorate([s(cc.Node)],t.prototype,"btmPoint",void 0),__decorate([s],t.prototype,"verticalSegmentCount",void 0),__decorate([s],t.prototype,"horizontalSegmentCount",void 0),__decorate([s],t.prototype,"pointSpacing",void 0),__decorate([s],t.prototype,"cornerCount",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],LoadingController:[function(e,t,o){"use strict";cc._RF.push(t,"0e087+ppidJV66zcb7z1GAl","LoadingController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],LongWangGroupExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"9157aq4UsRNupVzqt2v12BU","LongWangGroupExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../FishCore/Scripts/Fish/SpecialGroup/ChildNodeFormationRouteSpecialGroupExecutor"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseVisualSkeleton=void 0,t}return __extends(t,e),t.prototype.OnHandleGeneratedFishes=function(t,o){e.prototype.OnHandleGeneratedFishes.call(this,t,o),this.baseVisualSkeleton.setAnimation(0,"wait",!0)},__decorate([a(sp.Skeleton)],t.prototype,"baseVisualSkeleton",void 0),t=__decorate([r],t)}(i.default);o.default=s,cc._RF.pop()},{"../../../FishCore/Scripts/Fish/SpecialGroup/ChildNodeFormationRouteSpecialGroupExecutor":"ChildNodeFormationRouteSpecialGroupExecutor"}],NetworkGameDataController:[function(e,t,o){"use strict";cc._RF.push(t,"2b912U3uLNE7Y3gUndKPoeD","NetworkGameDataController"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass;n.property;(function(e){e[e.Lobby_TableList=101]="Lobby_TableList",e[e.Lobby_TableRejectJoin=103]="Lobby_TableRejectJoin",e[e.Lobby_TableUpdate=104]="Lobby_TableUpdate",e[e.Lobby_LobbyMessage=105]="Lobby_LobbyMessage",e[e.Lobby_LobbyState=106]="Lobby_LobbyState",e[e.System_Connected=201]="System_Connected",e[e.System_Pong=202]="System_Pong",e[e.System_PlayerUpdated=203]="System_PlayerUpdated",e[e.System_SystemMaintainance=204]="System_SystemMaintainance",e[e.InGame_StartGame=301]="InGame_StartGame",e[e.InGame_SeatIn=302]="InGame_SeatIn",e[e.InGame_RoundUpdate=303]="InGame_RoundUpdate",e[e.InGame_WeaponFire=304]="InGame_WeaponFire",e[e.InGame_FishStatus=305]="InGame_FishStatus",e[e.InGame_PlayerLeave=306]="InGame_PlayerLeave",e[e.InGame_FishList=307]="InGame_FishList",e[e.InGame_WeaponUpdated=309]="InGame_WeaponUpdated"})(i=o.NetworkGameDataRequestType||(o.NetworkGameDataRequestType={}));var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.networkConnectedInfo=void 0,t.callbackDictionary=[],t}return __extends(t,e),t.prototype.Setup=function(){this.SetupNetworkData(),this.SetupCallbacks()},t.prototype.onLoginSuccess=function(){},t.prototype.onConnectWsSuccess=function(){},t.prototype.onVerifySuccess=function(){},t.prototype.onCheckVersionFail=function(){},t.prototype.onLoginFail=function(e){},t.prototype.onConnectWsFail=function(){},t.prototype.onVerifyFail=function(){},t.prototype.onDisconnect=function(e,t){},t.prototype.onReceiveMsg=function(e){var t=JSON.parse(e);switch(t.id){case"0":this.ProcessReceivedSystemData(t);break;case"1":this.ProcessReceivedLobbyData(t);break;case"2":console.warn(e),this.ProcessReceivedInGameData(t)}},t.prototype.processLobbyIncomingMessage=function(e){var t=e.actionId;"1"==t?this.onReceiveTableList(e):"3"==t?this.onReceiveTableRejectJoin(e):"4"==t?this.onReceiveTableUpdate(e):"5"==t?this.onReceiveLobbyMessage(e):"6"==t&&this.onReceiveLobbyState(e)},t.prototype.onReceiveTableList=function(e){console.warn("receive table list? do something?")},t.prototype.onReceiveTableRejectJoin=function(e){var t=e.eventData;console.warn("onReceiveTableRejectJoin? do something?"+t)},t.prototype.onReceiveTableUpdate=function(e){},t.prototype.onReceiveLobbyMessage=function(e){},t.prototype.onReceiveLobbyState=function(e){console.warn("on receive lobby stage? do something?"+e)},t.prototype.SetupNetworkData=function(){DataManager.registerListener(this),DataManager.loginToToken("31e067e518115b79c9298ef620a597ae","14.102.151.250",5840)},t.prototype.ProcessReceivedSystemData=function(e){switch(e.actionId){case"1":this.networkConnectedInfo=new c(e.eventData),this.HandlePostRequestCompleteCallback(i.System_Connected,this.networkConnectedInfo);break;case"2":console.warn("System_Pong"),this.HandlePostRequestCompleteCallback(i.System_Pong,e.eventData);break;case"3:":console.warn("System_PlayerUpdated"),this.HandlePostRequestCompleteCallback(i.System_PlayerUpdated,e.eventData);break;case"4":console.warn("System_SystemMaintainance"),this.HandlePostRequestCompleteCallback(i.System_SystemMaintainance,e.eventData)}},t.prototype.ProcessReceivedLobbyData=function(e){switch(e.actionId){case"1":this.HandlePostRequestCompleteCallback(i.Lobby_TableList,e.eventData);break;case"3":console.warn("Lobby_TableRejectJoin"),this.HandlePostRequestCompleteCallback(i.Lobby_TableRejectJoin,e.eventData);break;case"4:":console.warn("Lobby_TableUpdate"),this.HandlePostRequestCompleteCallback(i.Lobby_TableUpdate,e.eventData);break;case"5":console.warn("Lobby_LobbyMessage"),this.HandlePostRequestCompleteCallback(i.Lobby_LobbyMessage,e.eventData);break;case"6":console.warn("Lobby_LobbyState"),this.HandlePostRequestCompleteCallback(i.Lobby_LobbyState,e.eventData)}},t.prototype.ProcessReceivedInGameData=function(e){switch(e.actionId){case"1":this.HandlePostRequestCompleteCallback(i.InGame_StartGame,e.eventData);break;case"2":this.HandlePostRequestCompleteCallback(i.InGame_SeatIn,e.eventData);break;case"3":this.HandlePostRequestCompleteCallback(i.InGame_RoundUpdate,e.eventData);break;case"4":this.HandlePostRequestCompleteCallback(i.InGame_WeaponFire,e.eventData);break;case"5":this.HandlePostRequestCompleteCallback(i.InGame_FishStatus,e.eventData);break;case"6":this.HandlePostRequestCompleteCallback(i.InGame_PlayerLeave,e.eventData);break;case"7":this.HandlePostRequestCompleteCallback(i.InGame_FishList,e.eventData);break;case"9":this.HandlePostRequestCompleteCallback(i.InGame_WeaponUpdated,e.eventData)}},t.prototype.SendJoinGameRequest=function(e){e?DataManager.sendSocketData("1","1","1",e.toString(),null):DataManager.sendSocketData("1","1","1","-1",null)},t.prototype.SendSeatInRequest=function(){DataManager.sendSocketData("2","1",null,null,null)},t.prototype.SendFireRequest=function(e){DataManager.sendSocketData2("2","4",e.WeaponAngle.toString(),e.WeaponType.toString(),e.BetValue.toString(),e.ShootId)},t.prototype.SendHitRequest=function(e){for(var t="[",o=0;o<e.FishIds.length;o++)t+=e.FishIds[o].toString(),o<e.FishIds.length-1?t+=",":t+="]";DataManager.sendSocketData("2","5",e.ShootId,t,null)},t.prototype.SetupCallbacks=function(){},t.prototype.RegisterRequestCallback=function(e,t){this.callbackDictionary.push(new s(e,t))},t.prototype.HandlePostRequestCompleteCallback=function(e,t){for(var o=0;o<this.callbackDictionary.length;o++)this.callbackDictionary[o].IsRequestType(e)&&this.callbackDictionary[o].FireCallback(t)},t.prototype.RegisterConnectedCallback=function(e){this.RegisterRequestCallback(i.System_Connected,function(t){e(t)})},t.prototype.RegisterTableListCallback=function(e){this.RegisterRequestCallback(i.Lobby_TableList,function(t){e(new l(t))})},t.prototype.RegisterStartGameCallback=function(e){this.RegisterRequestCallback(i.InGame_StartGame,function(t){var o=void 0,i=new p(t[0]),n=[],r=[];if(-1===t[3])o=new d(0,60,-1);else{for(var a=t[3],s=a[0],c=(o=new d(s[0],s[1],s[2])).MaxGameTime-o.RemainingGametime,l=a[1],h=0;h<l.length;h++){var f=l[h];f[3]>c&&n.push(new v(f))}var y=t[2];if(-1!=y)for(h=0;h<y.length;h++)r.push(y[h])}console.error(o.MapId);var g=new u(i,o,r,n);e(g)})},t.prototype.RegisterSeatInRequestCallback=function(e){this.RegisterRequestCallback(i.InGame_SeatIn,function(t){var o=t[1];e(new h(o))})},t.prototype.RegisterRoundUpdateRequestCallback=function(e){this.RegisterRequestCallback(i.InGame_RoundUpdate,function(t){e(new f(parseInt(t[0])))})},t.prototype.RegisterWeaponFireRequestCallback=function(e){this.RegisterRequestCallback(i.InGame_WeaponFire,function(t){e(new F(parseInt(t[0]),parseInt(t[2]),parseFloat(t[1]),parseFloat(t[3]),t[4],parseFloat(t[5]),t.length>6?JSON.parse(t[6]):void 0))})},t.prototype.RegisterFishStatusCallback=function(e){this.RegisterRequestCallback(i.InGame_FishStatus,function(t){e(new S(t))})},t.prototype.RegisterPlayerLeaveCallback=function(e){this.RegisterRequestCallback(i.InGame_PlayerLeave,function(t){e(new _(parseInt(t[0]),parseInt(t[1])))})},t.prototype.RegisterFishListCallback=function(e){this.RegisterRequestCallback(i.InGame_FishList,function(t){var o=new y(t);console.warn("--------------------------------------------------------");for(var i=0;i<o.FishGroupInfos.length;i++){console.warn("--------------------------------"),console.warn("group : "+o.FishGroupInfos[i].GroupId+" , path: "+o.FishGroupInfos[i].PathData),console.warn("---------------");for(var n=0;n<o.FishGroupInfos[i].FishInfos.length;n++)console.warn("fish : "+n+", type: "+o.FishGroupInfos[i].FishInfos[n].FishType)}console.warn("--------------------------------------------------------"),e(new y(t))})},t.prototype.RegisterWeaponUpdatedCallback=function(e){this.RegisterRequestCallback(i.InGame_WeaponUpdated,function(t){e(new b(t))})},t=__decorate([r],t)}(cc.Component);o.default=a;var s=function(){function e(e,t){this.requestType=e,this.callback=t}return e.prototype.FireCallback=function(e){this.callback(e)},e.prototype.IsRequestType=function(e){return e===this.requestType},e}(),c=function(){function e(e){this.credit=0,this.serverDateTime="",this.userName="",this.id=0,this.settings=[],this.countryCode="",this.currency="",this.baseCurrencyType=0,this.baseCurrencyRate=0,this.playerCurrencyType=0,this.playerCurrencyRate=0,this.credit=e.credit,this.serverDateTime=e.serverDateTime,this.userName=e.userName,this.id=e.id,this.countryCode=e.ctryCode,this.currency=e.currrency,this.settings=e.setting,this.baseCurrencyType=e.baseCurrType,this.baseCurrencyRate=e.baseCurrRate,this.playerCurrencyType=e.playerCurrType,this.playerCurrencyRate=e.playerCurrRate}return Object.defineProperty(e.prototype,"Credit",{get:function(){return this.credit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ServerDateTime",{get:function(){return this.serverDateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserName",{get:function(){return this.userName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Settings",{get:function(){return this.settings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CountryCode",{get:function(){return this.countryCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Currency",{get:function(){return this.currency},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BaseCurrencyType",{get:function(){return this.baseCurrencyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BaseCurrencyRate",{get:function(){return this.baseCurrencyRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerCurrencyType",{get:function(){return this.playerCurrencyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerCurrencyRate",{get:function(){return this.playerCurrencyRate},enumerable:!0,configurable:!0}),e}();o.NetworkConnectedInfo=c;var l=function(){return function(e){this.tableIds=[],this.tableIds=e}}();o.NetworkTableListInfo=l;var u=function(){function e(e,t,o,i){this.tableData=void 0,this.gameData=void 0,this.existSeatInfo=[],this.existFishGroupInfo=[],this.tableData=e,this.gameData=t,this.existSeatInfo=o,this.existFishGroupInfo=i}return Object.defineProperty(e.prototype,"TableData",{get:function(){return this.tableData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GameData",{get:function(){return this.gameData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExistSeatInfo",{get:function(){return this.existSeatInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExistFishGroupInfo",{get:function(){return this.existFishGroupInfo},enumerable:!0,configurable:!0}),e}();o.NetworkStartGameInfo=u;var p=function(){function e(e){this.tableId=0,this.tableId=e[1]}return Object.defineProperty(e.prototype,"TableId",{get:function(){return this.tableId},enumerable:!0,configurable:!0}),e}();o.NetworkTableData=p;var d=function(){function e(e,t,o){this.remainingGametime=0,this.maxGameTime=0,this.mapId=0,this.remainingGametime=e,this.maxGameTime=t,this.mapId=o}return Object.defineProperty(e.prototype,"RemainingGametime",{get:function(){return this.remainingGametime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxGameTime",{get:function(){return this.maxGameTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MapId",{get:function(){return this.mapId},enumerable:!0,configurable:!0}),e}();o.NetworkGameData=d;var h=function(){function e(e){this.playerId=e[0],this.playerName=e[1],this.weaponType=e[2],this.seatId=e[3],this.balance=e[4],this.weaponAngle=e[5],this.previousBet=e[6]}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerName",{get:function(){return this.playerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SeatId",{get:function(){return this.seatId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Balance",{get:function(){return this.balance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponAngle",{get:function(){return this.weaponAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PreviousBet",{get:function(){return this.previousBet},enumerable:!0,configurable:!0}),e}();o.NetworkSeatInfo=h;var f=function(){function e(e){this.roundNumber=-1,this.roundNumber=e}return Object.defineProperty(e.prototype,"RoundNumber",{get:function(){return this.roundNumber},enumerable:!0,configurable:!0}),e}();o.NetworkRoundUpdateInfo=f;var y=function(){function e(e){this.gameData=void 0,this.fishGroupInfos=[],this.gameData=new g(e[0]);for(var t=[],o=0;o<e[1].length;o++)t.push(new v(e[1][o]));this.fishGroupInfos=t}return Object.defineProperty(e.prototype,"GameData",{get:function(){return this.gameData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishGroupInfos",{get:function(){return this.fishGroupInfos},enumerable:!0,configurable:!0}),e}();o.NetworkFishListInfo=y;var g=function(){function e(e){this.gameStatus=-1,this.remainingGametime=0,this.maxGameTime=0,this.mapId=0,this.gameStatus=e[0],this.remainingGametime=e[1],this.maxGameTime=e[2],this.mapId=e[3]}return Object.defineProperty(e.prototype,"GameStatus",{get:function(){return this.gameStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RemainingGametime",{get:function(){return this.remainingGametime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxGameTime",{get:function(){return this.maxGameTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MapId",{get:function(){return this.mapId},enumerable:!0,configurable:!0}),e}();o.NetworkFishListGameDataInfo=g;var v=function(){function e(e){this.groupId=0,this.pathData="",this.pathOffset=cc.Vec2.ZERO,this.spawnTime=0,this.aliveDuration=0,this.fishInfos=[],this.groupId=e[0],this.pathData=e[1],this.pathOffset=e[2],this.spawnTime=e[3],this.aliveDuration=e[4];for(var t=[],o=e[5],i=0;i<o.length;i++)t.push(new m(o[i]));this.fishInfos=t}return Object.defineProperty(e.prototype,"GroupId",{get:function(){return this.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PathData",{get:function(){return this.pathData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PathOffset",{get:function(){return this.pathOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpawnTime",{get:function(){return this.spawnTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AliveDuration",{get:function(){return this.aliveDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishInfos",{get:function(){return this.fishInfos},enumerable:!0,configurable:!0}),e}();o.NetworkFishGroupInfo=v;var m=function(){function e(e){this.fishId=0,this.fishType=0,this.lifePoint=0,this.payoutAmount=0,this.specialParams=[],this.fishId=e[0],this.fishType=e[1],this.lifePoint=e[2],this.payoutAmount=e[3],this.specialParams=e[4]}return Object.defineProperty(e.prototype,"FishId",{get:function(){return this.fishId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishType",{get:function(){return this.fishType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LifePoint",{get:function(){return this.lifePoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PayoutAmount",{get:function(){return this.payoutAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpecialParams",{get:function(){return this.specialParams},enumerable:!0,configurable:!0}),e}();o.NetworkFishGroupFishInfo=m;var S=function(){function e(e){this.playerId=0,this.shootId=0,this.creditBalance=0,this.fishStatusInfo=[],this.weaponType=0,this.playerId=e[0],this.shootId=e[1],this.creditBalance=e[2];for(var t=e[3],o=[],i=0;i<t.length;i++)o.push(new C(t[i]));this.fishStatusInfo=o,this.weaponType=e[4]}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CreditBalance",{get:function(){return this.creditBalance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishStatusInfo",{get:function(){return this.fishStatusInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),e}();o.NetworkFishStatusInfo=S;var C=function(){function e(e){this.fishId=0,this.fishType=0,this.lifePoint=0,this.payoutAmount=0,this.specialParams=[],this.fishId=e[0],this.fishType=e[1],this.lifePoint=e[2],this.isAlive=1==e[3],this.payoutAmount=e[4],this.specialParams=e[5]}return Object.defineProperty(e.prototype,"FishId",{get:function(){return this.fishId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishType",{get:function(){return this.fishType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LifePoint",{get:function(){return this.lifePoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsAlive",{get:function(){return this.isAlive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PayoutAmount",{get:function(){return this.payoutAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpecialParams",{get:function(){return this.specialParams},enumerable:!0,configurable:!0}),e}();o.NetworkFishStatusFishInfo=C;var _=function(){function e(e,t){this.seatId=0,this.playerId=0,this.seatId=e,this.playerId=t}return Object.defineProperty(e.prototype,"SeatIf",{get:function(){return this.seatId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),e}();o.NetworkPlayerLeaveInfo=_;var F=function(){function e(e,t,o,i,n,r,a){this.playerId=e,this.weaponType=t,this.weaponAngle=o,this.betValue=i,this.shootId=n,this.balance=r,this.extraParameter=a}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponAngle",{get:function(){return this.weaponAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BetValue",{get:function(){return this.betValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Balance",{get:function(){return this.balance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExtraParameter",{get:function(){return this.extraParameter},enumerable:!0,configurable:!0}),e}();o.NetworkFireWeaponInfo=F;var b=function(){function e(e){this.playerId=e[0],this.weaponType=e[1]}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),e}();o.NetworkWeaponUpdatedInfo=b;var P=function(){function e(e,t,o,i,n){this.playerId=e,this.weaponType=t,this.weaponAngle=o,this.betValue=i,this.extraParameter=n}return Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this.playerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WeaponAngle",{get:function(){return this.weaponAngle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BetValue",{get:function(){return this.betValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExtraParameter",{get:function(){return this.extraParameter},enumerable:!0,configurable:!0}),e.prototype.AssignShootId=function(e){this.shootId=e},e}();o.NetworkFireWeaponRequestData=P;var R=function(){function e(e,t){this.shootId=e,this.fishIds=t}return Object.defineProperty(e.prototype,"ShootId",{get:function(){return this.shootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FishIds",{get:function(){return this.fishIds},enumerable:!0,configurable:!0}),e}();o.NetworkHitRequestData=R,cc._RF.pop()},{}],PayoutObjectController:[function(e,t,o){"use strict";cc._RF.push(t,"1e985/hwsJDQpndJF8898nn","PayoutObjectController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/Event"),n=e("./BasePayoutObject"),r=e("../../Core/FishLogManager"),a=e("../../Utils/CommonDataHelper"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPlayerPool=void 0,t.othersPlayerPool=void 0,t.involvedFishTypes=[1,2,3,4,5,6,7,8,9,10],t.payoutObjectsHolder=void 0,t.localPlayerId=-1,t.HandleOnFishDeath=function(e){if(t.IsInvolvedFishType(e.detail.TargetFish.FishType)){var o=null;if(null!=(o=e.detail.StatusInfo.PlayerId===t.localPlayerId?t.localPlayerPool.AcquireNode().getComponent(n.default):t.othersPlayerPool.AcquireNode().getComponent(n.default))){var i=e.detail.TargetFish.node.parent.convertToWorldSpaceAR(e.detail.TargetFish.node.position);o.node.setParent(t.payoutObjectsHolder),o.node.setPosition(t.payoutObjectsHolder.convertToNodeSpaceAR(i)),o.Execute(e.detail.FishStatus)}}},t}return __extends(t,e),t.prototype.Setup=function(){void 0!==this.localPlayerPool?void 0!==this.othersPlayerPool?void 0!==this.payoutObjectsHolder?(this.localPlayerPool.Setup(),this.othersPlayerPool.Setup(),addEventListener(i.FishEvent.Fish_Death,this.HandleOnFishDeath)):r.default.Instance.Error(this,"payoutObjectsHolder is missing!"):r.default.Instance.Error(this,"othersPlayerPool is missing!"):r.default.Instance.Error(this,"localPlayerPool is missing!")},t.prototype.SetLocalPlayerId=function(e){this.localPlayerId=e},t.prototype.IsInvolvedFishType=function(e){for(var t=0;t<this.involvedFishTypes.length;t++)if(this.involvedFishTypes[t]===e)return!0;return!1},__decorate([l(a.CommonNodePoolHandler)],t.prototype,"localPlayerPool",void 0),__decorate([l(a.CommonNodePoolHandler)],t.prototype,"othersPlayerPool",void 0),__decorate([l(Number)],t.prototype,"involvedFishTypes",void 0),__decorate([l(cc.Node)],t.prototype,"payoutObjectsHolder",void 0),t=__decorate([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Core/Event":"Event","../../Core/FishLogManager":"FishLogManager","../../Utils/CommonDataHelper":"CommonDataHelper","./BasePayoutObject":"BasePayoutObject"}],PlayerManager:[function(e,t,o){"use strict";cc._RF.push(t,"19023HhwbNCqahmGi7K62A0","PlayerManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Seat/SeatController"),n=e("./ClickField"),r=e("../Core/FishLogManager"),a=e("./Payout/PayoutObjectController"),s=e("./CollectCoin/CollectCoinController"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPlayerSeatIndex=-1,t.RequestFire=function(e){void 0!==t.requestFireAction&&t.requestFireAction(e)},t.requestHitAction=void 0,t.RequestHit=function(e){void 0!==t.requestHitAction&&t.requestHitAction(e)},t.clickField=void 0,t.HandleClickFieldPressed=function(e){t.seatController.HandlePlayerPressOnClickField(e)},t.HandleClickFieldPressing=function(e){t.seatController.HandlePlayerPressingOnClickField(e)},t.HandleClickFieldReleased=function(){t.seatController.HandlePlayerRelaseOnClickField()},t.payoutObjectController=void 0,t.collectCoinController=void 0,t}return __extends(t,e),t.prototype.Setup=function(){r.default.Instance.Log(this,"Setup Started"),this.SetupSeatController(),this.SetupClickField(),this.SetupPayoutObject(),this.SetupCollectCoin()},t.prototype.SetupSeatController=function(){null===this.seatController&&this.seatController.getComponentInChildren(i.default),this.seatController.Setup(),this.seatController.RegisterRequestFireAction(this.RequestFire),this.seatController.RegisterRequestHitAction(this.RequestHit),this.localPlayerSeatIndex=-1},t.prototype.HandleSeatInSuccess=function(e){this.localPlayerSeatIndex=e.SeatId,this.seatController.SeatIn(!0,e),this.payoutObjectController.SetLocalPlayerId(e.PlayerId)},t.prototype.HandleExistedPlayers=function(e){for(var t=0;t<e.length;t++)this.seatController.SeatIn(!1,e[t])},t.prototype.HandleFishStatusInfoUpdate=function(e){this.seatController.UpdateSeatCreditBalance(e.PlayerId,e.CreditBalance),0!=e.WeaponType&&this.seatController.HandleSeatWeaponStatusUpdate(e.PlayerId,e.WeaponType)},t.prototype.HandleWeaponUpdated=function(e){this.seatController.HandleSeatWeaponStatusUpdate(e.PlayerId,e.WeaponType)},t.prototype.HandlePlayerLeave=function(e){this.seatController.SeatOut(e)},t.prototype.RegisterRequestFireAction=function(e){this.requestFireAction=e},t.prototype.HandleFireRequest=function(e,t){this.seatController.HandleFireRequest(e,t)},t.prototype.RegisterRequestHitAction=function(e){this.requestHitAction=e},t.prototype.SetupClickField=function(){void 0===this.clickField&&r.default.Instance.Error(this,"clickField is missing!"),this.clickField.Setup(),this.clickField.RegisterOnPressed(this.HandleClickFieldPressed),this.clickField.RegisterOnClickPressing(this.HandleClickFieldPressing),this.clickField.RegisterOnRelease(this.HandleClickFieldReleased)},t.prototype.SetupPayoutObject=function(){void 0!==this.payoutObjectController?this.payoutObjectController.Setup():r.default.Instance.Error(this,"payoutObjectController is missing!")},t.prototype.SetupCollectCoin=function(){var e=this;void 0!==this.collectCoinController?(this.collectCoinController.Setup(),this.collectCoinController.RegisterSeatNodeAcquireAction(function(t){return e.seatController.GetSeatNodeByPlayerId(t)})):r.default.Instance.Error(this,"collectCoinController is missing!")},__decorate([u(i.default)],t.prototype,"seatController",void 0),__decorate([u(n.default)],t.prototype,"clickField",void 0),__decorate([u(a.default)],t.prototype,"payoutObjectController",void 0),__decorate([u(s.default)],t.prototype,"collectCoinController",void 0),t=__decorate([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","./ClickField":"ClickField","./CollectCoin/CollectCoinController":"CollectCoinController","./Payout/PayoutObjectController":"PayoutObjectController","./Seat/SeatController":"SeatController"}],PositionDrivenDirectionUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"958d8fQ9u1MPImOTY06kUOI","PositionDrivenDirectionUpdater"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turnRate=120,t.lastPosition=void 0,t.snap=!1,t}return __extends(t,e),t.prototype.update=function(e){if(void 0!==this.lastPosition){var t=this.node.angle*Math.PI/180,o=new cc.Vec2(Math.cos(t),Math.sin(t)),i=this.node.position.sub(this.lastPosition),n=new cc.Vec2(i.x,i.y).normalize();if(o.equals(n))return;var r=n.dot(o)>0?-1:1,a=this.turnRate*e,s=Math.atan2(n.y,n.x)/Math.PI*180-90;s=this.NormalizeAngle(s);var c=this.NormalizeAngle(this.node.angle%360),l=Math.abs(s-c);this.snap?(this.node.angle=-s,this.snap=!1):this.node.angle=l<a?s:this.node.angle+r*a}this.lastPosition=this.node.position},t.prototype.NormalizeAngle=function(e){return e<-180?e+360:e>=180?e-360:e},t.prototype.SetSnap=function(){this.snap=!0},__decorate([r],t.prototype,"turnRate",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],ProjectileBullet:[function(e,t,o){"use strict";cc._RF.push(t,"ba54aocfrtL7LwrSVQ07GwF","ProjectileBullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseBullet"),n=e("./BulletWallCollider"),r=e("../../../../../Fish/FishCollider"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=5,t.directionVector=cc.Vec3.ZERO,t}return __extends(t,e),t.prototype.HandleFire=function(e,t){this.node.position=e,this.node.angle=t,this.RecalculateDirectionVector()},t.prototype.PreHitVerification=function(e){return-1==this.TargetFishId||e.BindedFish.FishId==this.TargetFishId},t.prototype.update=function(e){this.node.setPosition(this.node.position.add(this.directionVector.mul(e*this.speed)))},t.prototype.RecalculateDirectionVector=function(){var e=(this.node.angle+90)/180*Math.PI;this.directionVector=new cc.Vec3(Math.cos(e),Math.sin(e),0)},t.prototype.RecalculateAngle=function(){this.node.angle=Math.atan2(this.directionVector.y,this.directionVector.x)/Math.PI*180-90},t.prototype.onCollisionEnter=function(e,t){if("Wall"==e.node.group){var o=e.node.getComponent(n.default);null!=o&&(o.ColliderType===n.BulletWallColliderType.Box_TopBtm?this.directionVector.y=-this.directionVector.y:o.ColliderType===n.BulletWallColliderType.Box_LeftRight&&(this.directionVector.x=-this.directionVector.x),this.RecalculateAngle())}else if("Fish"==e.node.group){var i=e.node.getComponent(r.default);null!=i&&this.PreHitVerification(i)&&this.NotifyHitted([i.BindedFish])}},__decorate([c],t.prototype,"speed",void 0),t=__decorate([s],t)}(i.BaseBullet);o.default=l,cc._RF.pop()},{"../../../../../Fish/FishCollider":"FishCollider","./BaseBullet":"BaseBullet","./BulletWallCollider":"BulletWallCollider"}],RouteBaseCustomExecuteLogic:[function(e,t,o){"use strict";cc._RF.push(t,"50aaeXg5l1McbOdtBpehwIo","RouteBaseCustomExecuteLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.customDuration=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"CustomDuration",{get:function(){return this.customDuration},enumerable:!0,configurable:!0}),t.prototype.HandlePreExecute=function(){this.OnPreExecute()},t.prototype.HandleApplyProgress=function(e){return this.OnApplyProgrress(e)},__decorate([r],t.prototype,"customDuration",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],RouteBezierCurveLogic:[function(e,t,o){"use strict";cc._RF.push(t,"54b66sYROlMa5upXoS2J4aG","RouteBezierCurveLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../RouteData"),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleInit=function(e,t){var o=e.RouteData;void 0===o||o.length<4?console.error("RouteBezierCurveLogic request 4 contol points as data!"):(this.p0=o[0].position,this.p1=o[1].position,this.p2=o[2].position,this.p3=o[3].position,t&&("1"==t[0]||("2"===t[0]?(this.p0.x=-this.p0.x,this.p1.x=-this.p1.x,this.p2.x=-this.p2.x,this.p3.x=-this.p3.x):"3"===t[0]?(this.p0.y=-this.p0.y,this.p1.y=-this.p1.y,this.p2.y=-this.p2.y,this.p3.y=-this.p3.y):"4"===t[0]&&(this.p0.x=-this.p0.x,this.p1.x=-this.p1.x,this.p2.x=-this.p2.x,this.p3.x=-this.p3.x,this.p0.y=-this.p0.y,this.p1.y=-this.p1.y,this.p2.y=-this.p2.y,this.p3.y=-this.p3.y))))},t.prototype.HandleGetApplyData=function(e){var t=this.CalculateCurve(e);return new i.RouteApplyData(t)},t.prototype.CalculateCurve=function(e){var t=3*(this.p1.x-this.p0.x),o=3*(this.p2.x-this.p1.x)-t,i=this.p3.x-this.p0.x-t-o,n=3*(this.p1.y-this.p0.y),r=3*(this.p2.y-this.p1.y)-n,a=this.p3.y-this.p0.y-n-r,s=i*Math.pow(e,3)+o*Math.pow(e,2)+t*e+this.p0.x,c=a*Math.pow(e,3)+r*Math.pow(e,2)+n*e+this.p0.y;return new cc.Vec3(s,c)},t}(e("./RouteLogic").RouteLogic);o.RouteBezierCurveLogic=n,cc._RF.pop()},{"../RouteData":"RouteData","./RouteLogic":"RouteLogic"}],RouteCustomLogic:[function(e,t,o){"use strict";cc._RF.push(t,"c8818tZfQFKEZmTsMakoMUm","RouteCustomLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleInit=function(e,t){this.logicExecutionComponent=e.RouteData,this.logicExecutionComponent.HandlePreExecute()},t.prototype.HandleGetApplyData=function(e){return this.logicExecutionComponent.HandleApplyProgress(e)},t=__decorate([r],t)}(i.RouteLogic));o.default=a,cc._RF.pop()},{"./RouteLogic":"RouteLogic"}],"RouteDataCaptureController ":[function(e,t,o){"use strict";cc._RF.push(t,"101353c6wBHD5R3iutkDBzG","RouteDataCaptureController "),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteDataCaptureExecutor"),n=e("../RouteManager"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(){function e(e,t){this.targetMethod=e,this.routeDataList=t}return Object.defineProperty(e.prototype,"TargetMethod",{get:function(){return this.targetMethod},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RouteDataList",{get:function(){return this.routeDataList},enumerable:!0,configurable:!0}),e=__decorate([a("ControllerCapturedRouteData")],e)}();o.ControllerCapturedRouteData=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.capturerReferences=[],t}return __extends(t,e),t.prototype.onLoad=function(){n.RouteManager.Instance.ApplyCapturedData(this.CaptureRouteDatas())},t.prototype.CaptureRouteDatas=function(){for(var e=[],t=0;t<this.capturerReferences.length;t++)e.push(new c(this.capturerReferences[t].BindedMethod,this.capturerReferences[t].CaptureRouteData()));return e},__decorate([s(i.default)],t.prototype,"capturerReferences",void 0),t=__decorate([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../RouteManager":"RouteManager","./RouteDataCaptureExecutor":"RouteDataCaptureExecutor"}],RouteDataCaptureExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"8676dJ4UiZDR4Ngl1jkmy+C","RouteDataCaptureExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../RouteData/RouteData"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(){function e(e,t,o){this.dataId=e,this.totalDuration=t,this.routeData=o}return Object.defineProperty(e.prototype,"DataId",{get:function(){return this.dataId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalDuration",{get:function(){return this.totalDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RouteData",{get:function(){return this.routeData},enumerable:!0,configurable:!0}),e=__decorate([r("CapturedRouteData")],e)}();o.CapturedRouteData=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.routeMethod=i.RouteMethod.None,t}return __extends(t,e),Object.defineProperty(t.prototype,"BindedMethod",{get:function(){return this.routeMethod},enumerable:!0,configurable:!0}),__decorate([a({type:cc.Enum(i.RouteMethod)})],t.prototype,"routeMethod",void 0),t=__decorate([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../RouteData/RouteData":"RouteData"}],RouteData:[function(e,t,o){"use strict";cc._RF.push(t,"f5af1fHMHJHXqzFDCiJog2U","RouteData"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("./RouteLogic/RouteBezierCurveLogic"),r=e("./RouteLogic/RouteFixedPointLogic"),a=e("./RouteLogic/RouteLinearLogic"),s=e("./RouteLogic/RouteGenericLogic");(function(e){e[e.None=0]="None",e[e.Linear=1]="Linear",e[e.FixPoint=2]="FixPoint",e[e.BezierCurve=3]="BezierCurve",e[e.Generic=4]="Generic",e[e.Custom=5]="Custom"})(i=o.RouteMethod||(o.RouteMethod={}));var c=function(){function e(e){this.position=void 0,this.position=e}return Object.defineProperty(e.prototype,"Position",{get:function(){return this.position},enumerable:!0,configurable:!0}),e}();o.RouteApplyData=c;var l=function(){function e(e,t,o,n){this.routeMethod=i.None,this.methodId=0,this.overrideDuration=0,this.parameters=void 0,this.routeMethod=e,this.methodId=t,this.overrideDuration=o,this.parameters=n}return Object.defineProperty(e.prototype,"RouteMethod",{get:function(){return this.routeMethod},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MethodId",{get:function(){return this.methodId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OverrideDuration",{get:function(){return this.overrideDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Parameters",{get:function(){return this.parameters},enumerable:!0,configurable:!0}),e}();o.RouteMethodExecuteData=l;var u=function(){function e(e,t){this.targetApplier=e,this.methodExecuteData=t}return Object.defineProperty(e.prototype,"TargetApplier",{get:function(){return this.targetApplier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MethodExecuteData",{get:function(){return this.methodExecuteData},enumerable:!0,configurable:!0}),e}();o.ApplierExecuteData=u;var p=function(){function e(e,t){this.applierData=e,this.capturedRouteData=t}return Object.defineProperty(e.prototype,"ApplierData",{get:function(){return this.applierData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CapturedRouteData",{get:function(){return this.capturedRouteData},enumerable:!0,configurable:!0}),e}();o.RouteSetupData=p;var d=function(){function e(e){var t=this;switch(this.bindedLogic=null,this.capturedRouteData=null,this.totalDuration=0,this.GetApplyData=function(e){return null===t.bindedLogic?null:t.bindedLogic.GetApplyData(e)},e.ApplierData.MethodExecuteData.RouteMethod){case i.BezierCurve:this.bindedLogic=new n.RouteBezierCurveLogic(e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.FixPoint:this.bindedLogic=new r.default(e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.Linear:this.bindedLogic=new a.default(e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters);break;case i.Generic:this.bindedLogic=new s.default(e.CapturedRouteData,e.ApplierData.MethodExecuteData.Parameters)}this.capturedRouteData=e.CapturedRouteData,0!==e.ApplierData.MethodExecuteData.OverrideDuration?this.totalDuration=e.ApplierData.MethodExecuteData.OverrideDuration:this.totalDuration=this.capturedRouteData.TotalDuration}return Object.defineProperty(e.prototype,"CapturedRouteData",{get:function(){return this.capturedRouteData},enumerable:!0,configurable:!0}),e.prototype.GetTotalDuration=function(){return this.totalDuration},e}();o.BaseRouteData=d,cc._RF.pop()},{"./RouteLogic/RouteBezierCurveLogic":"RouteBezierCurveLogic","./RouteLogic/RouteFixedPointLogic":"RouteFixedPointLogic","./RouteLogic/RouteGenericLogic":"RouteGenericLogic","./RouteLogic/RouteLinearLogic":"RouteLinearLogic"}],RouteFixedPointLogic:[function(e,t,o){"use strict";cc._RF.push(t,"d8675oE1fVCQr0K/ztO4fWi","RouteFixedPointLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=e("../RouteData"),r=cc._decorator,a=(r.ccclass,r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleInit=function(e){var t=e.RouteData;if(void 0===t||t.length<2)console.error("RouteFixedPointLogic request 2 points as data!");else{this.pointDatas=[];for(var o=0,i=[],n=0;n<t.length;n++)if(n!=t.length-1){var r=t[n+1].position.sub(t[n].position).mag();i.push(r),o+=r}var a=0;for(n=0;n<t.length;n++){var c=n===t.length-1?1:a/o;this.pointDatas.push(new s(t[n].position,c)),a+=i[n]}}},t.prototype.HandleGetApplyData=function(e){for(var t=0,o=this.pointDatas.length-1;o>=0;o--)if(e>this.pointDatas[o].AccumulatedProgressPoint){t=o;break}var i=(e-this.pointDatas[t].AccumulatedProgressPoint)/(this.pointDatas[t+1].AccumulatedProgressPoint-this.pointDatas[t].AccumulatedProgressPoint),r=this.pointDatas[t].Point,a=this.pointDatas[t+1].Point,s=new cc.Vec3(cc.misc.lerp(r.x,a.x,i),cc.misc.lerp(r.y,a.y,i),0);return new n.RouteApplyData(s)},t}(i.RouteLogic));o.default=a;var s=function(){function e(e,t){this.point=void 0,this.accumulatedProgressPoint=void 0,this.point=e,this.accumulatedProgressPoint=t}return Object.defineProperty(e.prototype,"Point",{get:function(){return this.point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AccumulatedProgressPoint",{get:function(){return this.accumulatedProgressPoint},enumerable:!0,configurable:!0}),e}();cc._RF.pop()},{"../RouteData":"RouteData","./RouteLogic":"RouteLogic"}],RouteGenericLogic:[function(e,t,o){"use strict";cc._RF.push(t,"2d85etyKH1EiYHT9FcKXZmI","RouteGenericLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("./RouteLogic"),r=e("../RouteData"),a=cc._decorator,s=a.ccclass,c=a.property;(function(e){e[e.Wait=0]="Wait",e[e.Move=1]="Move"})(i=o.GenericRouteActionType||(o.GenericRouteActionType={}));var l=function(){function e(){this.actionType=i.Wait,this.dataParameter="",this.duration=0}return Object.defineProperty(e.prototype,"ActionType",{get:function(){return this.actionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataParameter",{get:function(){return this.dataParameter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),__decorate([c({type:cc.Enum(i)})],e.prototype,"actionType",void 0),__decorate([c()],e.prototype,"dataParameter",void 0),__decorate([c()],e.prototype,"duration",void 0),e=__decorate([s("GenericRouteActionData")],e)}();o.GenericRouteActionData=l;var u=function(){function e(){this.actionDatas=[]}return Object.defineProperty(e.prototype,"ActionDatas",{get:function(){return this.actionDatas},enumerable:!0,configurable:!0}),__decorate([c(l)],e.prototype,"actionDatas",void 0),e=__decorate([s("GenericRouteData")],e)}();o.GenericRouteData=u;var p=function(){function e(e,t,o,i){this.startProgress=0,this.endProgress=0,this.startProgress=e,this.endProgress=t,this.actionType=o,this.convertedActionParameter=i}return Object.defineProperty(e.prototype,"StartProgress",{get:function(){return this.startProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndProgress",{get:function(){return this.endProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ActionType",{get:function(){return this.actionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConvertedActionParameter",{get:function(){return this.convertedActionParameter},enumerable:!0,configurable:!0}),e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleInit=function(e,t){this.executeDatas=[];for(var o=e.RouteData,n=0,r=e.TotalDuration,a=0;a<o.ActionDatas.length;a++){var s=o.ActionDatas[a],c=null;if(s.ActionType===i.Move){var l=JSON.parse(s.DataParameter);(c={}).from=new cc.Vec2(l.from.x,l.from.y),c.to=new cc.Vec2(l.to.x,l.to.y)}this.executeDatas.push(new p(n/r,(n+s.Duration)/r,s.ActionType,c)),n+=s.Duration}},t.prototype.HandleGetApplyData=function(e){for(var t=null,o=0,n=0;n<this.executeDatas.length;n++)if(e>=this.executeDatas[n].StartProgress&&e<=this.executeDatas[n].EndProgress){t=this.executeDatas[n],o=n;break}var a=cc.Vec2.ZERO;if(t.ActionType===i.Wait){for(var s=o-1;s>=0&&this.executeDatas[s].ActionType!=i.Move;)s--;-1!=s&&(a=this.executeDatas[s].ConvertedActionParameter.to)}else if(t.ActionType===i.Move){var c=(e-t.StartProgress)/(t.EndProgress-t.StartProgress);a=new cc.Vec2(cc.misc.lerp(t.ConvertedActionParameter.from.x,t.ConvertedActionParameter.to.x,c),cc.misc.lerp(t.ConvertedActionParameter.from.y,t.ConvertedActionParameter.to.y,c))}return new r.RouteApplyData(new cc.Vec3(a.x,a.y))},t=__decorate([s],t)}(n.RouteLogic);o.default=d,cc._RF.pop()},{"../RouteData":"RouteData","./RouteLogic":"RouteLogic"}],RouteLinearLogic:[function(e,t,o){"use strict";cc._RF.push(t,"207800Lk9NID7IFnrtFoZFR","RouteLinearLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteLogic"),n=e("../RouteData"),r=cc._decorator,a=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.HandleInit=function(e){var t=e.RouteData;this.fromPoint=t[0],this.toPoint=t[1]},t.prototype.HandleGetApplyData=function(e){return new n.RouteApplyData(new cc.Vec3(cc.misc.lerp(this.fromPoint.x,this.toPoint.x,e),cc.misc.lerp(this.fromPoint.y,this.toPoint.y,e),0))},t=__decorate([a],t)}(i.RouteLogic));o.default=s,cc._RF.pop()},{"../RouteData":"RouteData","./RouteLogic":"RouteLogic"}],RouteLogic:[function(e,t,o){"use strict";cc._RF.push(t,"42303SyvBpIHpb67LE/aTSC","RouteLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e,t){this.capturedRouteData=e,this.HandleInit(e,t)}return Object.defineProperty(e.prototype,"CapturedRouteData",{get:function(){return this.capturedRouteData},enumerable:!0,configurable:!0}),e.prototype.GetApplyData=function(e){return this.HandleGetApplyData(e)},e}();o.RouteLogic=i,cc._RF.pop()},{}],RouteManager:[function(e,t,o){"use strict";cc._RF.push(t,"37fdbzLTdZP1a8w9knlD4mn","RouteManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./RouteData/RouteData"),n=function(){function e(){this.capturedRouteData=[],this.appliers=[],this.executionSpeed=1}return Object.defineProperty(e,"Instance",{get:function(){return e.instance||(e.instance=new e),e.instance},enumerable:!0,configurable:!0}),e.prototype.ApplyCapturedData=function(e){this.capturedRouteData=e},e.prototype.GetCapturedRouteData=function(e,t){for(var o=0;o<this.capturedRouteData.length;o++)if(this.capturedRouteData[o].TargetMethod===e)for(var n=0;n<this.capturedRouteData[o].RouteDataList.length;n++)if(this.capturedRouteData[o].RouteDataList[n].DataId===t)return this.capturedRouteData[o].RouteDataList[n];return console.error("Failed to get route data for method: "+i.RouteMethod[e]+", id :"+t),null},e.prototype.ExecuteApplier=function(e){null!=e&&(this.appliers.push(e.TargetApplier),e.TargetApplier.ExecutePath(new i.BaseRouteData(new i.RouteSetupData(e,this.GetCapturedRouteData(e.MethodExecuteData.RouteMethod,e.MethodExecuteData.MethodId)))),e.TargetApplier.SetExecutionSpeed(this.executionSpeed))},e.prototype.StopApplierExecution=function(e){for(var t=this.appliers.length-1;t>=0;t--)this.appliers[t]==e&&(this.appliers[t].StopExecution(),this.appliers.splice(t,1))},e.prototype.SetExecutionSpeed=function(e){this.executionSpeed=e;for(var t=0;t<this.appliers.length;t++)this.appliers[t].SetExecutionSpeed(e)},e.instance=null,e}();o.RouteManager=n,cc._RF.pop()},{"./RouteData/RouteData":"RouteData"}],SeatBetAmountPanel:[function(e,t,o){"use strict";cc._RF.push(t,"17791Kny7pOO5oXOdNjmuE1","SeatBetAmountPanel"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.availableBetAmount=[10,20,50,100,150,200,300,500,1e3,2e3,5e3,1e4],t.betAmountLabel=void 0,t.increaseBetbutton=void 0,t.decreaseBetButton=void 0,t.betAmountUpdatedCallback=void 0,t.betAmountIndex=0,t.betAmount=0,t.HandleIncreaseBetButtonClicked=function(){t.betAmountIndex++,t.betAmountIndex>=t.availableBetAmount.length&&(t.betAmountIndex=0),t.UpdateBetAmount(t.availableBetAmount[t.betAmountIndex])},t.HandleDecreaseBetButtonClicked=function(){t.betAmountIndex--,t.betAmountIndex<0&&(t.betAmountIndex=t.availableBetAmount.length-1),t.UpdateBetAmount(t.availableBetAmount[t.betAmountIndex])},t}return __extends(t,e),Object.defineProperty(t.prototype,"BetAmount",{get:function(){return this.betAmount},enumerable:!0,configurable:!0}),t.prototype.Setup=function(){void 0!==this.betAmountLabel?void 0!==this.increaseBetbutton?void 0!==this.decreaseBetButton?0!==this.availableBetAmount.length?(this.increaseBetbutton.node.on("click",this.HandleIncreaseBetButtonClicked),this.decreaseBetButton.node.on("click",this.HandleDecreaseBetButtonClicked)):i.default.Instance.Error(this,"availableBetAmount is empty!"):i.default.Instance.Error(this,"decreaseBetButton is missing!"):i.default.Instance.Error(this,"increaseBetbutton is missing!"):i.default.Instance.Error(this,"betAmountLabel is missing!")},t.prototype.RegisterBetAmountUpdatedCallback=function(e){this.betAmountUpdatedCallback=e},t.prototype.Enable=function(e){this.node.active=!0,this.AssignBetAmountIndex(e),this.UpdateBetAmount(e)},t.prototype.Disable=function(){this.node.active=!1},t.prototype.SetInteractable=function(e){this.increaseBetbutton.interactable=e,this.decreaseBetButton.interactable=e},t.prototype.UpdateBetAmount=function(e){this.betAmount=e,this.betAmountLabel.string=e.toString(),void 0!==this.betAmountUpdatedCallback&&this.betAmountUpdatedCallback(this.betAmount,this.betAmountIndex)},t.prototype.AssignBetAmountIndex=function(e){for(var t=0;t<this.availableBetAmount.length;t++)this.availableBetAmount[t]==e&&(this.betAmountIndex=t)},__decorate([a(Number)],t.prototype,"availableBetAmount",void 0),__decorate([a(cc.Label)],t.prototype,"betAmountLabel",void 0),__decorate([a(cc.Button)],t.prototype,"increaseBetbutton",void 0),__decorate([a(cc.Button)],t.prototype,"decreaseBetButton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager"}],SeatController:[function(e,t,o){"use strict";cc._RF.push(t,"4ffac+DiBJEYrDUzLDIGYts","SeatController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./SeatNode"),n=e("../../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatSample=void 0,t.generatedSeats=[],t.localPlayerSeatIndex=-1,t.requestFireAction=void 0,t.RequestFire=function(e){void 0!==t.requestFireAction&&t.requestFireAction(e)},t.requestHitAction=void 0,t.RequestHit=function(e){void 0!==t.requestHitAction&&t.requestHitAction(e)},t}return __extends(t,e),t.prototype.Setup=function(){this.SetupSeats()},t.prototype.HandlePlayerPressOnClickField=function(e){this.generatedSeats[this.localPlayerSeatIndex].HandleStartPressRequest(e)},t.prototype.HandlePlayerPressingOnClickField=function(e){this.generatedSeats[this.localPlayerSeatIndex].HandlePressingRequest(e)},t.prototype.HandlePlayerRelaseOnClickField=function(){this.generatedSeats[this.localPlayerSeatIndex].HandleStopPressRequest()},t.prototype.SetupSeats=function(){this.seatSample.node.active=!1,this.GenerateSeat(new cc.Vec2(-1,-1)),this.GenerateSeat(new cc.Vec2(1,-1)),this.GenerateSeat(new cc.Vec2(-1,1)),this.GenerateSeat(new cc.Vec2(1,1))},t.prototype.SeatIn=function(e,t){e&&(this.localPlayerSeatIndex=t.SeatId-1),this.generatedSeats[t.SeatId-1].SeatIn(e,t)},t.prototype.SeatOut=function(e){var t=this.GetSeatNodeByPlayerId(e.PlayerId);null!=t&&t.SeatOut()},t.prototype.GenerateSeat=function(e){var t=cc.instantiate(this.seatSample.node).getComponent(i.default);t.node.parent=this.node,t.node.active=!0,t.Setup(e),t.RegisterRequestFireAction(this.RequestFire),t.RegisterRequestHitAction(this.RequestHit),this.generatedSeats.push(t)},t.prototype.GetAllSeatedSeatNodes=function(){for(var e=[],t=0;t<this.generatedSeats.length;t++)this.generatedSeats[t].IsSeated&&e.push(this.generatedSeats[t]);return e},t.prototype.GetSeatNodeByPlayerId=function(e){for(var t=0;t<this.generatedSeats.length;t++)if(this.generatedSeats[t].GetPlayerId()===e)return this.generatedSeats[t];return null},t.prototype.GetLocalPlayerSeatNode=function(){return-1!=this.localPlayerSeatIndex?this.generatedSeats[this.localPlayerSeatIndex]:(n.default.Instance.Error(this,"Trying to get local player seat node when no valid local index available!"),null)},t.prototype.RegisterRequestFireAction=function(e){this.requestFireAction=e},t.prototype.HandleFireRequest=function(e,t){var o=this.GetSeatNodeByPlayerId(e.PlayerId);null!==o&&(t||e.PlayerId!=this.GetLocalPlayerSeatNode().GetPlayerId()?o.HandleFireWeaponRequest(e):this.GetLocalPlayerSeatNode().UpdateCoinBalance(e.Balance))},t.prototype.RegisterRequestHitAction=function(e){this.requestHitAction=e},t.prototype.UpdateSeatCreditBalance=function(e,t){var o=this.GetSeatNodeByPlayerId(e);null!=o&&o.UpdateCoinBalance(t)},t.prototype.HandleSeatWeaponStatusUpdate=function(e,t){var o=this.GetSeatNodeByPlayerId(e);null!=o&&o.HandleWeaponStatusUpdate(t)},__decorate([s(i.default)],t.prototype,"seatSample",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","./SeatNode":"SeatNode"}],SeatNode:[function(e,t,o){"use strict";cc._RF.push(t,"7d82c7ingNBY45d8Q4NuCUV","SeatNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./SeatBetAmountPanel"),n=e("./SeatPlayerInfoPanel"),r=e("../../Network/NetworkGameDataController"),a=e("./Weapon/SeatWeaponHolder"),s=e("./WinIndicator/SeatWinIndicatorGenerator"),c=e("../../Core/FishLogManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emptySeatNode=void 0,t.seatInfo=null,t.isLocalPlayer=!1,t.isSeated=!1,t.requestFireAction=void 0,t.RequestFire=function(e,o,i){void 0!==t.requestFireAction&&(t.playerInfoPanel.CoinBalance<t.betAmountPanel.BetAmount||t.requestFireAction(new r.NetworkFireWeaponRequestData(t.GetPlayerId(),e,o,t.betAmountPanel.BetAmount,i)))},t.requestHitAction=void 0,t.RequestHit=function(e){void 0!==t.requestHitAction&&t.requestHitAction(e)},t.weaponHolder=void 0,t.betAmountPanel=void 0,t.OnBeatAmountUpdated=function(e,o){t.weaponHolder.HandleBetAmountUpdated(e,o)},t.playerInfoPanel=void 0,t.winIndicatorGenerator=void 0,t.activateLockIds=[],t.controlLocked=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"IsLocalPlayer",{get:function(){return this.isLocalPlayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSeated",{get:function(){return this.isSeated},enumerable:!0,configurable:!0}),t.prototype.Setup=function(e){this.SetupDirectionDimension(e),this.SetupWeaponHolder(),this.SetupBetAmountPanel(),this.SetupPlayerInfoPanel(),this.SetupWinIndicator(),void 0!==this.emptySeatNode&&(this.emptySeatNode.active=!1)},t.prototype.SetupDirectionDimension=function(e){this.weaponHolder.node.position=new cc.Vec3(this.weaponHolder.node.position.x*-e.x,this.weaponHolder.node.position.y*-e.y),this.weaponHolder.node.scaleY=-e.y,this.betAmountPanel.node.position=new cc.Vec3(this.betAmountPanel.node.position.x*-e.x,this.betAmountPanel.node.position.y*-e.y),this.playerInfoPanel.node.position=new cc.Vec3(this.playerInfoPanel.node.position.x*-e.x,this.playerInfoPanel.node.position.y*-e.y)},t.prototype.SeatIn=function(e,t){this.isSeated=!0,this.seatInfo=t,this.isLocalPlayer=e,this.betAmountPanel.Enable(t.PreviousBet),this.weaponHolder.Enable(t.WeaponType,t.WeaponAngle),this.weaponHolder.SetLocalPlayerStatus(e),this.playerInfoPanel.Enable(t.PlayerName,t.Balance),this.winIndicatorGenerator.HandlePlayerSeatIn(t,e)},t.prototype.SeatOut=function(){this.isLocalPlayer=!1,this.seatInfo=null,this.isSeated=!1,this.winIndicatorGenerator.HandlePlayerSeatOut(),this.betAmountPanel.Disable(),this.weaponHolder.Disable(),this.playerInfoPanel.Disable()},t.prototype.GetPlayerId=function(){return null!==this.seatInfo?this.seatInfo.PlayerId:-1},t.prototype.GetBetAmount=function(){return this.betAmountPanel.BetAmount},t.prototype.RegisterRequestFireAction=function(e){this.requestFireAction=e},t.prototype.HandleFireWeaponRequest=function(e){this.weaponHolder.HandleFireWeaponRequest(e),-1!=e.Balance&&this.UpdateCoinBalance(e.Balance)},t.prototype.RegisterRequestHitAction=function(e){this.requestHitAction=e},t.prototype.HandleStartPressRequest=function(e){this.controlLocked||this.weaponHolder.StartFireWeapon(e)},t.prototype.HandlePressingRequest=function(e){this.controlLocked||this.weaponHolder.FiringWeapon(e)},t.prototype.HandleStopPressRequest=function(){this.weaponHolder.StopFireWeapon()},Object.defineProperty(t.prototype,"WeaponHolder",{get:function(){return this.weaponHolder},enumerable:!0,configurable:!0}),t.prototype.SetupWeaponHolder=function(){void 0===this.weaponHolder&&(this.weaponHolder=this.getComponentInChildren(a.default)),this.weaponHolder.Setup(),this.weaponHolder.Disable(),this.weaponHolder.RegisterSendFireWeaponRequestAction(this.RequestFire),this.weaponHolder.RegisterSendHitRequestAction(this.RequestHit)},t.prototype.SetupBetAmountPanel=function(){void 0===this.betAmountPanel&&(this.betAmountPanel=this.getComponentInChildren(i.default)),this.betAmountPanel.Setup(),this.betAmountPanel.RegisterBetAmountUpdatedCallback(this.OnBeatAmountUpdated),this.betAmountPanel.Disable()},t.prototype.SetupPlayerInfoPanel=function(){void 0===this.playerInfoPanel&&(this.playerInfoPanel=this.getComponentInChildren(n.default)),this.playerInfoPanel.Setup(),this.playerInfoPanel.Disable()},t.prototype.UpdateCoinBalance=function(e){this.playerInfoPanel.UpdateCoinBalance(e)},t.prototype.HandleWeaponStatusUpdate=function(e){this.weaponHolder.HandleWeaponUpdate(e)},t.prototype.SetupWinIndicator=function(){void 0===this.winIndicatorGenerator&&(this.winIndicatorGenerator=this.getComponentInChildren(s.default)),void 0!==this.winIndicatorGenerator&&null!==this.winIndicatorGenerator?this.winIndicatorGenerator.Setup():c.default.Instance.Error(this,"winIndicatorGenerator is missing!")},t.prototype.SetControlLockStatus=function(e,t){e?this.LockControl(t):this.UnlockControl(t)},t.prototype.LockControl=function(e){this.activateLockIds.indexOf(e)>=0||(this.activateLockIds.push(e),1==this.activateLockIds.length&&(this.controlLocked=!0,this.betAmountPanel.SetInteractable(!1)))},t.prototype.UnlockControl=function(e){var t=this.activateLockIds.indexOf(e);t<0||(this.activateLockIds.splice(t,1),0==this.activateLockIds.length&&(this.controlLocked=!1,this.betAmountPanel.SetInteractable(!0)))},__decorate([p(cc.Node)],t.prototype,"emptySeatNode",void 0),__decorate([p(a.default)],t.prototype,"weaponHolder",void 0),__decorate([p(i.default)],t.prototype,"betAmountPanel",void 0),__decorate([p(n.default)],t.prototype,"playerInfoPanel",void 0),__decorate([p(s.default)],t.prototype,"winIndicatorGenerator",void 0),t=__decorate([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager","../../Network/NetworkGameDataController":"NetworkGameDataController","./SeatBetAmountPanel":"SeatBetAmountPanel","./SeatPlayerInfoPanel":"SeatPlayerInfoPanel","./Weapon/SeatWeaponHolder":"SeatWeaponHolder","./WinIndicator/SeatWinIndicatorGenerator":"SeatWinIndicatorGenerator"}],SeatPlayerInfoPanel:[function(e,t,o){"use strict";cc._RF.push(t,"740dfMjajVEeIVQ7Ehl3glQ","SeatPlayerInfoPanel"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/FishLogManager"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerNameLabel=void 0,t.coinBalanceLabel=void 0,t.coinBalance=0,t}return __extends(t,e),t.prototype.Setup=function(){void 0!==this.playerNameLabel?void 0!==this.coinBalanceLabel||i.default.Instance.Error(this,"coinBalanceLabel is missing!"):i.default.Instance.Error(this,"playerNameLabel is missing!")},t.prototype.Enable=function(e,t){this.node.active=!0,this.playerNameLabel.string=e,this.UpdateCoinBalance(t)},t.prototype.Disable=function(){this.node.active=!1},Object.defineProperty(t.prototype,"CoinBalance",{get:function(){return this.coinBalance},enumerable:!0,configurable:!0}),t.prototype.UpdateCoinBalance=function(e){this.coinBalance=e,this.coinBalanceLabel.string=e.toString()},__decorate([a(cc.Label)],t.prototype,"playerNameLabel",void 0),__decorate([a(cc.Label)],t.prototype,"coinBalanceLabel",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../Core/FishLogManager":"FishLogManager"}],SeatWeaponHolder:[function(e,t,o){"use strict";cc._RF.push(t,"261411atM9J541wIEOTx9yt","SeatWeaponHolder"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseWeapon"),n=e("../../../Core/FishLogManager"),r=e("./Gun/CommonGun"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(){function e(){this.weaponType=0,this.weapon=void 0}return Object.defineProperty(e.prototype,"WeaponType",{get:function(){return this.weaponType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Weapon",{get:function(){return this.weapon},enumerable:!0,configurable:!0}),e.prototype.Setup=function(e){this.weapon.Setup(this.weaponType),this.weapon.RegisterDirectionNode(e)},__decorate([c()],e.prototype,"weaponType",void 0),__decorate([c(i.default)],e.prototype,"weapon",void 0),e=__decorate([s("SeatWeaponProperties")],e)}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponProperties=[],t.selectedWeaponIndex=-1,t.sendFireRequestAction=void 0,t.sendHitRequestAction=void 0,t.SendFireWeaponRequest=function(e,o){void 0!==t.sendFireRequestAction&&t.sendFireRequestAction(e,t.node.angle,o)},t.SendHitRequest=function(e){void 0!==t.sendHitRequestAction&&t.sendHitRequestAction(e)},t}return __extends(t,e),t.prototype.Setup=function(){this.weaponPosition=new cc.Vec2(this.node.position.x,this.node.position.y);for(var e=0;e<this.weaponProperties.length;e++)this.weaponProperties[e].Setup(this.node),this.weaponProperties[e].Weapon.RegisterFireWeaponRequestAction(this.SendFireWeaponRequest),this.weaponProperties[e].Weapon.RegisterSendHitRequestAction(this.SendHitRequest)},t.prototype.SetLocalPlayerStatus=function(e){for(var t=0;t<this.weaponProperties.length;t++)this.weaponProperties[t].Weapon.SetIsLocalPlayer(e)},t.prototype.Enable=function(e,t){this.node.active=!0,this.node.rotation=t,this.SelectWeapon(e)},t.prototype.Disable=function(){this.SetLocalPlayerStatus(!1),this.CleanUpAllWeapon(),this.node.active=!1},t.prototype.RegisterSendFireWeaponRequestAction=function(e){this.sendFireRequestAction=e},t.prototype.RegisterSendHitRequestAction=function(e){this.sendHitRequestAction=e},t.prototype.HandleFireWeaponRequest=function(e){this.node.angle=e.WeaponAngle,-1!==this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.HandleFireWeaponRequest(e)},t.prototype.HandleBetAmountUpdated=function(e,t){for(var o=0;o<this.weaponProperties.length;o++)this.weaponProperties[o].Weapon.HandleBetAmountUpdated(e,t)},t.prototype.GetCurrentWeapon=function(){return-1!=this.selectedWeaponIndex?this.weaponProperties[this.selectedWeaponIndex].Weapon:(n.default.Instance.Error(this,"Trying to get current weapon while no valid selectedWeaponIndex avgailable!"),null)},t.prototype.GetAllSpawnedBullets=function(){for(var e=[],t=0;t<this.weaponProperties.length;t++){var o=this.weaponProperties[t].Weapon.getComponent(r.CommonGun);null!=o&&(e=e.concat(o.GetAllSpawnedBullets()))}return e},t.prototype.StartFireWeapon=function(e){this.UpdateHolderAngle(e),-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.StartFireWeapon(e)},t.prototype.FiringWeapon=function(e){this.UpdateHolderAngle(e),-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.FiringWeapon(e)},t.prototype.StopFireWeapon=function(){-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.StopFireWeapon()},t.prototype.HandleWeaponUpdate=function(e){-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].WeaponType==e||this.SelectWeapon(e)},t.prototype.UnSelectCurrentWeapon=function(){-1!=this.selectedWeaponIndex&&(this.weaponProperties[this.selectedWeaponIndex].Weapon.SetUnSelected(),this.selectedWeaponIndex=-1)},t.prototype.SelectWeapon=function(e){-1!=this.selectedWeaponIndex&&this.weaponProperties[this.selectedWeaponIndex].Weapon.SetUnSelected();for(var t=0;t<this.weaponProperties.length;t++)if(this.weaponProperties[t].WeaponType==e){this.weaponProperties[t].Weapon.SetSelected(),this.selectedWeaponIndex=t;break}},t.prototype.CleanUpAllWeapon=function(){for(var e=0;e<this.weaponProperties.length;e++)this.weaponProperties[e].Weapon.CleanUpWeapon()},t.prototype.UpdateHolderAngle=function(e){var t=e.sub(this.weaponPosition);this.node.angle=-this.CalculateRotation(t)},t.prototype.CalculateRotation=function(e){return-(Math.atan2(e.y,e.x)/Math.PI*180-90)},__decorate([c(l)],t.prototype,"weaponProperties",void 0),t=__decorate([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Core/FishLogManager":"FishLogManager","./BaseWeapon":"BaseWeapon","./Gun/CommonGun":"CommonGun"}],SeatWinIndicatorGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"902b7Qs0p1AR61LGn31xERl","SeatWinIndicatorGenerator"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Utils/CommonDataHelper"),n=e("../../../Core/FishLogManager"),r=e("../../../Core/Event"),a=e("./BaseSeatWinIndicatorNode"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(){function e(){this.targetFishTypes=[],this.indicatorPool=void 0}return Object.defineProperty(e.prototype,"TargetFishTypes",{get:function(){return this.targetFishTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Pool",{get:function(){return this.indicatorPool},enumerable:!0,configurable:!0}),__decorate([l(Number)],e.prototype,"targetFishTypes",void 0),__decorate([l(i.CommonNodePoolHandler)],e.prototype,"indicatorPool",void 0),e=__decorate([c("SeatWinIndicatorProperties")],e)}();o.SeatWinIndicatorProperties=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatWinIndicatorProperties=[],t.onlyGenerateForLocalPlayer=!1,t.seatInfo=null,t.isLocalPlayer=!1,t.HandleOnFishDeath=function(e){if(void 0!==t.seatInfo&&null!==t.seatInfo){var o=e.detail;if((!t.onlyGenerateForLocalPlayer||t.isLocalPlayer)&&t.seatInfo.PlayerId===o.StatusInfo.PlayerId){var i=t.GetProperties(o.TargetFish.FishType);if(null!==i){var n=i.Pool.AcquireNode().getComponent(a.default);n.node.setParent(t.node),n.node.setPosition(cc.Vec3.ZERO),n.HandleSpawnIndicator(o,t.isLocalPlayer),t.OnIndiactorSpawned(n,o,isLocalPlayer)}}}},t}return __extends(t,e),t.prototype.Setup=function(){for(var e=0;e<this.seatWinIndicatorProperties.length;e++)if(this.seatWinIndicatorProperties[e].Pool.Setup(),null===this.seatWinIndicatorProperties[e].Pool.Nodesample.getComponent(a.default))return void n.default.Instance.Error(this,"Missing indicator object for pool sample!");addEventListener(r.FishEvent.Fish_Death,this.HandleOnFishDeath)},t.prototype.HandlePlayerSeatIn=function(e,t){this.seatInfo=e,this.isLocalPlayer=t},t.prototype.HandlePlayerSeatOut=function(){this.seatInfo=null,this.isLocalPlayer=!1},t.prototype.GetProperties=function(e){for(var t=0;t<this.seatWinIndicatorProperties.length;t++)for(var o=0;o<this.seatWinIndicatorProperties[t].TargetFishTypes.length;o++)if(this.seatWinIndicatorProperties[t].TargetFishTypes[o]==e)return this.seatWinIndicatorProperties[t];return null},t.prototype.OnIndiactorSpawned=function(e,t,o){},__decorate([l(u)],t.prototype,"seatWinIndicatorProperties",void 0),__decorate([l],t.prototype,"onlyGenerateForLocalPlayer",void 0),t=__decorate([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Core/Event":"Event","../../../Core/FishLogManager":"FishLogManager","../../../Utils/CommonDataHelper":"CommonDataHelper","./BaseSeatWinIndicatorNode":"BaseSeatWinIndicatorNode"}],Shaker:[function(e,t,o){"use strict";cc._RF.push(t,"80d6921GJVN8Lz6mgicBsGI","Shaker"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iterateAngleMin=0,t.iterateAngleMax=0,t.iterateRadiusMin=0,t.iterateRadiusMax=0,t.intervalMin=0,t.intervalMax=0,t.intervalCheckOffset=0,t.currAngle=0,t.endTracker=-1,t}return __extends(t,e),t.prototype.StartShake=function(e){var t=this;this.shaking||(this.originPos=new cc.Vec2(this.node.position.x,this.node.position.y)),-1!=this.endTracker&&clearTimeout(this.endTracker),this.SetShake(!0),this.endTracker=setTimeout(function(){t.StopShake()},1e3*e)},t.prototype.StopShake=function(){this.SetShake(!1)},t.prototype.SetShake=function(e){this.shaking=e,this.shaking?this.PerformShake():this.ResetPos()},t.prototype.update=function(e){this.shaking&&(this.intervalCounter>=this.nextInterval+this.intervalCheckOffset&&(this.PerformShake(),this.intervalCounter=0),this.intervalCounter+=e)},t.prototype.ResetPos=function(){this.node.position=new cc.Vec3(this.originPos.x,this.originPos.y)},t.prototype.PerformShake=function(){this.CaptureNextInterval(),this.currAngle+=cc.misc.lerp(this.iterateAngleMin,this.iterateAngleMax,Math.random());var e=this.GetDirectionVector(this.currAngle).mul(cc.misc.lerp(this.iterateRadiusMin,this.iterateRadiusMax,Math.random()));this.node.runAction(cc.moveTo(this.nextInterval,this.originPos.add(e)))},t.prototype.CaptureNextInterval=function(){this.intervalCounter=0,this.nextInterval=cc.misc.lerp(this.intervalMin,this.intervalMax,Math.random())},t.prototype.GetDirectionVector=function(e){return e*=2*Math.PI/360,new cc.Vec2(Math.sin(e),Math.cos(e))},__decorate([r],t.prototype,"iterateAngleMin",void 0),__decorate([r],t.prototype,"iterateAngleMax",void 0),__decorate([r],t.prototype,"iterateRadiusMin",void 0),__decorate([r],t.prototype,"iterateRadiusMax",void 0),__decorate([r],t.prototype,"intervalMin",void 0),__decorate([r],t.prototype,"intervalMax",void 0),__decorate([r],t.prototype,"intervalCheckOffset",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],SkeletonHelper:[function(e,t,o){"use strict";cc._RF.push(t,"920742D9rpCnooKDAoe/qqs","SkeletonHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeletonComponent=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.CaptureSkeletonComponent()},t.prototype.LoopAnimation=function(e){this.skeletonComponent.setAnimation(0,e,!0)},t.prototype.PlayAnimationOnce=function(e){this.skeletonComponent.setAnimation(0,e,!1)},t.prototype.CaptureSkeletonComponent=function(){this.skeletonComponent=this.getComponent(sp.Skeleton)},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],Socket:[function(e,t,o){"use strict";cc._RF.push(t,"f4060ioYkNLnITT0AWvqtkF","Socket");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("AESEncrypt"));function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}var s=function(){function e(){n(this,e),this.curState=0,this.host="",this.port=0,this.token="",this.aes="",this.initState(),this.dm,this.ip="",this.port=0,this.manualClose=!1,this.lastReqTime=null}return a(e,[{key:"initState",value:function(){this.fsm=new c,this.fsm.addTransition(p,f,m),this.fsm.addTransition(f,y,S),this.fsm.addTransition(f,h,C),this.fsm.addTransition(h,f,S),this.fsm.addTransition(y,g,S),this.fsm.addTransition(y,h,C),this.fsm.addTransition(g,v,S),this.fsm.addTransition(g,h,C),this.fsm.addTransition(v,p,_),this.fsm.setInitialState(p)}},{key:"checkVersion",value:function(e,t){this.dm=t;var o=cc.loader.getXMLHttpRequest();o.open("POST",e),o.setRequestHeader("Content-Type","Application/json"),o.target=this,o.send("Test"),o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<=207){o.statusText;var e=o.responseText;o.target.onComplete(e)}else o.status<200&&o.status}}},{key:"onComplete",value:function(e){this.dm.receiveVersionData(e)}},{key:"loginToServer",value:function(e,t,o,i,n,r){console.log("Login to Server"),this.fsm.applyTransition(m),this.ip=n,this.port=r,o=(o=o)+"username="+e+"&password="+t;var a=cc.loader.getXMLHttpRequest(),s="Test";null!=i&&(s=i,o+="&nickname=1"),a.open("POST",o),a.setRequestHeader("Content-Type","Application/json"),a.send(s),a.target=this,a.onreadystatechange=function(){if(4==a.readyState&&a.status>=200&&a.status<=207){a.statusText;var e=a.responseText;a.target.loginComplete(e)}}}},{key:"loginComplete",value:function(e){this.verifyToken(e)}},{key:"verifyToken",value:function(e){console.log("verifyToken :::  "+e);var t=JSON.parse(e);"-1"==t?this.loginFail(F.ERROR_LOGIN_VERI):"-2"==t?(this.loginFail(F.ERROR_REQUIRE_NICKNAME),this.fsm.setInitialState(p)):"-3"==t?(this.loginFail(F.ERROR_CREATE_NICKNAME),this.fsm.setInitialState(p)):"-4"==t?this.loginFail(F.ERROR_SUSPENDED):"-5"==t?this.loginFail(F.ERROR_NO_PERMISSION):"-6"==t?this.loginFail(F.ERROR_SPECIAL_FIRST_LOGIN):"-1"==(e=t[0])?this.loginFail(F.ERROR_LOGIN_VERI):"-2"==e?(this.loginFail(F.ERROR_REQUIRE_NICKNAME),this.fsm.setInitialState(p)):"-3"==e?(this.loginFail(F.ERROR_CREATE_NICKNAME),this.fsm.setInitialState(p)):"-4"==e?this.loginFail(F.ERROR_SUSPENDED):"-5"==e?this.loginFail(F.ERROR_NO_PERMISSION):"-6"==e?this.loginFail(F.ERROR_SPECIAL_FIRST_LOGIN):(this.fsm.applyTransition(S),this.token=t[0],this.dm.onLoginSuccess(),this.wsConnect(this.ip,this.port))}},{key:"loginToToken",value:function(e,t,o,i){this.dm=i,this.fsm.applyTransition(m),this.fsm.applyTransition(S),this.token=e,this.dm.onLoginSuccess(),this.wsConnect(t,o)}},{key:"wsConnect",value:function(e,t){var o="";o=null!=t?"ws://"+e+":"+t+"/websocket":"ws://"+e+"/websocket",this.connectWs(o)}},{key:"onReceiveToken",value:function(e){null!=e?this.verifyTokenData(e,this.tokenURL):this.dm.onDisconnect(this.nettyError,this.nettyMsg)}},{key:"loginFail",value:function(e){this.fsm.applyTransition(C),this.dm.onLoginFail(e)}},{key:"OnGetIOError",value:function(e){this.fsm.getCurState()==d?(this.dm.onLoginFail(erMsg),this.dm.onCheckVersionFail()):this.fsm.getCurState()==f&&(this.dm.onLoginFail(erMsg),this.dm.onLoginFail(F.ERROR_LOGIN_LINK)),this.fsm.applyTransition(C)}},{key:"connectWs",value:function(e){console.log("connectWs :: "+e),console.log("this.token :: "+this.token),this.aes=new i.default(this.token),console.log("this.aes :: "+this.aes);var t=e;this.ws=new WebSocket(t),this.ws.onopen=function(e){this.ws.send(this.token),this.onSocketOpen()}.bind(this),this.ws.onmessage=function(e){this.onSocketMessage(e.data)}.bind(this),this.ws.onerror=function(e){this.onSocketError(e)}.bind(this),this.ws.onclose=function(e){this.onSocketClose(e)}.bind(this)}},{key:"onSocketOpen",value:function(){console.log("onSocketOpen"),this.fsm.applyTransition(S),this.dm.onConnectWsSuccess()}},{key:"onSocketClose",value:function(e){console.log("onSocketClose "+e),this.manualClose?this.manualClose=!1:(this.fsm.getCurState()==y?(this.fsm.setInitialState(p),this.dm.onConnectWsFail()):this.fsm.getCurState()==g?(this.fsm.setInitialState(p),this.dm.onVerifyFail()):(this.fsm.setInitialState(p),this.dm.onDisconnect(this.nettyError,this.nettyMsg)),this.stopPing(),this.resetWsConnect())}},{key:"onSocketError",value:function(e){console.log(e),this.receiveNettyMsg(b.TIME_OUT,data),this.resetWsConnect()}},{key:"onSocketMessage",value:function(e){if("netty::0"==e)return this.receiveNettyMsg(b.ERROR_GS_DUP,e),void this.resetWsConnect();if("netty::-1"==e)return this.receiveNettyMsg(b.ERROR_GS_VERI,e),void this.resetWsConnect();try{if(""!=this.token){var t=this.aes.decrypt(e,this.token);this.processIncomingMessage(t)}}catch(e){}}},{key:"processIncomingMessage",value:function(e){return"netty::0"==e?(this.receiveNettyMsg(b.ERROR_GS_DUP,e),void this.resetWsConnect()):"netty::-1"==e?(this.receiveNettyMsg(b.ERROR_GS_VERI,e),void this.resetWsConnect()):"netty::-2"==e?(this.receiveNettyMsg(b.SESSION_EXPIRED,e),void this.resetWsConnect()):"netty::-3"==e?(this.receiveNettyMsg(b.FORCE_OUT,e),void this.resetWsConnect()):"netty::-4"==e?(this.receiveNettyMsg(b.TIME_OUT,e),void this.resetWsConnect()):(this.fsm.getCurState()==g&&(this.fsm.applyTransition(S),this.dm.onVerifySuccess(),this.startPing()),void this.dm.onReceiveMsg(e))}},{key:"receiveNettyMsg",value:function(e,t){console.log("receiveNettyMsg "+e),this.fsm.getCurState()==g&&(this.fsm.applyTransition(C),this.dm.onVerifyFail()),this.nettyError=e,this.nettyMsg=t,this.ws.close(),this.stopPing()}},{key:"sendData",value:function(e){var t=e;""!=this.token&&this.fsm.getCurState()==v&&(this.aes.token=this.token,t=this.aes.encrypt(e)),this.ws.send(t)}},{key:"startPing",value:function(){console.log("startPing"),void 0===this.checker&&(this.checker=setInterval(function(){var e=JSON.stringify({id:"0",actionId:"1"}),t=this.aes.encrypt(e);this.ws.readyState===WebSocket.OPEN?(this.ws.send(t),this.dm.onReceivePing()):(console.log("socket is down"),this.stopPing())}.bind(this),5e3))}},{key:"stopPing",value:function(){this.checker&&(clearInterval(this.checker),this.checker=void 0)}},{key:"resetWsConnect",value:function(){this.token="",this.stopPing(),this.ws.close(),this.fsm.applyTransition(_)}},{key:"manualResetWs",value:function(){this.manualClose=!0,this.token="",this.stopPing(),this.ws.close(),this.fsm.setInitialState(p)}}]),e}(),c=function(){function e(){n(this,e),this.stateDict={},this.curState="",this.fsmTarget=u}return a(e,[{key:"setupCallBack",value:function(e){this.fsmTarget.state=e}},{key:"setInitialState",value:function(e){this.curState=e}},{key:"getCurState",value:function(){return this.curState}},{key:"addTransition",value:function(e,t,o){var i;null==this.stateDict[e]?((i=new l(e)).addState(t,o),this.stateDict[e]=i):((i=this.stateDict[e]).addState(t,o),this.stateDict[i]=i)}},{key:"applyTransition",value:function(e){if(""!=this.curState){this.curState;this.curState=this.stateDict[this.curState].applyTransition(e),null!=this.fsmTarget.state&&(this.fsmTarget.state=this.curState)}}}]),e}(),l=function(){function e(t){n(this,e),this.transDict={},this.stateName="",this.stateName=t}return a(e,[{key:"addState",value:function(e,t){null==this.transDict[t]&&(this.transDict[t]=e)}},{key:"applyTransition",value:function(e){var t=this.stateName;return null!=this.transDict[e]&&(t=this.transDict[e]),t}},{key:"checkTransition",value:function(e){}}]),e}(),u=function e(){n(this,e),this.state=void 0},p="init",d="checkingVersion",h="readyLogin",f="logining",y="connectingWs",g="verifying",v="readyToPlay",m="login",S="success",C="fail",_="disconnect",F={ERROR_LOGIN_VERI:0,ERROR_REQUIRE_NICKNAME:1,ERROR_CREATE_NICKNAME:2,ERROR_SUSPENDED:3,ERROR_NO_PERMISSION:4,ERROR_SPECIAL_FIRST_LOGIN:5,ERROR_LOGIN_LINK:6},b={ERROR_GS_DUP:0,ERROR_GS_VERI:1,SESSION_EXPIRED:2,FORCE_OUT:3,TIME_OUT:4},P=function(){};P.client=function(){return void 0===this.instance&&(this.instance=new s),this.instance},t.exports=P.client(),cc._RF.pop()},{AESEncrypt:"AESEncrypt"}],SpecialFishPresenterController:[function(e,t,o){"use strict";cc._RF.push(t,"b6b06LS9XlATZxukuz5TlDH","SpecialFishPresenterController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Core/Event"),n=e("./BaseSpecialFishPresenter"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.presenters=[],t.HandleOnActivated=function(e){var o=t.GetExecutor(e.detail.FishType);null!=o&&o.HandleOnSpawn(e.detail)},t.HandleOnDeath=function(e){var o=t.GetExecutor(e.detail.TargetFish.FishType);null!=o&&o.HandleOnDeath(e.detail)},t}return __extends(t,e),t.prototype.onLoad=function(){addEventListener(i.FishEvent.Fish_Activated,this.HandleOnActivated),addEventListener(i.FishEvent.Fish_Death,this.HandleOnDeath);for(var e=0;e<this.presenters.length;e++)this.presenters[e].Setup()},t.prototype.GetExecutor=function(e){for(var t=0;t<this.presenters.length;t++)for(var o=this.presenters[t].TargetFishTypes,i=0;i<o.length;i++)if(o[i]==e)return this.presenters[t];return null},__decorate([s(n.default)],t.prototype,"presenters",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../Core/Event":"Event","./BaseSpecialFishPresenter":"BaseSpecialFishPresenter"}],StandardLoadingController:[function(e,t,o){"use strict";cc._RF.push(t,"4a78686jmlHgKSdMC5xMK7m","StandardLoadingController"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./LoadingController"),n=e("../Core/FishLogManager"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteImage=void 0,t.fadeDuration=.3,t}return __extends(t,e),t.prototype.ShowLoading=function(){void 0===this.spriteImage&&n.default.Instance.Error(this,"missing spriteImage"),!1===this.node.active&&(this.node.active=!0),!1===this.spriteImage.node.active&&(this.spriteImage.node.active=!0),this.node.opacity=255,this.spriteImage.node.opacity=255},t.prototype.HideLoading=function(){var e=this;this.spriteImage.node.runAction(cc.fadeTo(this.fadeDuration,0)),setTimeout(function(){e.node.active=!1},this.fadeDuration)},__decorate([s(cc.Sprite)],t.prototype,"spriteImage",void 0),__decorate([s],t.prototype,"fadeDuration",void 0),t=__decorate([a],t)}(i.default);o.default=c,cc._RF.pop()},{"../Core/FishLogManager":"FishLogManager","./LoadingController":"LoadingController"}],TestRota:[function(e,t,o){"use strict";cc._RF.push(t,"d3d2aNSaqhFwp4drdccQjFg","TestRota"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.samplePref=null,t.controlPoints=[],t}return __extends(t,e),t.prototype.start=function(){var e=-this.CalculateRotation(new cc.Vec2(.845125,.405493));this.node.rotation=e},t.prototype.CalculateRotation=function(e){return Math.atan2(e.y,e.x)/Math.PI*180-90},__decorate([r(cc.Node)],t.prototype,"samplePref",void 0),__decorate([r(cc.Node)],t.prototype,"controlPoints",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["AudioController","AudioSource","BaseBackgroundController","Event","FishLogManager","GameController","GameStageController","BaseFish","CommonFish","CommonGroupSpawnHandler","FishCollider","FishGroupSpawnHandler","FishManager","BaseSpecialFishPresenter","SpecialFishPresenterController","BaseSpecialGroupExecutor","ChildNodeAnimationSpecialGroupExecutor","ChildNodeFormationRouteSpecialGroupExecutor","ChildNodeRoutineActiveSpecialGroupExecutor","LoadingController","StandardLoadingController","BaseMenuController","LeftRightPositionDrivenDirectionUpdater","PositionDrivenDirectionUpdater","DataManager","NetworkGameDataController","AESEncrypt","Socket","ClickField","BaseCollectCoinObject","BaseCollectCoinSpawner","CollectCoinController","BasePayoutObject","CommonPayoutObject","PayoutObjectController","PlayerManager","SeatBetAmountPanel","SeatController","SeatNode","SeatPlayerInfoPanel","BaseWeapon","BaseBullet","BulletWallCollider","ProjectileBullet","CommonGun","BaseExplosion","CommonExplosion","BaseMuzzle","CommonMuzzle","Hiter","SeatWeaponHolder","BaseSeatWinIndicatorNode","SeatWinIndicatorGenerator","BaseRouteApplier","ApplierTestHelper","BezierCurveDataCapturer","CustomLogicDataCapturer","FixPointDataCapturer","GenericDataCapturer","LinearDataCapturer","RouteDataCaptureController ","RouteDataCaptureExecutor","RouteData","RouteBaseCustomExecuteLogic","RouteBezierCurveLogic","RouteCustomLogic","RouteFixedPointLogic","RouteGenericLogic","RouteLinearLogic","RouteLogic","RouteManager","TestRota","AnimationHelper","CommonDataHelper","Shaker","SkeletonHelper","Configuration","FishWarBackgroundController","FishWarAwakeningDragonFish","FishWarCommonFish","FishWarCrabFish","FishWarDragonWheelFish","FishWarFireStormFish","FishWarGhostShipFish","FishWarGoldenToadFish","FishWarLongWangFish","FishWarMonkeyKingFish","FishWarThunderHammerFish","FishWarCrabGroupExecutor","LongWangGroupExecutor","FishWarFishAudioController","FishWarMenuController","FishWarInfoPanelController","FishWarInfoPanelTab","FishWarClickField","FishWarCoinSpawner","FishWarPayoutObject","FishWarPlayerBalanceBarWinAmountJumper","FishWarWinIndicatorGenerator","FishWarWinIndicatorNode","FishWarAwakeningDragonPresenter","FishWarAzureStonePresenter ","FishWarDragonWheelPresenter","FishWarFireStormPresenter","FishWarGhostShipPresenter","FishWarMonkeyKingPresenter","FishWarSpecialFishEnterancePresenter","FishWarThunderHammerPresenter","FishWarUtilityAimFishIndicator","FishWarUtilityAutoPanel","FishWarUtilityAutoPanelNode","FishWarUtilityController","FishWarUtilityLightningCollider","FishWarUtilityNode","FishWarCommonGun","FishWarFireStormGun"]);